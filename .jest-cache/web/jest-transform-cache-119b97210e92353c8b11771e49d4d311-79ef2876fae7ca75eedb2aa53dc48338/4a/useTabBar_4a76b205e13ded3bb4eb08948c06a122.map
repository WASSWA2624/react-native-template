{"version":3,"names":["React","useRouter","usePathname","useAuth","cov_1gde1fqfr8","s","useTabBar","_ref","arguments","length","undefined","b","_ref$items","items","f","router","pathname","_ref2","user","isAuthenticated","userRole","role","isTabActive","item","href","startsWith","isTabVisible","roles","includes","handleTabPress","push","onPress","filteredItems","useMemo","filter"],"sources":["useTabBar.js"],"sourcesContent":["/**\r\n * useTabBar Hook\r\n * Shared logic for TabBar component\r\n * File: useTabBar.js\r\n */\r\nimport React from 'react';\r\nimport { useRouter, usePathname } from 'expo-router';\r\nimport { useAuth } from '@hooks';\r\n\r\n/**\r\n * TabBar hook\r\n * @param {Object} options - Hook options\r\n * @param {Array} options.items - Tab items\r\n * @returns {Object} TabBar state and handlers\r\n */\r\nconst useTabBar = ({ items = [] } = {}) => {\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const { user, isAuthenticated } = useAuth();\r\n\r\n  const userRole = user?.role || 'buyer';\r\n\r\n  const isTabActive = (item) => {\r\n    if (!item.href) return false;\r\n    return pathname === item.href || pathname.startsWith(item.href + '/');\r\n  };\r\n\r\n  const isTabVisible = (item) => {\r\n    // Check role-based visibility\r\n    if (item.roles && item.roles.length > 0) {\r\n      if (!isAuthenticated) return false;\r\n      return item.roles.includes(userRole);\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const handleTabPress = (item) => {\r\n    if (item.href) {\r\n      router.push(item.href);\r\n    }\r\n    if (item.onPress) {\r\n      item.onPress(item);\r\n    }\r\n  };\r\n\r\n  const filteredItems = React.useMemo(() => {\r\n    return items.filter(isTabVisible);\r\n  }, [items, userRole, isAuthenticated]);\r\n\r\n  return {\r\n    userRole,\r\n    isAuthenticated,\r\n    pathname,\r\n    filteredItems,\r\n    isTabActive,\r\n    handleTabPress,\r\n  };\r\n};\r\n\r\nexport default useTabBar;\r\n\r\n"],"mappings":"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","ignoreList":[]}