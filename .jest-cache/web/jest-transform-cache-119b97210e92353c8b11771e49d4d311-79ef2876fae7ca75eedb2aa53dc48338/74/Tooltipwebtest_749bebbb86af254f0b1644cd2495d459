ba1371c512b70276308e4c409625ba8a
_getJestObj().mock("../../../hooks", function () {
  return {
    useI18n: function useI18n() {
      return {
        t: function t(key) {
          var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
          var keys = key.split('.');
          var value = mockEnTranslations;
          for (var k of keys) {
            var _value;
            value = (_value = value) == null ? void 0 : _value[k];
          }
          if (typeof value === 'string' && params) {
            return value.replace(/\{\{(\w+)\}\}/g, function (match, paramKey) {
              return params[paramKey] !== undefined ? String(params[paramKey]) : match;
            });
          }
          return value || key;
        },
        locale: 'en'
      };
    }
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _react = _interopRequireDefault(require("react"));
var _react2 = require("@testing-library/react");
var _styledComponents = require("styled-components");
var _Tooltip = _interopRequireDefault(require("../../../platform/components/feedback/Tooltip/Tooltip.web"));
var _Tooltip2 = require("../../../platform/components/feedback/Tooltip");
var _light = _interopRequireDefault(require("../../../theme/light.theme"));
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var mockEnTranslations = require("../../../i18n/locales/en.json");
var renderWebWithTheme = function renderWebWithTheme(component) {
  return (0, _react2.render)((0, _jsxRuntime.jsx)(_styledComponents.ThemeProvider, {
    theme: _light.default,
    children: component
  }));
};
describe('Tooltip Component - Web', function () {
  beforeEach(function () {
    jest.useFakeTimers();
  });
  afterEach(function () {
    jest.runOnlyPendingTimers();
    jest.useRealTimers();
  });
  describe('Rendering', function () {
    it('should render web tooltip when visible', function () {
      var _renderWebWithTheme = renderWebWithTheme((0, _jsxRuntime.jsx)(_Tooltip.default, {
          visible: true,
          text: "Web Tooltip",
          testID: "tooltip-web"
        })),
        getByTestId = _renderWebWithTheme.getByTestId;
      expect(getByTestId('tooltip-web')).toBeTruthy();
    });
    it('should not render when visible is false', function () {
      var _renderWebWithTheme2 = renderWebWithTheme((0, _jsxRuntime.jsx)(_Tooltip.default, {
          visible: false,
          text: "Web Tooltip",
          testID: "tooltip-web"
        })),
        queryByTestId = _renderWebWithTheme2.queryByTestId;
      expect(queryByTestId('tooltip-web')).toBeNull();
    });
  });
  describe('Accessibility', function () {
    it('should have role="tooltip" on web', function () {
      var _renderWebWithTheme3 = renderWebWithTheme((0, _jsxRuntime.jsx)(_Tooltip.default, {
          visible: true,
          text: "Web Tooltip",
          testID: "tooltip-web"
        })),
        getByTestId = _renderWebWithTheme3.getByTestId;
      var tooltip = getByTestId('tooltip-web');
      expect(tooltip.getAttribute('role')).toBe('tooltip');
    });
    it('should have aria-label on web', function () {
      var _renderWebWithTheme4 = renderWebWithTheme((0, _jsxRuntime.jsx)(_Tooltip.default, {
          visible: true,
          text: "Web Tooltip",
          testID: "tooltip-web"
        })),
        getByTestId = _renderWebWithTheme4.getByTestId;
      var tooltip = getByTestId('tooltip-web');
      expect(tooltip.getAttribute('aria-label')).toBe('Web Tooltip');
    });
    it('should use custom accessibility label when provided', function () {
      var _renderWebWithTheme5 = renderWebWithTheme((0, _jsxRuntime.jsx)(_Tooltip.default, {
          visible: true,
          text: "Web Tooltip",
          accessibilityLabel: "Custom label",
          testID: "tooltip-web"
        })),
        getByTestId = _renderWebWithTheme5.getByTestId;
      var tooltip = getByTestId('tooltip-web');
      expect(tooltip.getAttribute('aria-label')).toBe('Custom label');
    });
    it('should support id prop for aria-describedby association', function () {
      var _renderWebWithTheme6 = renderWebWithTheme((0, _jsxRuntime.jsx)(_Tooltip.default, {
          visible: true,
          text: "Web Tooltip",
          id: "tooltip-1",
          testID: "tooltip-web"
        })),
        getByTestId = _renderWebWithTheme6.getByTestId;
      var tooltip = getByTestId('tooltip-web');
      expect(tooltip.getAttribute('id')).toBe('tooltip-1');
    });
  });
  describe('Web Focus Behavior', function () {
    it('should be associable with trigger element via aria-describedby', function () {
      var TestComponent = function TestComponent() {
        var _useTooltip = (0, _Tooltip2.useTooltip)({
            delay: 0
          }),
          visible = _useTooltip.visible,
          show = _useTooltip.show,
          hide = _useTooltip.hide;
        return (0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {
          children: [(0, _jsxRuntime.jsx)("button", {
            "data-testid": "trigger",
            onFocus: show,
            onBlur: hide,
            "aria-describedby": "tooltip-1",
            children: "Focus me"
          }), (0, _jsxRuntime.jsx)(_Tooltip.default, {
            visible: visible,
            text: "Tooltip text",
            id: "tooltip-1",
            testID: "tooltip-web"
          })]
        });
      };
      var _renderWebWithTheme7 = renderWebWithTheme((0, _jsxRuntime.jsx)(TestComponent, {})),
        getByTestId = _renderWebWithTheme7.getByTestId,
        queryByTestId = _renderWebWithTheme7.queryByTestId;
      var trigger = getByTestId('trigger');
      expect(trigger.getAttribute('aria-describedby')).toBe('tooltip-1');
      expect(queryByTestId('tooltip-web')).toBeNull();
      _react2.fireEvent.focus(trigger);
      (0, _react2.act)(function () {
        jest.advanceTimersByTime(0);
      });
      expect(getByTestId('tooltip-web')).toBeTruthy();
      _react2.fireEvent.blur(trigger);
      expect(queryByTestId('tooltip-web')).toBeNull();
    });
    it('should show tooltip on focus with delay', function () {
      var TestComponent = function TestComponent() {
        var _useTooltip2 = (0, _Tooltip2.useTooltip)({
            delay: 500
          }),
          visible = _useTooltip2.visible,
          show = _useTooltip2.show;
        return (0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {
          children: [(0, _jsxRuntime.jsx)("button", {
            "data-testid": "trigger",
            onFocus: show,
            "aria-describedby": "tooltip-1",
            children: "Focus me"
          }), (0, _jsxRuntime.jsx)(_Tooltip.default, {
            visible: visible,
            text: "Tooltip text",
            id: "tooltip-1",
            testID: "tooltip-web"
          })]
        });
      };
      var _renderWebWithTheme8 = renderWebWithTheme((0, _jsxRuntime.jsx)(TestComponent, {})),
        getByTestId = _renderWebWithTheme8.getByTestId,
        queryByTestId = _renderWebWithTheme8.queryByTestId;
      var trigger = getByTestId('trigger');
      expect(queryByTestId('tooltip-web')).toBeNull();
      _react2.fireEvent.focus(trigger);
      expect(queryByTestId('tooltip-web')).toBeNull();
      (0, _react2.act)(function () {
        jest.advanceTimersByTime(500);
      });
      expect(getByTestId('tooltip-web')).toBeTruthy();
    });
  });
  describe('Web Hover Behavior', function () {
    it('should show tooltip on hover', function () {
      var TestComponent = function TestComponent() {
        var _useTooltip3 = (0, _Tooltip2.useTooltip)({
            delay: 0
          }),
          visible = _useTooltip3.visible,
          show = _useTooltip3.show,
          hide = _useTooltip3.hide;
        return (0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {
          children: [(0, _jsxRuntime.jsx)("button", {
            "data-testid": "trigger",
            onMouseEnter: show,
            onMouseLeave: hide,
            "aria-describedby": "tooltip-1",
            children: "Hover me"
          }), (0, _jsxRuntime.jsx)(_Tooltip.default, {
            visible: visible,
            text: "Tooltip text",
            id: "tooltip-1",
            testID: "tooltip-web"
          })]
        });
      };
      var _renderWebWithTheme9 = renderWebWithTheme((0, _jsxRuntime.jsx)(TestComponent, {})),
        getByTestId = _renderWebWithTheme9.getByTestId,
        queryByTestId = _renderWebWithTheme9.queryByTestId;
      var trigger = getByTestId('trigger');
      expect(queryByTestId('tooltip-web')).toBeNull();
      _react2.fireEvent.mouseEnter(trigger);
      (0, _react2.act)(function () {
        jest.advanceTimersByTime(0);
      });
      expect(getByTestId('tooltip-web')).toBeTruthy();
      _react2.fireEvent.mouseLeave(trigger);
      expect(queryByTestId('tooltip-web')).toBeNull();
    });
    it('should show tooltip on hover with delay', function () {
      var TestComponent = function TestComponent() {
        var _useTooltip4 = (0, _Tooltip2.useTooltip)({
            delay: 500
          }),
          visible = _useTooltip4.visible,
          show = _useTooltip4.show;
        return (0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {
          children: [(0, _jsxRuntime.jsx)("button", {
            "data-testid": "trigger",
            onMouseEnter: show,
            "aria-describedby": "tooltip-1",
            children: "Hover me"
          }), (0, _jsxRuntime.jsx)(_Tooltip.default, {
            visible: visible,
            text: "Tooltip text",
            id: "tooltip-1",
            testID: "tooltip-web"
          })]
        });
      };
      var _renderWebWithTheme0 = renderWebWithTheme((0, _jsxRuntime.jsx)(TestComponent, {})),
        getByTestId = _renderWebWithTheme0.getByTestId,
        queryByTestId = _renderWebWithTheme0.queryByTestId;
      var trigger = getByTestId('trigger');
      expect(queryByTestId('tooltip-web')).toBeNull();
      _react2.fireEvent.mouseEnter(trigger);
      expect(queryByTestId('tooltip-web')).toBeNull();
      (0, _react2.act)(function () {
        jest.advanceTimersByTime(500);
      });
      expect(getByTestId('tooltip-web')).toBeTruthy();
    });
  });
  describe('Keyboard Navigation', function () {
    it('should support keyboard focus to show tooltip', function () {
      var TestComponent = function TestComponent() {
        var _useTooltip5 = (0, _Tooltip2.useTooltip)({
            delay: 0
          }),
          visible = _useTooltip5.visible,
          show = _useTooltip5.show,
          hide = _useTooltip5.hide;
        return (0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {
          children: [(0, _jsxRuntime.jsx)("button", {
            "data-testid": "trigger",
            onFocus: show,
            onBlur: hide,
            "aria-describedby": "tooltip-1",
            children: "Tab to focus"
          }), (0, _jsxRuntime.jsx)(_Tooltip.default, {
            visible: visible,
            text: "Tooltip text",
            id: "tooltip-1",
            testID: "tooltip-web"
          })]
        });
      };
      var _renderWebWithTheme1 = renderWebWithTheme((0, _jsxRuntime.jsx)(TestComponent, {})),
        getByTestId = _renderWebWithTheme1.getByTestId,
        queryByTestId = _renderWebWithTheme1.queryByTestId;
      var trigger = getByTestId('trigger');
      _react2.fireEvent.focus(trigger);
      (0, _react2.act)(function () {
        jest.advanceTimersByTime(0);
      });
      expect(getByTestId('tooltip-web')).toBeTruthy();
      _react2.fireEvent.blur(trigger);
      expect(queryByTestId('tooltip-web')).toBeNull();
    });
    it('should work with Enter key to focus trigger', function () {
      var TestComponent = function TestComponent() {
        var _useTooltip6 = (0, _Tooltip2.useTooltip)({
            delay: 0
          }),
          visible = _useTooltip6.visible,
          show = _useTooltip6.show,
          hide = _useTooltip6.hide;
        return (0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {
          children: [(0, _jsxRuntime.jsx)("button", {
            "data-testid": "trigger",
            onFocus: show,
            onBlur: hide,
            "aria-describedby": "tooltip-1",
            children: "Press Enter"
          }), (0, _jsxRuntime.jsx)(_Tooltip.default, {
            visible: visible,
            text: "Tooltip text",
            id: "tooltip-1",
            testID: "tooltip-web"
          })]
        });
      };
      var _renderWebWithTheme10 = renderWebWithTheme((0, _jsxRuntime.jsx)(TestComponent, {})),
        getByTestId = _renderWebWithTheme10.getByTestId,
        queryByTestId = _renderWebWithTheme10.queryByTestId;
      var trigger = getByTestId('trigger');
      _react2.fireEvent.keyDown(trigger, {
        key: 'Enter'
      });
      _react2.fireEvent.focus(trigger);
      (0, _react2.act)(function () {
        jest.advanceTimersByTime(0);
      });
      expect(getByTestId('tooltip-web')).toBeTruthy();
    });
  });
  describe('Positions', function () {
    it('should render at top position', function () {
      var _renderWebWithTheme11 = renderWebWithTheme((0, _jsxRuntime.jsx)(_Tooltip.default, {
          visible: true,
          position: _Tooltip2.POSITIONS.TOP,
          text: "Top",
          testID: "tooltip-web"
        })),
        getByTestId = _renderWebWithTheme11.getByTestId;
      expect(getByTestId('tooltip-web')).toBeTruthy();
    });
    it('should render at bottom position', function () {
      var _renderWebWithTheme12 = renderWebWithTheme((0, _jsxRuntime.jsx)(_Tooltip.default, {
          visible: true,
          position: _Tooltip2.POSITIONS.BOTTOM,
          text: "Bottom",
          testID: "tooltip-web"
        })),
        getByTestId = _renderWebWithTheme12.getByTestId;
      expect(getByTestId('tooltip-web')).toBeTruthy();
    });
    it('should render at left position', function () {
      var _renderWebWithTheme13 = renderWebWithTheme((0, _jsxRuntime.jsx)(_Tooltip.default, {
          visible: true,
          position: _Tooltip2.POSITIONS.LEFT,
          text: "Left",
          testID: "tooltip-web"
        })),
        getByTestId = _renderWebWithTheme13.getByTestId;
      expect(getByTestId('tooltip-web')).toBeTruthy();
    });
    it('should render at right position', function () {
      var _renderWebWithTheme14 = renderWebWithTheme((0, _jsxRuntime.jsx)(_Tooltip.default, {
          visible: true,
          position: _Tooltip2.POSITIONS.RIGHT,
          text: "Right",
          testID: "tooltip-web"
        })),
        getByTestId = _renderWebWithTheme14.getByTestId;
      expect(getByTestId('tooltip-web')).toBeTruthy();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJ1c2VJMThuIiwidCIsImtleSIsInBhcmFtcyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImtleXMiLCJzcGxpdCIsInZhbHVlIiwibW9ja0VuVHJhbnNsYXRpb25zIiwiayIsIl92YWx1ZSIsInJlcGxhY2UiLCJtYXRjaCIsInBhcmFtS2V5IiwiU3RyaW5nIiwibG9jYWxlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJkZWZhdWx0IiwiX3JlYWN0IiwiX3JlYWN0MiIsIl9zdHlsZWRDb21wb25lbnRzIiwiX1Rvb2x0aXAiLCJfVG9vbHRpcDIiLCJfbGlnaHQiLCJfanN4UnVudGltZSIsIl9yZXF1aXJlIiwiamVzdCIsInJlbmRlcldlYldpdGhUaGVtZSIsImNvbXBvbmVudCIsInJlbmRlciIsImpzeCIsIlRoZW1lUHJvdmlkZXIiLCJ0aGVtZSIsImxpZ2h0VGhlbWUiLCJjaGlsZHJlbiIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsInVzZUZha2VUaW1lcnMiLCJhZnRlckVhY2giLCJydW5Pbmx5UGVuZGluZ1RpbWVycyIsInVzZVJlYWxUaW1lcnMiLCJpdCIsIl9yZW5kZXJXZWJXaXRoVGhlbWUiLCJ2aXNpYmxlIiwidGV4dCIsInRlc3RJRCIsImdldEJ5VGVzdElkIiwiZXhwZWN0IiwidG9CZVRydXRoeSIsIl9yZW5kZXJXZWJXaXRoVGhlbWUyIiwicXVlcnlCeVRlc3RJZCIsInRvQmVOdWxsIiwiX3JlbmRlcldlYldpdGhUaGVtZTMiLCJ0b29sdGlwIiwiZ2V0QXR0cmlidXRlIiwidG9CZSIsIl9yZW5kZXJXZWJXaXRoVGhlbWU0IiwiX3JlbmRlcldlYldpdGhUaGVtZTUiLCJhY2Nlc3NpYmlsaXR5TGFiZWwiLCJfcmVuZGVyV2ViV2l0aFRoZW1lNiIsImlkIiwiVGVzdENvbXBvbmVudCIsIl91c2VUb29sdGlwIiwidXNlVG9vbHRpcCIsImRlbGF5Iiwic2hvdyIsImhpZGUiLCJqc3hzIiwiRnJhZ21lbnQiLCJvbkZvY3VzIiwib25CbHVyIiwiX3JlbmRlcldlYldpdGhUaGVtZTciLCJ0cmlnZ2VyIiwiZmlyZUV2ZW50IiwiZm9jdXMiLCJhY3QiLCJhZHZhbmNlVGltZXJzQnlUaW1lIiwiYmx1ciIsIl91c2VUb29sdGlwMiIsIl9yZW5kZXJXZWJXaXRoVGhlbWU4IiwiX3VzZVRvb2x0aXAzIiwib25Nb3VzZUVudGVyIiwib25Nb3VzZUxlYXZlIiwiX3JlbmRlcldlYldpdGhUaGVtZTkiLCJtb3VzZUVudGVyIiwibW91c2VMZWF2ZSIsIl91c2VUb29sdGlwNCIsIl9yZW5kZXJXZWJXaXRoVGhlbWUwIiwiX3VzZVRvb2x0aXA1IiwiX3JlbmRlcldlYldpdGhUaGVtZTEiLCJfdXNlVG9vbHRpcDYiLCJfcmVuZGVyV2ViV2l0aFRoZW1lMTAiLCJrZXlEb3duIiwiX3JlbmRlcldlYldpdGhUaGVtZTExIiwicG9zaXRpb24iLCJQT1NJVElPTlMiLCJUT1AiLCJfcmVuZGVyV2ViV2l0aFRoZW1lMTIiLCJCT1RUT00iLCJfcmVuZGVyV2ViV2l0aFRoZW1lMTMiLCJMRUZUIiwiX3JlbmRlcldlYldpdGhUaGVtZTE0IiwiUklHSFQiXSwic291cmNlcyI6WyJUb29sdGlwLndlYi50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBUb29sdGlwIENvbXBvbmVudCBXZWIgVGVzdHNcclxuICogRmlsZTogVG9vbHRpcC53ZWIudGVzdC5qc1xyXG4gKiBAamVzdC1lbnZpcm9ubWVudCBqc2RvbVxyXG4gKi9cclxuXHJcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IGZpcmVFdmVudCwgcmVuZGVyLCB3YWl0Rm9yLCBhY3QgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcclxuaW1wb3J0IHsgVGhlbWVQcm92aWRlciB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcclxuaW1wb3J0IFRvb2x0aXBXZWIgZnJvbSAnQHBsYXRmb3JtL2NvbXBvbmVudHMvZmVlZGJhY2svVG9vbHRpcC9Ub29sdGlwLndlYic7XHJcbmltcG9ydCB7IHVzZVRvb2x0aXAsIFBPU0lUSU9OUyB9IGZyb20gJ0BwbGF0Zm9ybS9jb21wb25lbnRzL2ZlZWRiYWNrL1Rvb2x0aXAnO1xyXG5pbXBvcnQgbGlnaHRUaGVtZSBmcm9tICdAdGhlbWUvbGlnaHQudGhlbWUnO1xyXG5cclxuLy8gTW9jayBpMThuIGhvb2tcclxuY29uc3QgbW9ja0VuVHJhbnNsYXRpb25zID0gcmVxdWlyZSgnQGkxOG4vbG9jYWxlcy9lbi5qc29uJyk7XHJcbmplc3QubW9jaygnQGhvb2tzJywgKCkgPT4gKHtcclxuICB1c2VJMThuOiAoKSA9PiAoe1xyXG4gICAgdDogKGtleSwgcGFyYW1zID0ge30pID0+IHtcclxuICAgICAgY29uc3Qga2V5cyA9IGtleS5zcGxpdCgnLicpO1xyXG4gICAgICBsZXQgdmFsdWUgPSBtb2NrRW5UcmFuc2xhdGlvbnM7XHJcbiAgICAgIGZvciAoY29uc3QgayBvZiBrZXlzKSB7XHJcbiAgICAgICAgdmFsdWUgPSB2YWx1ZT8uW2tdO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHBhcmFtcykge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKC9cXHtcXHsoXFx3KylcXH1cXH0vZywgKG1hdGNoLCBwYXJhbUtleSkgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIHBhcmFtc1twYXJhbUtleV0gIT09IHVuZGVmaW5lZCA/IFN0cmluZyhwYXJhbXNbcGFyYW1LZXldKSA6IG1hdGNoO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB2YWx1ZSB8fCBrZXk7XHJcbiAgICB9LFxyXG4gICAgbG9jYWxlOiAnZW4nLFxyXG4gIH0pLFxyXG59KSk7XHJcblxyXG5jb25zdCByZW5kZXJXZWJXaXRoVGhlbWUgPSAoY29tcG9uZW50KSA9PiB7XHJcbiAgcmV0dXJuIHJlbmRlcig8VGhlbWVQcm92aWRlciB0aGVtZT17bGlnaHRUaGVtZX0+e2NvbXBvbmVudH08L1RoZW1lUHJvdmlkZXI+KTtcclxufTtcclxuXHJcbmRlc2NyaWJlKCdUb29sdGlwIENvbXBvbmVudCAtIFdlYicsICgpID0+IHtcclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIGplc3QudXNlRmFrZVRpbWVycygpO1xyXG4gIH0pO1xyXG5cclxuICBhZnRlckVhY2goKCkgPT4ge1xyXG4gICAgamVzdC5ydW5Pbmx5UGVuZGluZ1RpbWVycygpO1xyXG4gICAgamVzdC51c2VSZWFsVGltZXJzKCk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdSZW5kZXJpbmcnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHJlbmRlciB3ZWIgdG9vbHRpcCB3aGVuIHZpc2libGUnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlcldlYldpdGhUaGVtZShcclxuICAgICAgICA8VG9vbHRpcFdlYiB2aXNpYmxlIHRleHQ9XCJXZWIgVG9vbHRpcFwiIHRlc3RJRD1cInRvb2x0aXAtd2ViXCIgLz5cclxuICAgICAgKTtcclxuICAgICAgZXhwZWN0KGdldEJ5VGVzdElkKCd0b29sdGlwLXdlYicpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIG5vdCByZW5kZXIgd2hlbiB2aXNpYmxlIGlzIGZhbHNlJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCB7IHF1ZXJ5QnlUZXN0SWQgfSA9IHJlbmRlcldlYldpdGhUaGVtZShcclxuICAgICAgICA8VG9vbHRpcFdlYiB2aXNpYmxlPXtmYWxzZX0gdGV4dD1cIldlYiBUb29sdGlwXCIgdGVzdElEPVwidG9vbHRpcC13ZWJcIiAvPlxyXG4gICAgICApO1xyXG4gICAgICBleHBlY3QocXVlcnlCeVRlc3RJZCgndG9vbHRpcC13ZWInKSkudG9CZU51bGwoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnQWNjZXNzaWJpbGl0eScsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgaGF2ZSByb2xlPVwidG9vbHRpcFwiIG9uIHdlYicsICgpID0+IHtcclxuICAgICAgY29uc3QgeyBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyV2ViV2l0aFRoZW1lKFxyXG4gICAgICAgIDxUb29sdGlwV2ViIHZpc2libGUgdGV4dD1cIldlYiBUb29sdGlwXCIgdGVzdElEPVwidG9vbHRpcC13ZWJcIiAvPlxyXG4gICAgICApO1xyXG4gICAgICBjb25zdCB0b29sdGlwID0gZ2V0QnlUZXN0SWQoJ3Rvb2x0aXAtd2ViJyk7XHJcbiAgICAgIGV4cGVjdCh0b29sdGlwLmdldEF0dHJpYnV0ZSgncm9sZScpKS50b0JlKCd0b29sdGlwJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhdmUgYXJpYS1sYWJlbCBvbiB3ZWInLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlcldlYldpdGhUaGVtZShcclxuICAgICAgICA8VG9vbHRpcFdlYiB2aXNpYmxlIHRleHQ9XCJXZWIgVG9vbHRpcFwiIHRlc3RJRD1cInRvb2x0aXAtd2ViXCIgLz5cclxuICAgICAgKTtcclxuICAgICAgY29uc3QgdG9vbHRpcCA9IGdldEJ5VGVzdElkKCd0b29sdGlwLXdlYicpO1xyXG4gICAgICBleHBlY3QodG9vbHRpcC5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnKSkudG9CZSgnV2ViIFRvb2x0aXAnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgdXNlIGN1c3RvbSBhY2Nlc3NpYmlsaXR5IGxhYmVsIHdoZW4gcHJvdmlkZWQnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlcldlYldpdGhUaGVtZShcclxuICAgICAgICA8VG9vbHRpcFdlYiB2aXNpYmxlIHRleHQ9XCJXZWIgVG9vbHRpcFwiIGFjY2Vzc2liaWxpdHlMYWJlbD1cIkN1c3RvbSBsYWJlbFwiIHRlc3RJRD1cInRvb2x0aXAtd2ViXCIgLz5cclxuICAgICAgKTtcclxuICAgICAgY29uc3QgdG9vbHRpcCA9IGdldEJ5VGVzdElkKCd0b29sdGlwLXdlYicpO1xyXG4gICAgICBleHBlY3QodG9vbHRpcC5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnKSkudG9CZSgnQ3VzdG9tIGxhYmVsJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHN1cHBvcnQgaWQgcHJvcCBmb3IgYXJpYS1kZXNjcmliZWRieSBhc3NvY2lhdGlvbicsICgpID0+IHtcclxuICAgICAgY29uc3QgeyBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyV2ViV2l0aFRoZW1lKFxyXG4gICAgICAgIDxUb29sdGlwV2ViIHZpc2libGUgdGV4dD1cIldlYiBUb29sdGlwXCIgaWQ9XCJ0b29sdGlwLTFcIiB0ZXN0SUQ9XCJ0b29sdGlwLXdlYlwiIC8+XHJcbiAgICAgICk7XHJcbiAgICAgIGNvbnN0IHRvb2x0aXAgPSBnZXRCeVRlc3RJZCgndG9vbHRpcC13ZWInKTtcclxuICAgICAgZXhwZWN0KHRvb2x0aXAuZ2V0QXR0cmlidXRlKCdpZCcpKS50b0JlKCd0b29sdGlwLTEnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnV2ViIEZvY3VzIEJlaGF2aW9yJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBiZSBhc3NvY2lhYmxlIHdpdGggdHJpZ2dlciBlbGVtZW50IHZpYSBhcmlhLWRlc2NyaWJlZGJ5JywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBUZXN0Q29tcG9uZW50ID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgdmlzaWJsZSwgc2hvdywgaGlkZSB9ID0gdXNlVG9vbHRpcCh7IGRlbGF5OiAwIH0pO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICA8PlxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9XCJ0cmlnZ2VyXCJcclxuICAgICAgICAgICAgICBvbkZvY3VzPXtzaG93fVxyXG4gICAgICAgICAgICAgIG9uQmx1cj17aGlkZX1cclxuICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwidG9vbHRpcC0xXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIEZvY3VzIG1lXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8VG9vbHRpcFdlYiB2aXNpYmxlPXt2aXNpYmxlfSB0ZXh0PVwiVG9vbHRpcCB0ZXh0XCIgaWQ9XCJ0b29sdGlwLTFcIiB0ZXN0SUQ9XCJ0b29sdGlwLXdlYlwiIC8+XHJcbiAgICAgICAgICA8Lz5cclxuICAgICAgICApO1xyXG4gICAgICB9O1xyXG4gICAgICBjb25zdCB7IGdldEJ5VGVzdElkLCBxdWVyeUJ5VGVzdElkIH0gPSByZW5kZXJXZWJXaXRoVGhlbWUoPFRlc3RDb21wb25lbnQgLz4pO1xyXG4gICAgICBjb25zdCB0cmlnZ2VyID0gZ2V0QnlUZXN0SWQoJ3RyaWdnZXInKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFZlcmlmeSBhcmlhLWRlc2NyaWJlZGJ5IGFzc29jaWF0aW9uXHJcbiAgICAgIGV4cGVjdCh0cmlnZ2VyLmdldEF0dHJpYnV0ZSgnYXJpYS1kZXNjcmliZWRieScpKS50b0JlKCd0b29sdGlwLTEnKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFRvb2x0aXAgc2hvdWxkIG5vdCBiZSB2aXNpYmxlIGluaXRpYWxseVxyXG4gICAgICBleHBlY3QocXVlcnlCeVRlc3RJZCgndG9vbHRpcC13ZWInKSkudG9CZU51bGwoKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEZvY3VzIHRyaWdnZXIgLSB0b29sdGlwIHNob3VsZCBhcHBlYXJcclxuICAgICAgZmlyZUV2ZW50LmZvY3VzKHRyaWdnZXIpO1xyXG4gICAgICBhY3QoKCkgPT4ge1xyXG4gICAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgwKTtcclxuICAgICAgfSk7XHJcbiAgICAgIGV4cGVjdChnZXRCeVRlc3RJZCgndG9vbHRpcC13ZWInKSkudG9CZVRydXRoeSgpO1xyXG4gICAgICBcclxuICAgICAgLy8gQmx1ciB0cmlnZ2VyIC0gdG9vbHRpcCBzaG91bGQgZGlzYXBwZWFyXHJcbiAgICAgIGZpcmVFdmVudC5ibHVyKHRyaWdnZXIpO1xyXG4gICAgICBleHBlY3QocXVlcnlCeVRlc3RJZCgndG9vbHRpcC13ZWInKSkudG9CZU51bGwoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgc2hvdyB0b29sdGlwIG9uIGZvY3VzIHdpdGggZGVsYXknLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IFRlc3RDb21wb25lbnQgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyB2aXNpYmxlLCBzaG93IH0gPSB1c2VUb29sdGlwKHsgZGVsYXk6IDUwMCB9KTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgPD5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwidHJpZ2dlclwiXHJcbiAgICAgICAgICAgICAgb25Gb2N1cz17c2hvd31cclxuICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwidG9vbHRpcC0xXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIEZvY3VzIG1lXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8VG9vbHRpcFdlYiB2aXNpYmxlPXt2aXNpYmxlfSB0ZXh0PVwiVG9vbHRpcCB0ZXh0XCIgaWQ9XCJ0b29sdGlwLTFcIiB0ZXN0SUQ9XCJ0b29sdGlwLXdlYlwiIC8+XHJcbiAgICAgICAgICA8Lz5cclxuICAgICAgICApO1xyXG4gICAgICB9O1xyXG4gICAgICBjb25zdCB7IGdldEJ5VGVzdElkLCBxdWVyeUJ5VGVzdElkIH0gPSByZW5kZXJXZWJXaXRoVGhlbWUoPFRlc3RDb21wb25lbnQgLz4pO1xyXG4gICAgICBjb25zdCB0cmlnZ2VyID0gZ2V0QnlUZXN0SWQoJ3RyaWdnZXInKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFRvb2x0aXAgc2hvdWxkIG5vdCBiZSB2aXNpYmxlIGluaXRpYWxseVxyXG4gICAgICBleHBlY3QocXVlcnlCeVRlc3RJZCgndG9vbHRpcC13ZWInKSkudG9CZU51bGwoKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEZvY3VzIHRyaWdnZXJcclxuICAgICAgZmlyZUV2ZW50LmZvY3VzKHRyaWdnZXIpO1xyXG4gICAgICBcclxuICAgICAgLy8gVG9vbHRpcCBzaG91bGQgbm90IGFwcGVhciBpbW1lZGlhdGVseVxyXG4gICAgICBleHBlY3QocXVlcnlCeVRlc3RJZCgndG9vbHRpcC13ZWInKSkudG9CZU51bGwoKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEFmdGVyIGRlbGF5LCB0b29sdGlwIHNob3VsZCBhcHBlYXJcclxuICAgICAgYWN0KCgpID0+IHtcclxuICAgICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoNTAwKTtcclxuICAgICAgfSk7XHJcbiAgICAgIGV4cGVjdChnZXRCeVRlc3RJZCgndG9vbHRpcC13ZWInKSkudG9CZVRydXRoeSgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdXZWIgSG92ZXIgQmVoYXZpb3InLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHNob3cgdG9vbHRpcCBvbiBob3ZlcicsICgpID0+IHtcclxuICAgICAgY29uc3QgVGVzdENvbXBvbmVudCA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCB7IHZpc2libGUsIHNob3csIGhpZGUgfSA9IHVzZVRvb2x0aXAoeyBkZWxheTogMCB9KTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgPD5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwidHJpZ2dlclwiXHJcbiAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXtzaG93fVxyXG4gICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17aGlkZX1cclxuICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwidG9vbHRpcC0xXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIEhvdmVyIG1lXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8VG9vbHRpcFdlYiB2aXNpYmxlPXt2aXNpYmxlfSB0ZXh0PVwiVG9vbHRpcCB0ZXh0XCIgaWQ9XCJ0b29sdGlwLTFcIiB0ZXN0SUQ9XCJ0b29sdGlwLXdlYlwiIC8+XHJcbiAgICAgICAgICA8Lz5cclxuICAgICAgICApO1xyXG4gICAgICB9O1xyXG4gICAgICBjb25zdCB7IGdldEJ5VGVzdElkLCBxdWVyeUJ5VGVzdElkIH0gPSByZW5kZXJXZWJXaXRoVGhlbWUoPFRlc3RDb21wb25lbnQgLz4pO1xyXG4gICAgICBjb25zdCB0cmlnZ2VyID0gZ2V0QnlUZXN0SWQoJ3RyaWdnZXInKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFRvb2x0aXAgc2hvdWxkIG5vdCBiZSB2aXNpYmxlIGluaXRpYWxseVxyXG4gICAgICBleHBlY3QocXVlcnlCeVRlc3RJZCgndG9vbHRpcC13ZWInKSkudG9CZU51bGwoKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEhvdmVyIHRyaWdnZXIgLSB0b29sdGlwIHNob3VsZCBhcHBlYXJcclxuICAgICAgZmlyZUV2ZW50Lm1vdXNlRW50ZXIodHJpZ2dlcik7XHJcbiAgICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDApO1xyXG4gICAgICB9KTtcclxuICAgICAgZXhwZWN0KGdldEJ5VGVzdElkKCd0b29sdGlwLXdlYicpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBMZWF2ZSB0cmlnZ2VyIC0gdG9vbHRpcCBzaG91bGQgZGlzYXBwZWFyXHJcbiAgICAgIGZpcmVFdmVudC5tb3VzZUxlYXZlKHRyaWdnZXIpO1xyXG4gICAgICBleHBlY3QocXVlcnlCeVRlc3RJZCgndG9vbHRpcC13ZWInKSkudG9CZU51bGwoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgc2hvdyB0b29sdGlwIG9uIGhvdmVyIHdpdGggZGVsYXknLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IFRlc3RDb21wb25lbnQgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyB2aXNpYmxlLCBzaG93IH0gPSB1c2VUb29sdGlwKHsgZGVsYXk6IDUwMCB9KTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgPD5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwidHJpZ2dlclwiXHJcbiAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXtzaG93fVxyXG4gICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJ0b29sdGlwLTFcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgSG92ZXIgbWVcclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDxUb29sdGlwV2ViIHZpc2libGU9e3Zpc2libGV9IHRleHQ9XCJUb29sdGlwIHRleHRcIiBpZD1cInRvb2x0aXAtMVwiIHRlc3RJRD1cInRvb2x0aXAtd2ViXCIgLz5cclxuICAgICAgICAgIDwvPlxyXG4gICAgICAgICk7XHJcbiAgICAgIH07XHJcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQsIHF1ZXJ5QnlUZXN0SWQgfSA9IHJlbmRlcldlYldpdGhUaGVtZSg8VGVzdENvbXBvbmVudCAvPik7XHJcbiAgICAgIGNvbnN0IHRyaWdnZXIgPSBnZXRCeVRlc3RJZCgndHJpZ2dlcicpO1xyXG4gICAgICBcclxuICAgICAgLy8gVG9vbHRpcCBzaG91bGQgbm90IGJlIHZpc2libGUgaW5pdGlhbGx5XHJcbiAgICAgIGV4cGVjdChxdWVyeUJ5VGVzdElkKCd0b29sdGlwLXdlYicpKS50b0JlTnVsbCgpO1xyXG4gICAgICBcclxuICAgICAgLy8gSG92ZXIgdHJpZ2dlclxyXG4gICAgICBmaXJlRXZlbnQubW91c2VFbnRlcih0cmlnZ2VyKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFRvb2x0aXAgc2hvdWxkIG5vdCBhcHBlYXIgaW1tZWRpYXRlbHlcclxuICAgICAgZXhwZWN0KHF1ZXJ5QnlUZXN0SWQoJ3Rvb2x0aXAtd2ViJykpLnRvQmVOdWxsKCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBBZnRlciBkZWxheSwgdG9vbHRpcCBzaG91bGQgYXBwZWFyXHJcbiAgICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDUwMCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBleHBlY3QoZ2V0QnlUZXN0SWQoJ3Rvb2x0aXAtd2ViJykpLnRvQmVUcnV0aHkoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnS2V5Ym9hcmQgTmF2aWdhdGlvbicsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgc3VwcG9ydCBrZXlib2FyZCBmb2N1cyB0byBzaG93IHRvb2x0aXAnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IFRlc3RDb21wb25lbnQgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyB2aXNpYmxlLCBzaG93LCBoaWRlIH0gPSB1c2VUb29sdGlwKHsgZGVsYXk6IDAgfSk7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICBkYXRhLXRlc3RpZD1cInRyaWdnZXJcIlxyXG4gICAgICAgICAgICAgIG9uRm9jdXM9e3Nob3d9XHJcbiAgICAgICAgICAgICAgb25CbHVyPXtoaWRlfVxyXG4gICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJ0b29sdGlwLTFcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgVGFiIHRvIGZvY3VzXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8VG9vbHRpcFdlYiB2aXNpYmxlPXt2aXNpYmxlfSB0ZXh0PVwiVG9vbHRpcCB0ZXh0XCIgaWQ9XCJ0b29sdGlwLTFcIiB0ZXN0SUQ9XCJ0b29sdGlwLXdlYlwiIC8+XHJcbiAgICAgICAgICA8Lz5cclxuICAgICAgICApO1xyXG4gICAgICB9O1xyXG4gICAgICBjb25zdCB7IGdldEJ5VGVzdElkLCBxdWVyeUJ5VGVzdElkIH0gPSByZW5kZXJXZWJXaXRoVGhlbWUoPFRlc3RDb21wb25lbnQgLz4pO1xyXG4gICAgICBjb25zdCB0cmlnZ2VyID0gZ2V0QnlUZXN0SWQoJ3RyaWdnZXInKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEZvY3VzIHZpYSBrZXlib2FyZCAoc2ltdWxhdGVkKVxyXG4gICAgICBmaXJlRXZlbnQuZm9jdXModHJpZ2dlcik7XHJcbiAgICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDApO1xyXG4gICAgICB9KTtcclxuICAgICAgZXhwZWN0KGdldEJ5VGVzdElkKCd0b29sdGlwLXdlYicpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBCbHVyIChUYWIgYXdheSlcclxuICAgICAgZmlyZUV2ZW50LmJsdXIodHJpZ2dlcik7XHJcbiAgICAgIGV4cGVjdChxdWVyeUJ5VGVzdElkKCd0b29sdGlwLXdlYicpKS50b0JlTnVsbCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB3b3JrIHdpdGggRW50ZXIga2V5IHRvIGZvY3VzIHRyaWdnZXInLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IFRlc3RDb21wb25lbnQgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyB2aXNpYmxlLCBzaG93LCBoaWRlIH0gPSB1c2VUb29sdGlwKHsgZGVsYXk6IDAgfSk7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICBkYXRhLXRlc3RpZD1cInRyaWdnZXJcIlxyXG4gICAgICAgICAgICAgIG9uRm9jdXM9e3Nob3d9XHJcbiAgICAgICAgICAgICAgb25CbHVyPXtoaWRlfVxyXG4gICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJ0b29sdGlwLTFcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgUHJlc3MgRW50ZXJcclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDxUb29sdGlwV2ViIHZpc2libGU9e3Zpc2libGV9IHRleHQ9XCJUb29sdGlwIHRleHRcIiBpZD1cInRvb2x0aXAtMVwiIHRlc3RJRD1cInRvb2x0aXAtd2ViXCIgLz5cclxuICAgICAgICAgIDwvPlxyXG4gICAgICAgICk7XHJcbiAgICAgIH07XHJcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQsIHF1ZXJ5QnlUZXN0SWQgfSA9IHJlbmRlcldlYldpdGhUaGVtZSg8VGVzdENvbXBvbmVudCAvPik7XHJcbiAgICAgIGNvbnN0IHRyaWdnZXIgPSBnZXRCeVRlc3RJZCgndHJpZ2dlcicpO1xyXG4gICAgICBcclxuICAgICAgLy8gU2ltdWxhdGUgRW50ZXIga2V5IHByZXNzICh3aGljaCB3b3VsZCBmb2N1cyB0aGUgYnV0dG9uKVxyXG4gICAgICBmaXJlRXZlbnQua2V5RG93bih0cmlnZ2VyLCB7IGtleTogJ0VudGVyJyB9KTtcclxuICAgICAgZmlyZUV2ZW50LmZvY3VzKHRyaWdnZXIpO1xyXG4gICAgICBhY3QoKCkgPT4ge1xyXG4gICAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgwKTtcclxuICAgICAgfSk7XHJcbiAgICAgIGV4cGVjdChnZXRCeVRlc3RJZCgndG9vbHRpcC13ZWInKSkudG9CZVRydXRoeSgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdQb3NpdGlvbnMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHJlbmRlciBhdCB0b3AgcG9zaXRpb24nLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlcldlYldpdGhUaGVtZShcclxuICAgICAgICA8VG9vbHRpcFdlYiB2aXNpYmxlIHBvc2l0aW9uPXtQT1NJVElPTlMuVE9QfSB0ZXh0PVwiVG9wXCIgdGVzdElEPVwidG9vbHRpcC13ZWJcIiAvPlxyXG4gICAgICApO1xyXG4gICAgICBleHBlY3QoZ2V0QnlUZXN0SWQoJ3Rvb2x0aXAtd2ViJykpLnRvQmVUcnV0aHkoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmVuZGVyIGF0IGJvdHRvbSBwb3NpdGlvbicsICgpID0+IHtcclxuICAgICAgY29uc3QgeyBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyV2ViV2l0aFRoZW1lKFxyXG4gICAgICAgIDxUb29sdGlwV2ViIHZpc2libGUgcG9zaXRpb249e1BPU0lUSU9OUy5CT1RUT019IHRleHQ9XCJCb3R0b21cIiB0ZXN0SUQ9XCJ0b29sdGlwLXdlYlwiIC8+XHJcbiAgICAgICk7XHJcbiAgICAgIGV4cGVjdChnZXRCeVRlc3RJZCgndG9vbHRpcC13ZWInKSkudG9CZVRydXRoeSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgYXQgbGVmdCBwb3NpdGlvbicsICgpID0+IHtcclxuICAgICAgY29uc3QgeyBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyV2ViV2l0aFRoZW1lKFxyXG4gICAgICAgIDxUb29sdGlwV2ViIHZpc2libGUgcG9zaXRpb249e1BPU0lUSU9OUy5MRUZUfSB0ZXh0PVwiTGVmdFwiIHRlc3RJRD1cInRvb2x0aXAtd2ViXCIgLz5cclxuICAgICAgKTtcclxuICAgICAgZXhwZWN0KGdldEJ5VGVzdElkKCd0b29sdGlwLXdlYicpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJlbmRlciBhdCByaWdodCBwb3NpdGlvbicsICgpID0+IHtcclxuICAgICAgY29uc3QgeyBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyV2ViV2l0aFRoZW1lKFxyXG4gICAgICAgIDxUb29sdGlwV2ViIHZpc2libGUgcG9zaXRpb249e1BPU0lUSU9OUy5SSUdIVH0gdGV4dD1cIlJpZ2h0XCIgdGVzdElEPVwidG9vbHRpcC13ZWJcIiAvPlxyXG4gICAgICApO1xyXG4gICAgICBleHBlY3QoZ2V0QnlUZXN0SWQoJ3Rvb2x0aXAtd2ViJykpLnRvQmVUcnV0aHkoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbiJdLCJtYXBwaW5ncyI6IkFBZUFBLFdBQUEsR0FBS0MsSUFBSSxtQkFBVztFQUFBLE9BQU87SUFDekJDLE9BQU8sRUFBRSxTQUFUQSxPQUFPQSxDQUFBO01BQUEsT0FBUztRQUNkQyxDQUFDLEVBQUUsU0FBSEEsQ0FBQ0EsQ0FBR0MsR0FBRyxFQUFrQjtVQUFBLElBQWhCQyxNQUFNLEdBQUFDLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLENBQUMsQ0FBQztVQUNsQixJQUFNRyxJQUFJLEdBQUdMLEdBQUcsQ0FBQ00sS0FBSyxDQUFDLEdBQUcsQ0FBQztVQUMzQixJQUFJQyxLQUFLLEdBQUdDLGtCQUFrQjtVQUM5QixLQUFLLElBQU1DLENBQUMsSUFBSUosSUFBSSxFQUFFO1lBQUEsSUFBQUssTUFBQTtZQUNwQkgsS0FBSyxJQUFBRyxNQUFBLEdBQUdILEtBQUsscUJBQUxHLE1BQUEsQ0FBUUQsQ0FBQyxDQUFDO1VBQ3BCO1VBQ0EsSUFBSSxPQUFPRixLQUFLLEtBQUssUUFBUSxJQUFJTixNQUFNLEVBQUU7WUFDdkMsT0FBT00sS0FBSyxDQUFDSSxPQUFPLENBQUMsZ0JBQWdCLEVBQUUsVUFBQ0MsS0FBSyxFQUFFQyxRQUFRLEVBQUs7Y0FDMUQsT0FBT1osTUFBTSxDQUFDWSxRQUFRLENBQUMsS0FBS1QsU0FBUyxHQUFHVSxNQUFNLENBQUNiLE1BQU0sQ0FBQ1ksUUFBUSxDQUFDLENBQUMsR0FBR0QsS0FBSztZQUMxRSxDQUFDLENBQUM7VUFDSjtVQUNBLE9BQU9M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