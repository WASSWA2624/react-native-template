{"version":3,"names":["useState","useMemo","useCallback","tSync","VALIDATION_STATES","cov_40nnx1n83","s","useSelect","_ref","arguments","length","undefined","b","value","_ref$options","options","onValueChange","_ref$required","required","validate","f","_ref2","_ref3","_slicedToArray","open","setOpen","_ref4","DEFAULT","_ref5","validationState","setValidationState","_ref6","_ref7","errorMessage","setErrorMessage","_ref8","_ref9","isFocused","setIsFocused","selectedOption","find","o","validateValue","val","ERROR","result","valid","error","SUCCESS","openSelect","closeSelect","toggleSelect","prev","handleFocus","handleBlur","handleSelect","nextValue"],"sources":["useSelect.js"],"sourcesContent":["/**\r\n * Select Hook\r\n * Shared logic for Select component (validation + open state)\r\n * File: useSelect.js\r\n */\r\n\r\nimport { useState, useMemo, useCallback } from 'react';\r\nimport { tSync } from '@i18n';\r\nimport { VALIDATION_STATES } from './types';\r\n\r\n/**\r\n * @typedef {Object} SelectOption\r\n * @property {string} label\r\n * @property {string|number} value\r\n * @property {boolean} [disabled]\r\n */\r\n\r\n/**\r\n * @param {Object} params\r\n * @param {string|number|null|undefined} params.value\r\n * @param {SelectOption[]} params.options\r\n * @param {Function} params.onValueChange\r\n * @param {boolean} params.required\r\n * @param {Function} params.validate\r\n */\r\nconst useSelect = ({\r\n  value,\r\n  options = [],\r\n  onValueChange,\r\n  required = false,\r\n  validate,\r\n} = {}) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [validationState, setValidationState] = useState(VALIDATION_STATES.DEFAULT);\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [isFocused, setIsFocused] = useState(false);\r\n\r\n  const selectedOption = useMemo(() => {\r\n    if (value === null || value === undefined) return undefined;\r\n    return options.find((o) => o.value === value);\r\n  }, [options, value]);\r\n\r\n  const validateValue = useCallback(\r\n    (val) => {\r\n      if (!required && (val === null || val === undefined || val === '')) {\r\n        setValidationState(VALIDATION_STATES.DEFAULT);\r\n        setErrorMessage('');\r\n        return true;\r\n      }\r\n\r\n      if (required && (val === null || val === undefined || val === '')) {\r\n        setValidationState(VALIDATION_STATES.ERROR);\r\n        setErrorMessage(tSync('forms.validation.required'));\r\n        return false;\r\n      }\r\n\r\n      if (validate) {\r\n        const result = validate(val);\r\n        if (typeof result === 'boolean') {\r\n          if (!result) {\r\n            setValidationState(VALIDATION_STATES.ERROR);\r\n            setErrorMessage(tSync('forms.validation.invalidValue'));\r\n            return false;\r\n          }\r\n        } else if (result && !result.valid) {\r\n          setValidationState(VALIDATION_STATES.ERROR);\r\n          setErrorMessage(result.error || tSync('forms.validation.invalidValue'));\r\n          return false;\r\n        }\r\n      }\r\n\r\n      setValidationState(VALIDATION_STATES.SUCCESS);\r\n      setErrorMessage('');\r\n      return true;\r\n    },\r\n    [required, validate]\r\n  );\r\n\r\n  const openSelect = useCallback(() => setOpen(true), []);\r\n  const closeSelect = useCallback(() => setOpen(false), []);\r\n  const toggleSelect = useCallback(() => setOpen((prev) => !prev), []);\r\n\r\n  const handleFocus = useCallback(() => setIsFocused(true), []);\r\n  const handleBlur = useCallback(() => {\r\n    setIsFocused(false);\r\n    validateValue(value);\r\n  }, [validateValue, value]);\r\n\r\n  const handleSelect = useCallback(\r\n    (nextValue) => {\r\n      if (onValueChange) onValueChange(nextValue);\r\n      validateValue(nextValue);\r\n      closeSelect();\r\n    },\r\n    [closeSelect, onValueChange, validateValue]\r\n  );\r\n\r\n  return {\r\n    open,\r\n    isFocused,\r\n    validationState,\r\n    errorMessage,\r\n    selectedOption,\r\n    openSelect,\r\n    closeSelect,\r\n    toggleSelect,\r\n    handleFocus,\r\n    handleBlur,\r\n    handleSelect,\r\n  };\r\n};\r\n\r\nexport default useSelect;\r\n\r\n\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}