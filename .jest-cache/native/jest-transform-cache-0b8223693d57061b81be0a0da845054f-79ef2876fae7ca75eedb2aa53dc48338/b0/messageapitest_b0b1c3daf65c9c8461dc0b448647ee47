b028ebeabf44601b265715723c80d569
_getJestObj().mock("../../../services/api", function () {
  return {
    apiClient: jest.fn(),
    createCrudApi: jest.fn(function () {
      return {
        list: jest.fn(),
        get: jest.fn(),
        create: jest.fn(),
        update: jest.fn(),
        remove: jest.fn()
      };
    })
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _endpoints = require("../../../config/endpoints");
var _api = require("../../../services/api");
var _message = require("../../../features/message/message.api");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('message.api', function () {
  it('creates crud api with message endpoints', function () {
    expect(_api.createCrudApi).toHaveBeenCalledWith(_endpoints.endpoints.MESSAGES);
    expect(_message.messageApi).toBeDefined();
  });
  it('fetches messages by conversation', (0, _asyncToGenerator2.default)(function* () {
    _api.apiClient.mockResolvedValue({
      data: []
    });
    yield (0, _message.getMessagesByConversationApi)('1');
    expect(_api.apiClient).toHaveBeenCalledWith({
      url: _endpoints.endpoints.MESSAGES.GET_BY_CONVERSATION('1'),
      method: 'GET'
    });
  }));
  it('fetches message media', (0, _asyncToGenerator2.default)(function* () {
    _api.apiClient.mockResolvedValue({
      data: {}
    });
    yield (0, _message.getMessageMediaApi)('1');
    expect(_api.apiClient).toHaveBeenCalledWith({
      url: _endpoints.endpoints.MESSAGES.GET_MEDIA('1'),
      method: 'GET'
    });
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJhcGlDbGllbnQiLCJqZXN0IiwiZm4iLCJjcmVhdGVDcnVkQXBpIiwibGlzdCIsImdldCIsImNyZWF0ZSIsInVwZGF0ZSIsInJlbW92ZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiZGVmYXVsdCIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9lbmRwb2ludHMiLCJfYXBpIiwiX21lc3NhZ2UiLCJfcmVxdWlyZSIsImRlc2NyaWJlIiwiaXQiLCJleHBlY3QiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsImVuZHBvaW50cyIsIk1FU1NBR0VTIiwibWVzc2FnZUFwaSIsInRvQmVEZWZpbmVkIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJkYXRhIiwiZ2V0TWVzc2FnZXNCeUNvbnZlcnNhdGlvbkFwaSIsInVybCIsIkdFVF9CWV9DT05WRVJTQVRJT04iLCJtZXRob2QiLCJnZXRNZXNzYWdlTWVkaWFBcGkiLCJHRVRfTUVESUEiXSwic291cmNlcyI6WyJtZXNzYWdlLmFwaS50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBNZXNzYWdlIEFQSSBUZXN0c1xyXG4gKiBGaWxlOiBtZXNzYWdlLmFwaS50ZXN0LmpzXHJcbiAqL1xyXG5pbXBvcnQgeyBlbmRwb2ludHMgfSBmcm9tICdAY29uZmlnL2VuZHBvaW50cyc7XHJcbmltcG9ydCB7IGFwaUNsaWVudCwgY3JlYXRlQ3J1ZEFwaSB9IGZyb20gJ0BzZXJ2aWNlcy9hcGknO1xyXG5pbXBvcnQgeyBnZXRNZXNzYWdlTWVkaWFBcGksIGdldE1lc3NhZ2VzQnlDb252ZXJzYXRpb25BcGksIG1lc3NhZ2VBcGkgfSBmcm9tICdAZmVhdHVyZXMvbWVzc2FnZS9tZXNzYWdlLmFwaSc7XHJcblxyXG5qZXN0Lm1vY2soJ0BzZXJ2aWNlcy9hcGknLCAoKSA9PiAoe1xyXG4gIGFwaUNsaWVudDogamVzdC5mbigpLFxyXG4gIGNyZWF0ZUNydWRBcGk6IGplc3QuZm4oKCkgPT4gKHtcclxuICAgIGxpc3Q6IGplc3QuZm4oKSxcclxuICAgIGdldDogamVzdC5mbigpLFxyXG4gICAgY3JlYXRlOiBqZXN0LmZuKCksXHJcbiAgICB1cGRhdGU6IGplc3QuZm4oKSxcclxuICAgIHJlbW92ZTogamVzdC5mbigpLFxyXG4gIH0pKSxcclxufSkpO1xyXG5cclxuZGVzY3JpYmUoJ21lc3NhZ2UuYXBpJywgKCkgPT4ge1xyXG4gIGl0KCdjcmVhdGVzIGNydWQgYXBpIHdpdGggbWVzc2FnZSBlbmRwb2ludHMnLCAoKSA9PiB7XHJcbiAgICBleHBlY3QoY3JlYXRlQ3J1ZEFwaSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoZW5kcG9pbnRzLk1FU1NBR0VTKTtcclxuICAgIGV4cGVjdChtZXNzYWdlQXBpKS50b0JlRGVmaW5lZCgpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnZmV0Y2hlcyBtZXNzYWdlcyBieSBjb252ZXJzYXRpb24nLCBhc3luYyAoKSA9PiB7XHJcbiAgICBhcGlDbGllbnQubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhOiBbXSB9KTtcclxuICAgIGF3YWl0IGdldE1lc3NhZ2VzQnlDb252ZXJzYXRpb25BcGkoJzEnKTtcclxuICAgIGV4cGVjdChhcGlDbGllbnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcclxuICAgICAgdXJsOiBlbmRwb2ludHMuTUVTU0FHRVMuR0VUX0JZX0NPTlZFUlNBVElPTignMScpLFxyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdmZXRjaGVzIG1lc3NhZ2UgbWVkaWEnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBhcGlDbGllbnQubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhOiB7fSB9KTtcclxuICAgIGF3YWl0IGdldE1lc3NhZ2VNZWRpYUFwaSgnMScpO1xyXG4gICAgZXhwZWN0KGFwaUNsaWVudCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xyXG4gICAgICB1cmw6IGVuZHBvaW50cy5NRVNTQUdFUy5HRVRfTUVESUEoJzEnKSxcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuIl0sIm1hcHBpbmdzIjoiQUFRQUEsV0FBQSxHQUFLQyxJQUFJLDBCQUFrQjtFQUFBLE9BQU87SUFDaENDLFNBQVMsRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztJQUNwQkMsYUFBYSxFQUFFRixJQUFJLENBQUNDLEVBQUUsQ0FBQztNQUFBLE9BQU87UUFDNUJFLElBQUksRUFBRUgsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztRQUNmRyxHQUFHLEVBQUVKLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7UUFDZEksTUFBTSxFQUFFTCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO1FBQ2pCSyxNQUFNLEVBQUVOLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7UUFDakJNLE1BQU0sRUFBRVAsSUFBSSxDQUFDQyxFQUFFLENBQUM7TUFDbEIsQ0FBQztJQUFBLENBQUM7RUFDSixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBQUMsSUFBQU8sc0JBQUEsR0FBQUMsT0FBQSxpREFBQUMsT0FBQTtBQUFBLElBQUFDLGtCQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFiSixJQUFBRyxVQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxJQUFBLEdBQUFKLE9BQUE7QUFDQSxJQUFBSyxRQUFBLEdBQUFMLE9BQUE7QUFBNkcsU0FBQVosWUFBQTtFQUFBLElBQUFrQixRQUFBLEdBQUFOLE9BQUE7SUFBQVQsSUFBQSxHQUFBZSxRQUFBLENBQUFmLElBQUE7RUFBQUgsV0FBQSxZQUFBQSxZQUFBO0lBQUEsT0FBQUcsSUFBQTtFQUFBO0VBQUEsT0FBQUEsSUFBQTtBQUFBO0FBYTdHZ0IsUUFBUSxDQUFDLGFBQWEsRUFBRSxZQUFNO0VBQzVCQyxFQUFFLENBQUMseUNBQXlDLEVBQUUsWUFBTTtJQUNsREMsTUFBTSxDQUFDaEIsa0JBQWEsQ0FBQyxDQUFDaUIsb0JBQW9CLENBQUNDLG9CQUFTLENBQUNDLFFBQVEsQ0FBQztJQUM5REgsTUFBTSxDQUFDSSxtQkFBVSxDQUFDLENBQUNDLFdBQVcsQ0FBQyxDQUFDO0VBQ2xDLENBQUMsQ0FBQztFQUVGTixFQUFFLENBQUMsa0NBQWtDLE1BQUFOLGtCQUFBLENBQUFELE9BQUEsRUFBRSxhQUFZO0lBQ2pEWCxjQUFTLENBQUN5QixpQkFBaUIsQ0FBQztNQUFFQyxJQUFJLEVBQUU7SUFBRyxDQUFDLENBQUM7SUFDekMsTUFBTSxJQUFBQyxxQ0FBNEIsRUFBQyxHQUFHLENBQUM7SUFDdkNSLE1BQU0sQ0FBQ25CLGNBQVMsQ0FBQyxDQUFDb0Isb0JBQW9CLENBQUM7TUFDckNRLEdBQUcsRUFBRVAsb0JBQVMsQ0FBQ0MsUUFBUSxDQUFDTyxtQkFBbUIsQ0FBQyxHQUFHLENBQUM7TUFDaERDLE1BQU0sRUFBRTtJQUNWLENBQUMsQ0FBQztFQUNKLENBQUMsRUFBQztFQUVGWixFQUFFLENBQUMsdUJBQXVCLE1BQUFOLGtCQUFBLENBQUFELE9BQUEsRUFBRSxhQUFZO0lBQ3RDWCxjQUFTLENBQUN5QixpQkFBaUIsQ0FBQztNQUFFQyxJQUFJLEVBQUUsQ0FBQztJQUFFLENBQUMsQ0FBQztJQUN6QyxNQUFNLElBQUFLLDJCQUFrQixFQUFDLEdBQUcsQ0FBQztJQUM3QlosTUFBTSxDQUFDbkIsY0FBUyxDQUFDLENBQUNvQixvQkFBb0IsQ0FBQztNQUNyQ1EsR0FBRyxFQUFFUCxvQkFBUyxDQUFDQyxRQUFRLENBQUNVLFNBQVMsQ0FBQyxHQUFHLENBQUM7TUFDdENGLE1BQU0sRUFBRTtJQUNWLENBQUMsQ0FBQztFQUNKLENBQUMsRUFBQztBQUNKLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==