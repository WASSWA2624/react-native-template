{"version":3,"names":["_config","require","_errors","_interceptors","cov_1arejjlc0i","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","undefined","s","f","b","_coverageSchema","coverage","actualCoverage","apiClient","exports","_ref","_asyncToGenerator2","default","config","_ref2","url","_ref2$method","method","body","_ref2$headers","headers","_ref2$timeout","timeout","TIMEOUTS","API_REQUEST","authConfig","attachAuthHeader","controller","AbortController","timeoutId","setTimeout","abort","_response$headers","response","fetch","Object","assign","JSON","stringify","signal","clearTimeout","ok","error","status","statusText","message","handleAuthError","contentType","get","hasJson","includes","data","json","handleError","Error","_x","apply","arguments"],"sources":["client.js"],"sourcesContent":["/**\r\n * API Client\r\n * Centralized fetch wrapper\r\n * File: client.js\r\n */\r\nimport { TIMEOUTS } from '@config';\r\nimport { handleError } from '@errors';\r\nimport { attachAuthHeader, handleAuthError } from './interceptors';\r\n\r\nconst apiClient = async (config) => {\r\n  const {\r\n    url,\r\n    method = 'GET',\r\n    body,\r\n    headers = {},\r\n    timeout = TIMEOUTS.API_REQUEST,\r\n  } = config;\r\n\r\n  // Attach auth header\r\n  const authConfig = await attachAuthHeader({ url, method, body, headers });\r\n\r\n  // Create abort controller for timeout\r\n  const controller = new AbortController();\r\n  const timeoutId = setTimeout(() => controller.abort(), timeout);\r\n\r\n  try {\r\n    const response = await fetch(authConfig.url, {\r\n      method: authConfig.method,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...authConfig.headers,\r\n      },\r\n      body: authConfig.body ? JSON.stringify(authConfig.body) : undefined,\r\n      signal: controller.signal,\r\n    });\r\n\r\n    clearTimeout(timeoutId);\r\n\r\n    if (!response.ok) {\r\n      const error = {\r\n        status: response.status,\r\n        statusText: response.statusText,\r\n        message: `API request failed: ${response.statusText}`,\r\n      };\r\n      throw await handleAuthError(error);\r\n    }\r\n\r\n    const contentType = response.headers?.get?.('content-type') || '';\r\n    const hasJson = contentType.includes('application/json');\r\n    const data = hasJson ? await response.json() : null;\r\n    return { data, status: response.status };\r\n  } catch (error) {\r\n    clearTimeout(timeoutId);\r\n    if (error.name === 'AbortError') {\r\n      throw handleError(new Error('Request timeout'), { url });\r\n    }\r\n    throw await handleAuthError(error);\r\n  }\r\n};\r\n\r\nexport { apiClient };\r\n\r\n"],"mappings":"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","ignoreList":[]}