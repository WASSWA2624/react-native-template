51c2661198bcff4bfd844c287593b76d
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _react = _interopRequireWildcard(require("react"));
var _Text = _interopRequireDefault(require("../../display/Text"));
var _hooks = require("../../../../hooks");
var _useGlobalFooter2 = _interopRequireDefault(require("./useGlobalFooter"));
var _types = require("./types");
var _GlobalFooterWeb = require("./GlobalFooter.web.styles");
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["variant", "status", "statusTone", "legalLinks", "quickActions", "quickActionsSlot", "currentRole", "accessibilityLabel", "testID", "className"];
var normalizeVariant = function normalizeVariant(variant) {
  if (typeof variant !== 'string') return _types.FOOTER_VARIANTS.MAIN;
  var normalized = variant.trim().toLowerCase();
  if (normalized === _types.FOOTER_VARIANTS.AUTH) return _types.FOOTER_VARIANTS.AUTH;
  if (normalized === _types.FOOTER_VARIANTS.PATIENT) return _types.FOOTER_VARIANTS.PATIENT;
  return _types.FOOTER_VARIANTS.MAIN;
};
var getDefaultStatusTone = function getDefaultStatusTone(variant) {
  if (variant === _types.FOOTER_VARIANTS.AUTH) return _types.STATUS_TONES.SUCCESS;
  if (variant === _types.FOOTER_VARIANTS.PATIENT) return _types.STATUS_TONES.NEUTRAL;
  return _types.STATUS_TONES.SUCCESS;
};
var getDefaultStatusLabel = function getDefaultStatusLabel(variant, t) {
  if (variant === _types.FOOTER_VARIANTS.AUTH) return t('navigation.footer.status.auth');
  if (variant === _types.FOOTER_VARIANTS.PATIENT) return t('navigation.footer.status.patient');
  return t('navigation.footer.status.main');
};
var getDefaultLegalLinks = function getDefaultLegalLinks(variant, t) {
  var baseLinks = [{
    key: 'terms',
    label: t('navigation.footer.legal.terms')
  }, {
    key: 'privacy',
    label: t('navigation.footer.legal.privacy')
  }];
  if (variant === _types.FOOTER_VARIANTS.AUTH) {
    return baseLinks;
  }
  return [].concat(baseLinks, [{
    key: 'support',
    label: t('navigation.footer.legal.support')
  }]);
};
var getItemKey = function getItemKey(item, index) {
  return item.key || item.id || item.label || `item-${index}`;
};
var buildLegalItems = function buildLegalItems(_ref) {
  var links = _ref.links,
    testID = _ref.testID;
  return links.map(function (link, index) {
    var itemKey = getItemKey(link, index);
    var itemTestID = link.testID || (testID ? `${testID}-legal-${itemKey}` : undefined);
    var label = link.label;
    var renderedLabel = typeof label === 'string' ? (0, _jsxRuntime.jsx)(_Text.default, {
      variant: "caption",
      color: "text.secondary",
      children: label
    }) : label;
    if (link.href) {
      return (0, _jsxRuntime.jsx)(_GlobalFooterWeb.StyledLegalLink, {
        href: link.href,
        "aria-label": link.accessibilityLabel || label,
        "data-testid": itemTestID,
        testID: itemTestID,
        children: renderedLabel
      }, itemKey);
    }
    if (link.onPress) {
      return (0, _jsxRuntime.jsx)(_GlobalFooterWeb.StyledLegalButton, {
        type: "button",
        onClick: link.onPress,
        disabled: link.disabled,
        "aria-label": link.accessibilityLabel || label,
        "data-testid": itemTestID,
        testID: itemTestID,
        children: renderedLabel
      }, itemKey);
    }
    return (0, _jsxRuntime.jsx)(_GlobalFooterWeb.StyledLegalText, {
      "data-testid": itemTestID,
      testID: itemTestID,
      children: renderedLabel
    }, itemKey);
  });
};
var buildQuickActionItems = function buildQuickActionItems(_ref2) {
  var actions = _ref2.actions,
    testID = _ref2.testID;
  return actions.map(function (action, index) {
    var actionKey = getItemKey(action, index);
    var actionTestID = action.testID || (testID ? `${testID}-action-${actionKey}` : undefined);
    var isPrimary = action.variant === _types.ACTION_VARIANTS.PRIMARY;
    var isDisabled = action.disabled || !action.onPress;
    var label = action.label;
    var labelColor = isPrimary ? 'onPrimary' : 'text.primary';
    return (0, _jsxRuntime.jsxs)(_GlobalFooterWeb.StyledQuickActionButton, {
      type: "button",
      onClick: action.onPress,
      disabled: isDisabled,
      isPrimary: isPrimary,
      isDisabled: isDisabled,
      "aria-label": action.accessibilityLabel || label,
      "data-testid": actionTestID,
      testID: actionTestID,
      children: [action.icon ? (0, _jsxRuntime.jsx)(_GlobalFooterWeb.StyledQuickActionIcon, {
        children: action.icon
      }) : null, label ? (0, _jsxRuntime.jsx)(_Text.default, {
        variant: "label",
        color: labelColor,
        children: label
      }) : null]
    }, actionKey);
  });
};
var GlobalFooterWeb = function GlobalFooterWeb(_ref3) {
  var _ref3$variant = _ref3.variant,
    variant = _ref3$variant === void 0 ? _types.FOOTER_VARIANTS.MAIN : _ref3$variant,
    status = _ref3.status,
    statusTone = _ref3.statusTone,
    legalLinks = _ref3.legalLinks,
    _ref3$quickActions = _ref3.quickActions,
    quickActions = _ref3$quickActions === void 0 ? [] : _ref3$quickActions,
    quickActionsSlot = _ref3.quickActionsSlot,
    currentRole = _ref3.currentRole,
    accessibilityLabel = _ref3.accessibilityLabel,
    testID = _ref3.testID,
    className = _ref3.className,
    rest = (0, _objectWithoutProperties2.default)(_ref3, _excluded);
  var _useI18n = (0, _hooks.useI18n)(),
    t = _useI18n.t;
  var resolvedVariant = normalizeVariant(variant);
  var resolvedStatus = status != null ? status : getDefaultStatusLabel(resolvedVariant, t);
  var resolvedStatusTone = statusTone || getDefaultStatusTone(resolvedVariant);
  var resolvedLegalLinks = (0, _react.useMemo)(function () {
    if (Array.isArray(legalLinks)) return legalLinks;
    if (legalLinks === null) return [];
    return getDefaultLegalLinks(resolvedVariant, t);
  }, [legalLinks, resolvedVariant, t]);
  var _useGlobalFooter = (0, _useGlobalFooter2.default)({
      legalLinks: resolvedLegalLinks,
      quickActions: quickActions,
      currentRole: currentRole
    }),
    visibleLegalLinks = _useGlobalFooter.visibleLegalLinks,
    visibleQuickActions = _useGlobalFooter.visibleQuickActions,
    hasLegalLinks = _useGlobalFooter.hasLegalLinks,
    hasQuickActions = _useGlobalFooter.hasQuickActions;
  var quickActionItems = (0, _react.useMemo)(function () {
    return buildQuickActionItems({
      actions: visibleQuickActions,
      testID: testID
    });
  }, [visibleQuickActions, testID]);
  var legalLinkItems = (0, _react.useMemo)(function () {
    return buildLegalItems({
      links: visibleLegalLinks,
      testID: testID
    });
  }, [visibleLegalLinks, testID]);
  var showStatus = resolvedStatus !== null && resolvedStatus !== undefined;
  var showQuickActions = Boolean(quickActionsSlot) || hasQuickActions;
  var statusTextColor = resolvedStatusTone === _types.STATUS_TONES.NEUTRAL ? 'text.secondary' : 'text.inverse';
  return (0, _jsxRuntime.jsx)(_GlobalFooterWeb.StyledFooter, Object.assign({
    role: "contentinfo",
    "aria-label": accessibilityLabel || t('navigation.footer.title'),
    "data-testid": testID,
    testID: testID,
    className: className
  }, rest, {
    children: (0, _jsxRuntime.jsxs)(_GlobalFooterWeb.StyledFooterContent, {
      children: [(showStatus || showQuickActions) && (0, _jsxRuntime.jsxs)(_GlobalFooterWeb.StyledFooterRow, {
        children: [showStatus && (0, _jsxRuntime.jsx)(_GlobalFooterWeb.StyledStatusBadge, {
          tone: resolvedStatusTone,
          "aria-label": t('navigation.footer.status.title'),
          children: typeof resolvedStatus === 'string' ? (0, _jsxRuntime.jsx)(_Text.default, {
            variant: "caption",
            color: statusTextColor,
            children: resolvedStatus
          }) : resolvedStatus
        }), showQuickActions && (quickActionsSlot ? (0, _jsxRuntime.jsx)(_GlobalFooterWeb.StyledQuickActionsSlot, {
          children: quickActionsSlot
        }) : (0, _jsxRuntime.jsx)(_GlobalFooterWeb.StyledQuickActionsGroup, {
          children: quickActionItems
        }))]
      }), hasLegalLinks && (0, _jsxRuntime.jsx)(_GlobalFooterWeb.StyledFooterRow, {
        "aria-label": t('navigation.footer.legal.title'),
        children: (0, _jsxRuntime.jsx)(_GlobalFooterWeb.StyledLegalLinks, {
          children: legalLinkItems
        })
      })]
    })
  }));
};
var _default = exports.default = GlobalFooterWeb;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfVGV4dCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfaG9va3MiLCJfdXNlR2xvYmFsRm9vdGVyMiIsIl90eXBlcyIsIl9HbG9iYWxGb290ZXJXZWIiLCJfanN4UnVudGltZSIsIl9leGNsdWRlZCIsIm5vcm1hbGl6ZVZhcmlhbnQiLCJ2YXJpYW50IiwiRk9PVEVSX1ZBUklBTlRTIiwiTUFJTiIsIm5vcm1hbGl6ZWQiLCJ0cmltIiwidG9Mb3dlckNhc2UiLCJBVVRIIiwiUEFUSUVOVCIsImdldERlZmF1bHRTdGF0dXNUb25lIiwiU1RBVFVTX1RPTkVTIiwiU1VDQ0VTUyIsIk5FVVRSQUwiLCJnZXREZWZhdWx0U3RhdHVzTGFiZWwiLCJ0IiwiZ2V0RGVmYXVsdExlZ2FsTGlua3MiLCJiYXNlTGlua3MiLCJrZXkiLCJsYWJlbCIsImNvbmNhdCIsImdldEl0ZW1LZXkiLCJpdGVtIiwiaW5kZXgiLCJpZCIsImJ1aWxkTGVnYWxJdGVtcyIsIl9yZWYiLCJsaW5rcyIsInRlc3RJRCIsIm1hcCIsImxpbmsiLCJpdGVtS2V5IiwiaXRlbVRlc3RJRCIsInVuZGVmaW5lZCIsInJlbmRlcmVkTGFiZWwiLCJqc3giLCJkZWZhdWx0IiwiY29sb3IiLCJjaGlsZHJlbiIsImhyZWYiLCJTdHlsZWRMZWdhbExpbmsiLCJhY2Nlc3NpYmlsaXR5TGFiZWwiLCJvblByZXNzIiwiU3R5bGVkTGVnYWxCdXR0b24iLCJ0eXBlIiwib25DbGljayIsImRpc2FibGVkIiwiU3R5bGVkTGVnYWxUZXh0IiwiYnVpbGRRdWlja0FjdGlvbkl0ZW1zIiwiX3JlZjIiLCJhY3Rpb25zIiwiYWN0aW9uIiwiYWN0aW9uS2V5IiwiYWN0aW9uVGVzdElEIiwiaXNQcmltYXJ5IiwiQUNUSU9OX1ZBUklBTlRTIiwiUFJJTUFSWSIsImlzRGlzYWJsZWQiLCJsYWJlbENvbG9yIiwianN4cyIsIlN0eWxlZFF1aWNrQWN0aW9uQnV0dG9uIiwiaWNvbiIsIlN0eWxlZFF1aWNrQWN0aW9uSWNvbiIsIkdsb2JhbEZvb3RlcldlYiIsIl9yZWYzIiwiX3JlZjMkdmFyaWFudCIsInN0YXR1cyIsInN0YXR1c1RvbmUiLCJsZWdhbExpbmtzIiwiX3JlZjMkcXVpY2tBY3Rpb25zIiwicXVpY2tBY3Rpb25zIiwicXVpY2tBY3Rpb25zU2xvdCIsImN1cnJlbnRSb2xlIiwiY2xhc3NOYW1lIiwicmVzdCIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllczIiLCJfdXNlSTE4biIsInVzZUkxOG4iLCJyZXNvbHZlZFZhcmlhbnQiLCJyZXNvbHZlZFN0YXR1cyIsInJlc29sdmVkU3RhdHVzVG9uZSIsInJlc29sdmVkTGVnYWxMaW5rcyIsInVzZU1lbW8iLCJBcnJheSIsImlzQXJyYXkiLCJfdXNlR2xvYmFsRm9vdGVyIiwidXNlR2xvYmFsRm9vdGVyIiwidmlzaWJsZUxlZ2FsTGlua3MiLCJ2aXNpYmxlUXVpY2tBY3Rpb25zIiwiaGFzTGVnYWxMaW5rcyIsImhhc1F1aWNrQWN0aW9ucyIsInF1aWNrQWN0aW9uSXRlbXMiLCJsZWdhbExpbmtJdGVtcyIsInNob3dTdGF0dXMiLCJzaG93UXVpY2tBY3Rpb25zIiwiQm9vbGVhbiIsInN0YXR1c1RleHRDb2xvciIsIlN0eWxlZEZvb3RlciIsIk9iamVjdCIsImFzc2lnbiIsInJvbGUiLCJTdHlsZWRGb290ZXJDb250ZW50IiwiU3R5bGVkRm9vdGVyUm93IiwiU3R5bGVkU3RhdHVzQmFkZ2UiLCJ0b25lIiwiU3R5bGVkUXVpY2tBY3Rpb25zU2xvdCIsIlN0eWxlZFF1aWNrQWN0aW9uc0dyb3VwIiwiU3R5bGVkTGVnYWxMaW5rcyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIkdsb2JhbEZvb3Rlci53ZWIuanN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBHbG9iYWxGb290ZXIgQ29tcG9uZW50IC0gV2ViXHJcbiAqIFNoYXJlZCBnbG9iYWwgZm9vdGVyIHdpdGggc3RhdHVzLCBsZWdhbCwgYW5kIHF1aWNrIGFjdGlvbnNcclxuICogRmlsZTogR2xvYmFsRm9vdGVyLndlYi5qc3hcclxuICovXHJcbmltcG9ydCBSZWFjdCwgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgVGV4dCBmcm9tICdAcGxhdGZvcm0vY29tcG9uZW50cy9kaXNwbGF5L1RleHQnO1xyXG5pbXBvcnQgeyB1c2VJMThuIH0gZnJvbSAnQGhvb2tzJztcclxuaW1wb3J0IHVzZUdsb2JhbEZvb3RlciBmcm9tICcuL3VzZUdsb2JhbEZvb3Rlcic7XHJcbmltcG9ydCB7IEFDVElPTl9WQVJJQU5UUywgRk9PVEVSX1ZBUklBTlRTLCBTVEFUVVNfVE9ORVMgfSBmcm9tICcuL3R5cGVzJztcclxuaW1wb3J0IHtcclxuICBTdHlsZWRGb290ZXIsXHJcbiAgU3R5bGVkRm9vdGVyQ29udGVudCxcclxuICBTdHlsZWRGb290ZXJSb3csXHJcbiAgU3R5bGVkU3RhdHVzQmFkZ2UsXHJcbiAgU3R5bGVkTGVnYWxMaW5rcyxcclxuICBTdHlsZWRMZWdhbExpbmssXHJcbiAgU3R5bGVkTGVnYWxCdXR0b24sXHJcbiAgU3R5bGVkTGVnYWxUZXh0LFxyXG4gIFN0eWxlZFF1aWNrQWN0aW9uc0dyb3VwLFxyXG4gIFN0eWxlZFF1aWNrQWN0aW9uQnV0dG9uLFxyXG4gIFN0eWxlZFF1aWNrQWN0aW9uSWNvbixcclxuICBTdHlsZWRRdWlja0FjdGlvbnNTbG90LFxyXG59IGZyb20gJy4vR2xvYmFsRm9vdGVyLndlYi5zdHlsZXMnO1xyXG5cclxuY29uc3Qgbm9ybWFsaXplVmFyaWFudCA9ICh2YXJpYW50KSA9PiB7XHJcbiAgaWYgKHR5cGVvZiB2YXJpYW50ICE9PSAnc3RyaW5nJykgcmV0dXJuIEZPT1RFUl9WQVJJQU5UUy5NQUlOO1xyXG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSB2YXJpYW50LnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xyXG4gIGlmIChub3JtYWxpemVkID09PSBGT09URVJfVkFSSUFOVFMuQVVUSCkgcmV0dXJuIEZPT1RFUl9WQVJJQU5UUy5BVVRIO1xyXG4gIGlmIChub3JtYWxpemVkID09PSBGT09URVJfVkFSSUFOVFMuUEFUSUVOVCkgcmV0dXJuIEZPT1RFUl9WQVJJQU5UUy5QQVRJRU5UO1xyXG4gIHJldHVybiBGT09URVJfVkFSSUFOVFMuTUFJTjtcclxufTtcclxuXHJcbmNvbnN0IGdldERlZmF1bHRTdGF0dXNUb25lID0gKHZhcmlhbnQpID0+IHtcclxuICBpZiAodmFyaWFudCA9PT0gRk9PVEVSX1ZBUklBTlRTLkFVVEgpIHJldHVybiBTVEFUVVNfVE9ORVMuU1VDQ0VTUztcclxuICBpZiAodmFyaWFudCA9PT0gRk9PVEVSX1ZBUklBTlRTLlBBVElFTlQpIHJldHVybiBTVEFUVVNfVE9ORVMuTkVVVFJBTDtcclxuICByZXR1cm4gU1RBVFVTX1RPTkVTLlNVQ0NFU1M7XHJcbn07XHJcblxyXG5jb25zdCBnZXREZWZhdWx0U3RhdHVzTGFiZWwgPSAodmFyaWFudCwgdCkgPT4ge1xyXG4gIGlmICh2YXJpYW50ID09PSBGT09URVJfVkFSSUFOVFMuQVVUSCkgcmV0dXJuIHQoJ25hdmlnYXRpb24uZm9vdGVyLnN0YXR1cy5hdXRoJyk7XHJcbiAgaWYgKHZhcmlhbnQgPT09IEZPT1RFUl9WQVJJQU5UUy5QQVRJRU5UKSByZXR1cm4gdCgnbmF2aWdhdGlvbi5mb290ZXIuc3RhdHVzLnBhdGllbnQnKTtcclxuICByZXR1cm4gdCgnbmF2aWdhdGlvbi5mb290ZXIuc3RhdHVzLm1haW4nKTtcclxufTtcclxuXHJcbmNvbnN0IGdldERlZmF1bHRMZWdhbExpbmtzID0gKHZhcmlhbnQsIHQpID0+IHtcclxuICBjb25zdCBiYXNlTGlua3MgPSBbXHJcbiAgICB7IGtleTogJ3Rlcm1zJywgbGFiZWw6IHQoJ25hdmlnYXRpb24uZm9vdGVyLmxlZ2FsLnRlcm1zJykgfSxcclxuICAgIHsga2V5OiAncHJpdmFjeScsIGxhYmVsOiB0KCduYXZpZ2F0aW9uLmZvb3Rlci5sZWdhbC5wcml2YWN5JykgfSxcclxuICBdO1xyXG4gIGlmICh2YXJpYW50ID09PSBGT09URVJfVkFSSUFOVFMuQVVUSCkge1xyXG4gICAgcmV0dXJuIGJhc2VMaW5rcztcclxuICB9XHJcbiAgcmV0dXJuIFsuLi5iYXNlTGlua3MsIHsga2V5OiAnc3VwcG9ydCcsIGxhYmVsOiB0KCduYXZpZ2F0aW9uLmZvb3Rlci5sZWdhbC5zdXBwb3J0JykgfV07XHJcbn07XHJcblxyXG5jb25zdCBnZXRJdGVtS2V5ID0gKGl0ZW0sIGluZGV4KSA9PiBpdGVtLmtleSB8fCBpdGVtLmlkIHx8IGl0ZW0ubGFiZWwgfHwgYGl0ZW0tJHtpbmRleH1gO1xyXG5cclxuY29uc3QgYnVpbGRMZWdhbEl0ZW1zID0gKHsgbGlua3MsIHRlc3RJRCB9KSA9PiB7XHJcbiAgcmV0dXJuIGxpbmtzLm1hcCgobGluaywgaW5kZXgpID0+IHtcclxuICAgIGNvbnN0IGl0ZW1LZXkgPSBnZXRJdGVtS2V5KGxpbmssIGluZGV4KTtcclxuICAgIGNvbnN0IGl0ZW1UZXN0SUQgPSBsaW5rLnRlc3RJRCB8fCAodGVzdElEID8gYCR7dGVzdElEfS1sZWdhbC0ke2l0ZW1LZXl9YCA6IHVuZGVmaW5lZCk7XHJcbiAgICBjb25zdCBsYWJlbCA9IGxpbmsubGFiZWw7XHJcbiAgICBjb25zdCByZW5kZXJlZExhYmVsID0gdHlwZW9mIGxhYmVsID09PSAnc3RyaW5nJ1xyXG4gICAgICA/IChcclxuICAgICAgICA8VGV4dCB2YXJpYW50PVwiY2FwdGlvblwiIGNvbG9yPVwidGV4dC5zZWNvbmRhcnlcIj5cclxuICAgICAgICAgIHtsYWJlbH1cclxuICAgICAgICA8L1RleHQ+XHJcbiAgICAgIClcclxuICAgICAgOiBsYWJlbDtcclxuXHJcbiAgICBpZiAobGluay5ocmVmKSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPFN0eWxlZExlZ2FsTGlua1xyXG4gICAgICAgICAga2V5PXtpdGVtS2V5fVxyXG4gICAgICAgICAgaHJlZj17bGluay5ocmVmfVxyXG4gICAgICAgICAgYXJpYS1sYWJlbD17bGluay5hY2Nlc3NpYmlsaXR5TGFiZWwgfHwgbGFiZWx9XHJcbiAgICAgICAgICBkYXRhLXRlc3RpZD17aXRlbVRlc3RJRH1cclxuICAgICAgICAgIHRlc3RJRD17aXRlbVRlc3RJRH1cclxuICAgICAgICA+XHJcbiAgICAgICAgICB7cmVuZGVyZWRMYWJlbH1cclxuICAgICAgICA8L1N0eWxlZExlZ2FsTGluaz5cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobGluay5vblByZXNzKSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPFN0eWxlZExlZ2FsQnV0dG9uXHJcbiAgICAgICAgICBrZXk9e2l0ZW1LZXl9XHJcbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgIG9uQ2xpY2s9e2xpbmsub25QcmVzc31cclxuICAgICAgICAgIGRpc2FibGVkPXtsaW5rLmRpc2FibGVkfVxyXG4gICAgICAgICAgYXJpYS1sYWJlbD17bGluay5hY2Nlc3NpYmlsaXR5TGFiZWwgfHwgbGFiZWx9XHJcbiAgICAgICAgICBkYXRhLXRlc3RpZD17aXRlbVRlc3RJRH1cclxuICAgICAgICAgIHRlc3RJRD17aXRlbVRlc3RJRH1cclxuICAgICAgICA+XHJcbiAgICAgICAgICB7cmVuZGVyZWRMYWJlbH1cclxuICAgICAgICA8L1N0eWxlZExlZ2FsQnV0dG9uPlxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxTdHlsZWRMZWdhbFRleHQga2V5PXtpdGVtS2V5fSBkYXRhLXRlc3RpZD17aXRlbVRlc3RJRH0gdGVzdElEPXtpdGVtVGVzdElEfT5cclxuICAgICAgICB7cmVuZGVyZWRMYWJlbH1cclxuICAgICAgPC9TdHlsZWRMZWdhbFRleHQ+XHJcbiAgICApO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3QgYnVpbGRRdWlja0FjdGlvbkl0ZW1zID0gKHsgYWN0aW9ucywgdGVzdElEIH0pID0+IHtcclxuICByZXR1cm4gYWN0aW9ucy5tYXAoKGFjdGlvbiwgaW5kZXgpID0+IHtcclxuICAgIGNvbnN0IGFjdGlvbktleSA9IGdldEl0ZW1LZXkoYWN0aW9uLCBpbmRleCk7XHJcbiAgICBjb25zdCBhY3Rpb25UZXN0SUQgPSBhY3Rpb24udGVzdElEIHx8ICh0ZXN0SUQgPyBgJHt0ZXN0SUR9LWFjdGlvbi0ke2FjdGlvbktleX1gIDogdW5kZWZpbmVkKTtcclxuICAgIGNvbnN0IGlzUHJpbWFyeSA9IGFjdGlvbi52YXJpYW50ID09PSBBQ1RJT05fVkFSSUFOVFMuUFJJTUFSWTtcclxuICAgIGNvbnN0IGlzRGlzYWJsZWQgPSBhY3Rpb24uZGlzYWJsZWQgfHwgIWFjdGlvbi5vblByZXNzO1xyXG4gICAgY29uc3QgbGFiZWwgPSBhY3Rpb24ubGFiZWw7XHJcbiAgICBjb25zdCBsYWJlbENvbG9yID0gaXNQcmltYXJ5ID8gJ29uUHJpbWFyeScgOiAndGV4dC5wcmltYXJ5JztcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8U3R5bGVkUXVpY2tBY3Rpb25CdXR0b25cclxuICAgICAgICBrZXk9e2FjdGlvbktleX1cclxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICBvbkNsaWNrPXthY3Rpb24ub25QcmVzc31cclxuICAgICAgICBkaXNhYmxlZD17aXNEaXNhYmxlZH1cclxuICAgICAgICBpc1ByaW1hcnk9e2lzUHJpbWFyeX1cclxuICAgICAgICBpc0Rpc2FibGVkPXtpc0Rpc2FibGVkfVxyXG4gICAgICAgIGFyaWEtbGFiZWw9e2FjdGlvbi5hY2Nlc3NpYmlsaXR5TGFiZWwgfHwgbGFiZWx9XHJcbiAgICAgICAgZGF0YS10ZXN0aWQ9e2FjdGlvblRlc3RJRH1cclxuICAgICAgICB0ZXN0SUQ9e2FjdGlvblRlc3RJRH1cclxuICAgICAgPlxyXG4gICAgICAgIHthY3Rpb24uaWNvbiA/IDxTdHlsZWRRdWlja0FjdGlvbkljb24+e2FjdGlvbi5pY29ufTwvU3R5bGVkUXVpY2tBY3Rpb25JY29uPiA6IG51bGx9XHJcbiAgICAgICAge2xhYmVsID8gKFxyXG4gICAgICAgICAgPFRleHQgdmFyaWFudD1cImxhYmVsXCIgY29sb3I9e2xhYmVsQ29sb3J9PlxyXG4gICAgICAgICAgICB7bGFiZWx9XHJcbiAgICAgICAgICA8L1RleHQ+XHJcbiAgICAgICAgKSA6IG51bGx9XHJcbiAgICAgIDwvU3R5bGVkUXVpY2tBY3Rpb25CdXR0b24+XHJcbiAgICApO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEdsb2JhbEZvb3RlciBjb21wb25lbnQgZm9yIFdlYlxyXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgLSBHbG9iYWxGb290ZXIgcHJvcHNcclxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BzLnZhcmlhbnQgLSBGb290ZXIgdmFyaWFudCAoYXV0aC9tYWluL3BhdGllbnQpXHJcbiAqIEBwYXJhbSB7c3RyaW5nfFJlYWN0LlJlYWN0Tm9kZX0gcHJvcHMuc3RhdHVzIC0gU3RhdHVzIGNvbnRlbnRcclxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BzLnN0YXR1c1RvbmUgLSBTdGF0dXMgdG9uZSAobmV1dHJhbC9zdWNjZXNzL3dhcm5pbmcvZXJyb3IpXHJcbiAqIEBwYXJhbSB7QXJyYXl9IHByb3BzLmxlZ2FsTGlua3MgLSBMZWdhbCBsaW5rIGRlZmluaXRpb25zXHJcbiAqIEBwYXJhbSB7QXJyYXl9IHByb3BzLnF1aWNrQWN0aW9ucyAtIFF1aWNrIGFjdGlvbiBkZWZpbml0aW9uc1xyXG4gKiBAcGFyYW0ge1JlYWN0LlJlYWN0Tm9kZX0gcHJvcHMucXVpY2tBY3Rpb25zU2xvdCAtIEN1c3RvbSBxdWljayBhY3Rpb25zIHNsb3RcclxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BzLmN1cnJlbnRSb2xlIC0gQ3VycmVudCB1c2VyIHJvbGVcclxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BzLmFjY2Vzc2liaWxpdHlMYWJlbCAtIEFjY2Vzc2liaWxpdHkgbGFiZWxcclxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BzLnRlc3RJRCAtIFRlc3QgaWRlbnRpZmllclxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcHMuY2xhc3NOYW1lIC0gQWRkaXRpb25hbCBDU1MgY2xhc3NcclxuICovXHJcbmNvbnN0IEdsb2JhbEZvb3RlcldlYiA9ICh7XHJcbiAgdmFyaWFudCA9IEZPT1RFUl9WQVJJQU5UUy5NQUlOLFxyXG4gIHN0YXR1cyxcclxuICBzdGF0dXNUb25lLFxyXG4gIGxlZ2FsTGlua3MsXHJcbiAgcXVpY2tBY3Rpb25zID0gW10sXHJcbiAgcXVpY2tBY3Rpb25zU2xvdCxcclxuICBjdXJyZW50Um9sZSxcclxuICBhY2Nlc3NpYmlsaXR5TGFiZWwsXHJcbiAgdGVzdElELFxyXG4gIGNsYXNzTmFtZSxcclxuICAuLi5yZXN0XHJcbn0pID0+IHtcclxuICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcclxuICBjb25zdCByZXNvbHZlZFZhcmlhbnQgPSBub3JtYWxpemVWYXJpYW50KHZhcmlhbnQpO1xyXG4gIGNvbnN0IHJlc29sdmVkU3RhdHVzID0gc3RhdHVzID8/IGdldERlZmF1bHRTdGF0dXNMYWJlbChyZXNvbHZlZFZhcmlhbnQsIHQpO1xyXG4gIGNvbnN0IHJlc29sdmVkU3RhdHVzVG9uZSA9IHN0YXR1c1RvbmUgfHwgZ2V0RGVmYXVsdFN0YXR1c1RvbmUocmVzb2x2ZWRWYXJpYW50KTtcclxuXHJcbiAgY29uc3QgcmVzb2x2ZWRMZWdhbExpbmtzID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShsZWdhbExpbmtzKSkgcmV0dXJuIGxlZ2FsTGlua3M7XHJcbiAgICBpZiAobGVnYWxMaW5rcyA9PT0gbnVsbCkgcmV0dXJuIFtdO1xyXG4gICAgcmV0dXJuIGdldERlZmF1bHRMZWdhbExpbmtzKHJlc29sdmVkVmFyaWFudCwgdCk7XHJcbiAgfSwgW2xlZ2FsTGlua3MsIHJlc29sdmVkVmFyaWFudCwgdF0pO1xyXG5cclxuICBjb25zdCB7XHJcbiAgICB2aXNpYmxlTGVnYWxMaW5rcyxcclxuICAgIHZpc2libGVRdWlja0FjdGlvbnMsXHJcbiAgICBoYXNMZWdhbExpbmtzLFxyXG4gICAgaGFzUXVpY2tBY3Rpb25zLFxyXG4gIH0gPSB1c2VHbG9iYWxGb290ZXIoe1xyXG4gICAgbGVnYWxMaW5rczogcmVzb2x2ZWRMZWdhbExpbmtzLFxyXG4gICAgcXVpY2tBY3Rpb25zLFxyXG4gICAgY3VycmVudFJvbGUsXHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IHF1aWNrQWN0aW9uSXRlbXMgPSB1c2VNZW1vKCgpID0+IHtcclxuICAgIHJldHVybiBidWlsZFF1aWNrQWN0aW9uSXRlbXMoeyBhY3Rpb25zOiB2aXNpYmxlUXVpY2tBY3Rpb25zLCB0ZXN0SUQgfSk7XHJcbiAgfSwgW3Zpc2libGVRdWlja0FjdGlvbnMsIHRlc3RJRF0pO1xyXG5cclxuICBjb25zdCBsZWdhbExpbmtJdGVtcyA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgcmV0dXJuIGJ1aWxkTGVnYWxJdGVtcyh7IGxpbmtzOiB2aXNpYmxlTGVnYWxMaW5rcywgdGVzdElEIH0pO1xyXG4gIH0sIFt2aXNpYmxlTGVnYWxMaW5rcywgdGVzdElEXSk7XHJcblxyXG4gIGNvbnN0IHNob3dTdGF0dXMgPSByZXNvbHZlZFN0YXR1cyAhPT0gbnVsbCAmJiByZXNvbHZlZFN0YXR1cyAhPT0gdW5kZWZpbmVkO1xyXG4gIGNvbnN0IHNob3dRdWlja0FjdGlvbnMgPSBCb29sZWFuKHF1aWNrQWN0aW9uc1Nsb3QpIHx8IGhhc1F1aWNrQWN0aW9ucztcclxuICBjb25zdCBzdGF0dXNUZXh0Q29sb3IgPSByZXNvbHZlZFN0YXR1c1RvbmUgPT09IFNUQVRVU19UT05FUy5ORVVUUkFMID8gJ3RleHQuc2Vjb25kYXJ5JyA6ICd0ZXh0LmludmVyc2UnO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPFN0eWxlZEZvb3RlclxyXG4gICAgICByb2xlPVwiY29udGVudGluZm9cIlxyXG4gICAgICBhcmlhLWxhYmVsPXthY2Nlc3NpYmlsaXR5TGFiZWwgfHwgdCgnbmF2aWdhdGlvbi5mb290ZXIudGl0bGUnKX1cclxuICAgICAgZGF0YS10ZXN0aWQ9e3Rlc3RJRH1cclxuICAgICAgdGVzdElEPXt0ZXN0SUR9XHJcbiAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxyXG4gICAgICB7Li4ucmVzdH1cclxuICAgID5cclxuICAgICAgPFN0eWxlZEZvb3RlckNvbnRlbnQ+XHJcbiAgICAgICAgeyhzaG93U3RhdHVzIHx8IHNob3dRdWlja0FjdGlvbnMpICYmIChcclxuICAgICAgICAgIDxTdHlsZWRGb290ZXJSb3c+XHJcbiAgICAgICAgICAgIHtzaG93U3RhdHVzICYmIChcclxuICAgICAgICAgICAgICA8U3R5bGVkU3RhdHVzQmFkZ2UgdG9uZT17cmVzb2x2ZWRTdGF0dXNUb25lfSBhcmlhLWxhYmVsPXt0KCduYXZpZ2F0aW9uLmZvb3Rlci5zdGF0dXMudGl0bGUnKX0+XHJcbiAgICAgICAgICAgICAgICB7dHlwZW9mIHJlc29sdmVkU3RhdHVzID09PSAnc3RyaW5nJyA/IChcclxuICAgICAgICAgICAgICAgICAgPFRleHQgdmFyaWFudD1cImNhcHRpb25cIiBjb2xvcj17c3RhdHVzVGV4dENvbG9yfT5cclxuICAgICAgICAgICAgICAgICAgICB7cmVzb2x2ZWRTdGF0dXN9XHJcbiAgICAgICAgICAgICAgICAgIDwvVGV4dD5cclxuICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgIHJlc29sdmVkU3RhdHVzXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgIDwvU3R5bGVkU3RhdHVzQmFkZ2U+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIHtzaG93UXVpY2tBY3Rpb25zICYmIChcclxuICAgICAgICAgICAgICBxdWlja0FjdGlvbnNTbG90ID8gKFxyXG4gICAgICAgICAgICAgICAgPFN0eWxlZFF1aWNrQWN0aW9uc1Nsb3Q+e3F1aWNrQWN0aW9uc1Nsb3R9PC9TdHlsZWRRdWlja0FjdGlvbnNTbG90PlxyXG4gICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICA8U3R5bGVkUXVpY2tBY3Rpb25zR3JvdXA+e3F1aWNrQWN0aW9uSXRlbXN9PC9TdHlsZWRRdWlja0FjdGlvbnNHcm91cD5cclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L1N0eWxlZEZvb3RlclJvdz5cclxuICAgICAgICApfVxyXG4gICAgICAgIHtoYXNMZWdhbExpbmtzICYmIChcclxuICAgICAgICAgIDxTdHlsZWRGb290ZXJSb3cgYXJpYS1sYWJlbD17dCgnbmF2aWdhdGlvbi5mb290ZXIubGVnYWwudGl0bGUnKX0+XHJcbiAgICAgICAgICAgIDxTdHlsZWRMZWdhbExpbmtzPntsZWdhbExpbmtJdGVtc308L1N0eWxlZExlZ2FsTGlua3M+XHJcbiAgICAgICAgICA8L1N0eWxlZEZvb3RlclJvdz5cclxuICAgICAgICApfVxyXG4gICAgICA8L1N0eWxlZEZvb3RlckNvbnRlbnQ+XHJcbiAgICA8L1N0eWxlZEZvb3Rlcj5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgR2xvYmFsRm9vdGVyV2ViO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFLQSxJQUFBQSxNQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFDLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBRyxNQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxpQkFBQSxHQUFBRixzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQUssTUFBQSxHQUFBTCxPQUFBO0FBQ0EsSUFBQU0sZ0JBQUEsR0FBQU4sT0FBQTtBQWFtQyxJQUFBTyxXQUFBLEdBQUFQLE9BQUE7QUFBQSxJQUFBUSxTQUFBO0FBRW5DLElBQU1DLGdCQUFnQixHQUFHLFNBQW5CQSxnQkFBZ0JBLENBQUlDLE9BQU8sRUFBSztFQUNwQyxJQUFJLE9BQU9BLE9BQU8sS0FBSyxRQUFRLEVBQUUsT0FBT0Msc0JBQWUsQ0FBQ0MsSUFBSTtFQUM1RCxJ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