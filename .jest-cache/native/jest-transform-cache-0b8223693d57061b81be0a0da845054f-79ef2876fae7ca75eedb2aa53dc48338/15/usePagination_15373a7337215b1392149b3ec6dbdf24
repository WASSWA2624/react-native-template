4fc4d1bb3697f95cb462a771052deca2
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = require("react");
var toPositiveInt = function toPositiveInt(value, fallback) {
  var n = typeof value === 'number' ? value : Number(value);
  if (!Number.isFinite(n)) return fallback;
  var floored = Math.floor(n);
  return floored >= 1 ? floored : fallback;
};
var usePagination = function usePagination() {
  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
    _ref$initialPage = _ref.initialPage,
    initialPage = _ref$initialPage === void 0 ? 1 : _ref$initialPage,
    _ref$initialLimit = _ref.initialLimit,
    initialLimit = _ref$initialLimit === void 0 ? 20 : _ref$initialLimit;
  var initial = (0, _react.useMemo)(function () {
    return {
      page: toPositiveInt(initialPage, 1),
      limit: toPositiveInt(initialLimit, 20)
    };
  }, [initialPage, initialLimit]);
  var _useState = (0, _react.useState)(initial.page),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    page = _useState2[0],
    setPageState = _useState2[1];
  var _useState3 = (0, _react.useState)(initial.limit),
    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),
    limit = _useState4[0],
    setLimitState = _useState4[1];
  var setPage = (0, _react.useCallback)(function (next) {
    setPageState(function (prev) {
      return toPositiveInt(typeof next === 'function' ? next(prev) : next, prev);
    });
  }, []);
  var setLimit = (0, _react.useCallback)(function (next) {
    setLimitState(function (prev) {
      return toPositiveInt(typeof next === 'function' ? next(prev) : next, prev);
    });
  }, []);
  var reset = (0, _react.useCallback)(function () {
    setPageState(initial.page);
    setLimitState(initial.limit);
  }, [initial.page, initial.limit]);
  var nextPage = (0, _react.useCallback)(function () {
    setPageState(function (prev) {
      return prev + 1;
    });
  }, []);
  var prevPage = (0, _react.useCallback)(function () {
    setPageState(function (prev) {
      return Math.max(1, prev - 1);
    });
  }, []);
  return {
    page: page,
    limit: limit,
    setPage: setPage,
    setLimit: setLimit,
    nextPage: nextPage,
    prevPage: prevPage,
    reset: reset
  };
};
var _default = exports.default = usePagination;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwidG9Qb3NpdGl2ZUludCIsInZhbHVlIiwiZmFsbGJhY2siLCJuIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJmbG9vcmVkIiwiTWF0aCIsImZsb29yIiwidXNlUGFnaW5hdGlvbiIsIl9yZWYiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJfcmVmJGluaXRpYWxQYWdlIiwiaW5pdGlhbFBhZ2UiLCJfcmVmJGluaXRpYWxMaW1pdCIsImluaXRpYWxMaW1pdCIsImluaXRpYWwiLCJ1c2VNZW1vIiwicGFnZSIsImxpbWl0IiwiX3VzZVN0YXRlIiwidXNlU3RhdGUiLCJfdXNlU3RhdGUyIiwiX3NsaWNlZFRvQXJyYXkyIiwiZGVmYXVsdCIsInNldFBhZ2VTdGF0ZSIsIl91c2VTdGF0ZTMiLCJfdXNlU3RhdGU0Iiwic2V0TGltaXRTdGF0ZSIsInNldFBhZ2UiLCJ1c2VDYWxsYmFjayIsIm5leHQiLCJwcmV2Iiwic2V0TGltaXQiLCJyZXNldCIsIm5leHRQYWdlIiwicHJldlBhZ2UiLCJtYXgiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlcyI6WyJ1c2VQYWdpbmF0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiB1c2VQYWdpbmF0aW9uIEhvb2tcclxuICogR2VuZXJpYyBwYWdpbmF0aW9uIHN0YXRlIGhlbHBlci5cclxuICogRmlsZTogdXNlUGFnaW5hdGlvbi5qc1xyXG4gKi9cclxuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xyXG5cclxuY29uc3QgdG9Qb3NpdGl2ZUludCA9ICh2YWx1ZSwgZmFsbGJhY2spID0+IHtcclxuICBjb25zdCBuID0gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyA/IHZhbHVlIDogTnVtYmVyKHZhbHVlKTtcclxuICBpZiAoIU51bWJlci5pc0Zpbml0ZShuKSkgcmV0dXJuIGZhbGxiYWNrO1xyXG4gIGNvbnN0IGZsb29yZWQgPSBNYXRoLmZsb29yKG4pO1xyXG4gIHJldHVybiBmbG9vcmVkID49IDEgPyBmbG9vcmVkIDogZmFsbGJhY2s7XHJcbn07XHJcblxyXG5jb25zdCB1c2VQYWdpbmF0aW9uID0gKHsgaW5pdGlhbFBhZ2UgPSAxLCBpbml0aWFsTGltaXQgPSAyMCB9ID0ge30pID0+IHtcclxuICBjb25zdCBpbml0aWFsID0gdXNlTWVtbyhcclxuICAgICgpID0+ICh7XHJcbiAgICAgIHBhZ2U6IHRvUG9zaXRpdmVJbnQoaW5pdGlhbFBhZ2UsIDEpLFxyXG4gICAgICBsaW1pdDogdG9Qb3NpdGl2ZUludChpbml0aWFsTGltaXQsIDIwKSxcclxuICAgIH0pLFxyXG4gICAgW2luaXRpYWxQYWdlLCBpbml0aWFsTGltaXRdXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgW3BhZ2UsIHNldFBhZ2VTdGF0ZV0gPSB1c2VTdGF0ZShpbml0aWFsLnBhZ2UpO1xyXG4gIGNvbnN0IFtsaW1pdCwgc2V0TGltaXRTdGF0ZV0gPSB1c2VTdGF0ZShpbml0aWFsLmxpbWl0KTtcclxuXHJcbiAgY29uc3Qgc2V0UGFnZSA9IHVzZUNhbGxiYWNrKChuZXh0KSA9PiB7XHJcbiAgICBzZXRQYWdlU3RhdGUoKHByZXYpID0+XHJcbiAgICAgIHRvUG9zaXRpdmVJbnQodHlwZW9mIG5leHQgPT09ICdmdW5jdGlvbicgPyBuZXh0KHByZXYpIDogbmV4dCwgcHJldilcclxuICAgICk7XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBzZXRMaW1pdCA9IHVzZUNhbGxiYWNrKChuZXh0KSA9PiB7XHJcbiAgICBzZXRMaW1pdFN0YXRlKChwcmV2KSA9PlxyXG4gICAgICB0b1Bvc2l0aXZlSW50KHR5cGVvZiBuZXh0ID09PSAnZnVuY3Rpb24nID8gbmV4dChwcmV2KSA6IG5leHQsIHByZXYpXHJcbiAgICApO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3QgcmVzZXQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBzZXRQYWdlU3RhdGUoaW5pdGlhbC5wYWdlKTtcclxuICAgIHNldExpbWl0U3RhdGUoaW5pdGlhbC5saW1pdCk7XHJcbiAgfSwgW2luaXRpYWwucGFnZSwgaW5pdGlhbC5saW1pdF0pO1xyXG5cclxuICBjb25zdCBuZXh0UGFnZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIHNldFBhZ2VTdGF0ZSgocHJldikgPT4gcHJldiArIDEpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3QgcHJldlBhZ2UgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBzZXRQYWdlU3RhdGUoKHByZXYpID0+IE1hdGgubWF4KDEsIHByZXYgLSAxKSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgcGFnZSxcclxuICAgIGxpbWl0LFxyXG4gICAgc2V0UGFnZSxcclxuICAgIHNldExpbWl0LFxyXG4gICAgbmV4dFBhZ2UsXHJcbiAgICBwcmV2UGFnZSxcclxuICAgIHJlc2V0LFxyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB1c2VQYWdpbmF0aW9uO1xyXG5cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFLQSxJQUFBQSxNQUFBLEdBQUFDLE9BQUE7QUFFQSxJQUFNQyxhQUFhLEdBQUcsU0FBaEJBLGFBQWFBLENBQUlDLEtBQUssRUFBRUMsUUFBUSxFQUFLO0VBQ3pDLElBQU1DLENBQUMsR0FBRyxPQUFPRixLQUFLLEtBQUssUUFBUSxHQUFHQSxLQUFLLEdBQUdHLE1BQU0sQ0FBQ0gsS0FBSyxDQUFDO0VBQzNELElBQUksQ0FBQ0csTUFBTSxDQUFDQyxRQUFRLENBQUNGLENBQUMsQ0FBQyxFQUFFLE9BQU9ELFFBQVE7RUFDeEMsSUFBTUksT0FBTyxHQUFHQyxJQUFJLENBQUNDLEtBQUssQ0FBQ0wsQ0FBQyxDQUFDO0VBQzdCLE9BQU9HLE9BQU8sSUFBSSxDQUFDLEdBQUdBLE9BQU8sR0FBR0osUUFBUTtBQUMxQyxDQUFDO0FBRUQsSUFBTU8sYUFBYSxHQUFHLFNBQWhCQSxhQUFhQSxDQUFBLEVB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