{"version":3,"names":["_storage","require","cov_18757ek0nb","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","undefined","s","f","b","_coverageSchema","coverage","actualCoverage","TOKEN_KEYS","ACCESS_TOKEN","REFRESH_TOKEN","getAccessToken","exports","_ref","_asyncToGenerator2","default","secure","getItem","apply","arguments","getRefreshToken","_ref2","setTokens","_ref3","accessToken","refreshToken","results","Promise","all","setItem","every","Boolean","_x","_x2","clearTokens","_ref4","removeItem","decodeBase64","value","base64","replace","padding","length","repeat","normalized","globalThis","atob","_unused","Buffer","from","toString","getJwtPayload","token","parts","split","decoded","JSON","parse","_unused2","isTokenExpired","payload","expSeconds","exp","Number","isFinite","expMs","Date","now"],"sources":["token.manager.js"],"sourcesContent":["/**\r\n * Token Manager\r\n * Handles JWT token lifecycle\r\n * File: token.manager.js\r\n */\r\nimport { secure } from '@services/storage';\r\n\r\nconst TOKEN_KEYS = {\r\n  ACCESS_TOKEN: 'access_token',\r\n  REFRESH_TOKEN: 'refresh_token',\r\n};\r\n\r\nconst getAccessToken = async () => {\r\n  return await secure.getItem(TOKEN_KEYS.ACCESS_TOKEN);\r\n};\r\n\r\nconst getRefreshToken = async () => {\r\n  return await secure.getItem(TOKEN_KEYS.REFRESH_TOKEN);\r\n};\r\n\r\nconst setTokens = async (accessToken, refreshToken) => {\r\n  const results = await Promise.all([\r\n    secure.setItem(TOKEN_KEYS.ACCESS_TOKEN, accessToken),\r\n    secure.setItem(TOKEN_KEYS.REFRESH_TOKEN, refreshToken),\r\n  ]);\r\n  return results.every(Boolean);\r\n};\r\n\r\nconst clearTokens = async () => {\r\n  await Promise.all([\r\n    secure.removeItem(TOKEN_KEYS.ACCESS_TOKEN),\r\n    secure.removeItem(TOKEN_KEYS.REFRESH_TOKEN),\r\n  ]);\r\n};\r\n\r\nconst decodeBase64 = (value) => {\r\n  if (typeof value !== 'string') return null;\r\n\r\n  // base64url -> base64\r\n  const base64 = value.replace(/-/g, '+').replace(/_/g, '/');\r\n  const padding = base64.length % 4 === 0 ? '' : '='.repeat(4 - (base64.length % 4));\r\n  const normalized = `${base64}${padding}`;\r\n\r\n  if (typeof globalThis?.atob === 'function') {\r\n    try {\r\n      return globalThis.atob(normalized);\r\n    } catch {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // Jest/Node fallback\r\n  // eslint-disable-next-line no-undef\r\n  if (typeof Buffer !== 'undefined') {\r\n    // eslint-disable-next-line no-undef\r\n    return Buffer.from(normalized, 'base64').toString('utf8');\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nconst getJwtPayload = (token) => {\r\n  if (typeof token !== 'string') return null;\r\n  const parts = token.split('.');\r\n  if (parts.length < 2) return null;\r\n\r\n  const decoded = decodeBase64(parts[1]);\r\n  if (!decoded) return null;\r\n\r\n  try {\r\n    return JSON.parse(decoded);\r\n  } catch {\r\n    return null;\r\n  }\r\n};\r\n\r\nconst isTokenExpired = (token) => {\r\n  if (!token) return true;\r\n\r\n  const payload = getJwtPayload(token);\r\n  const expSeconds = payload?.exp;\r\n  if (typeof expSeconds !== 'number' || !Number.isFinite(expSeconds)) return true;\r\n\r\n  const expMs = expSeconds * 1000;\r\n  return Date.now() >= expMs;\r\n};\r\n\r\nexport { getAccessToken, getRefreshToken, setTokens, clearTokens, isTokenExpired };\r\n\r\n"],"mappings":";;;;;;AAKA,IAAAA,QAAA,GAAAC,OAAA;AAA2C,SAAAC,eAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;IAAA;IAAAE,KAAA;MAAA;QAAAC,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;IAAA;IAAAO,SAAA;MAAA;QAAAD,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;UAAAR,GAAA;YAAAF,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;QAAA;QAAAV,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;UAAAR,GAAA;YAAAF,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;QAAA;QAAAV,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;UAAAR,GAAA;YAAAF,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;QAAA;QAAAV,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;UAAAR,GAAA;YAAAF,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;QAAA;QAAAV,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;UAAAR,GAAA;YAAAF,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;QAAA;QAAAV,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;UAAAR,GAAA;YAAAF,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;QAAA;QAAAV,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;UAAAR,GAAA;YAAAF,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;QAAA;QAAAV,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;UAAAR,GAAA;YAAAF,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;QAAA;QAAAV,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;IAAA;IAAAW,CAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAAC,CAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAAC,CAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAAC,eAAA;IAAArB,IAAA;EAAA;EAAA,IAAAsB,QAAA,GAAArB,MAAA,CAAAE,GAAA,MAAAF,MAAA,CAAAE,GAAA;EAAA,KAAAmB,QAAA,CAAAvB,IAAA,KAAAuB,QAAA,CAAAvB,IAAA,EAAAC,IAAA,KAAAA,IAAA;IAAAsB,QAAA,CAAAvB,IAAA,IAAAK,YAAA;EAAA;EAAA,IAAAmB,cAAA,GAAAD,QAAA,CAAAvB,IAAA;EAAA;IAAAD,cAAA,YAAAA,CAAA;MAAA,OAAAyB,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAzB,cAAA;AAE3C,IAAM0B,UAAU,IAAA1B,cAAA,GAAAoB,CAAA,OAAG;EACjBO,YAAY,EAAE,cAAc;EAC5BC,aAAa,EAAE;AACjB,CAAC;AAAC5B,cAAA,GAAAoB,CAAA;AAEF,IAAMS,cAAc,GAAAC,OAAA,CAAAD,cAAA;EAAA,IAAAE,IAAA,OAAAC,kBAAA,CAAAC,OAAA,EAAG,aAAY;IAAAjC,cAAA,GAAAqB,CAAA;IAAArB,cAAA,GAAAoB,CAAA;IACjC,aAAac,eAAM,CAACC,OAAO,CAACT,UAAU,CAACC,YAAY,CAAC;EACtD,CAAC;EAAA,gBAFKE,cAAcA,CAAA;IAAA,OAAAE,IAAA,CAAAK,KAAA,OAAAC,SAAA;EAAA;AAAA,GAEnB;AAACrC,cAAA,GAAAoB,CAAA;AAEF,IAAMkB,eAAe,GAAAR,OAAA,CAAAQ,eAAA;EAAA,IAAAC,KAAA,OAAAP,kBAAA,CAAAC,OAAA,EAAG,aAAY;IAAAjC,cAAA,GAAAqB,CAAA;IAAArB,cAAA,GAAAoB,CAAA;IAClC,aAAac,eAAM,CAACC,OAAO,CAACT,UAAU,CAACE,aAAa,CAAC;EACvD,CAAC;EAAA,gBAFKU,eAAeA,CAAA;IAAA,OAAAC,KAAA,CAAAH,KAAA,OAAAC,SAAA;EAAA;AAAA,GAEpB;AAACrC,cAAA,GAAAoB,CAAA;AAEF,IAAMoB,SAAS,GAAAV,OAAA,CAAAU,SAAA;EAAA,IAAAC,KAAA,OAAAT,kBAAA,CAAAC,OAAA,EAAG,WAAOS,WAAW,EAAEC,YAAY,EAAK;IAAA3C,cAAA,GAAAqB,CAAA;IACrD,IAAMuB,OAAO,IAAA5C,cAAA,GAAAoB,CAAA,aAASyB,OAAO,CAACC,GAAG,CAAC,CAChCZ,eAAM,CAACa,OAAO,CAACrB,UAAU,CAACC,YAAY,EAAEe,WAAW,CAAC,EACpDR,eAAM,CAACa,OAAO,CAACrB,UAAU,CAACE,aAAa,EAAEe,YAAY,CAAC,CACvD,CAAC;IAAC3C,cAAA,GAAAoB,CAAA;IACH,OAAOwB,OAAO,CAACI,KAAK,CAACC,OAAO,CAAC;EAC/B,CAAC;EAAA,gBANKT,SAASA,CAAAU,EAAA,EAAAC,GAAA;IAAA,OAAAV,KAAA,CAAAL,KAAA,OAAAC,SAAA;EAAA;AAAA,GAMd;AAACrC,cAAA,GAAAoB,CAAA;AAEF,IAAMgC,WAAW,GAAAtB,OAAA,CAAAsB,WAAA;EAAA,IAAAC,KAAA,OAAArB,kBAAA,CAAAC,OAAA,EAAG,aAAY;IAAAjC,cAAA,GAAAqB,CAAA;IAAArB,cAAA,GAAAoB,CAAA;IAC9B,MAAMyB,OAAO,CAACC,GAAG,CAAC,CAChBZ,eAAM,CAACoB,UAAU,CAAC5B,UAAU,CAACC,YAAY,CAAC,EAC1CO,eAAM,CAACoB,UAAU,CAAC5B,UAAU,CAACE,aAAa,CAAC,CAC5C,CAAC;EACJ,CAAC;EAAA,gBALKwB,WAAWA,CAAA;IAAA,OAAAC,KAAA,CAAAjB,KAAA,OAAAC,SAAA;EAAA;AAAA,GAKhB;AAACrC,cAAA,GAAAoB,CAAA;AAEF,IAAMmC,YAAY,GAAG,SAAfA,YAAYA,CAAIC,KAAK,EAAK;EAAAxD,cAAA,GAAAqB,CAAA;EAAArB,cAAA,GAAAoB,CAAA;EAC9B,IAAI,OAAOoC,KAAK,KAAK,QAAQ,EAAE;IAAAxD,cAAA,GAAAsB,CAAA;IAAAtB,cAAA,GAAAoB,CAAA;IAAA,OAAO,IAAI;EAAA,CAAC;IAAApB,cAAA,GAAAsB,CAAA;EAAA;EAG3C,IAAMmC,MAAM,IAAAzD,cAAA,GAAAoB,CAAA,QAAGoC,KAAK,CAACE,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAACA,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;EAC1D,IAAMC,OAAO,IAAA3D,cAAA,GAAAoB,CAAA,QAAGqC,MAAM,CAACG,MAAM,GAAG,CAAC,KAAK,CAAC,IAAA5D,cAAA,GAAAsB,CAAA,UAAG,EAAE,KAAAtB,cAAA,GAAAsB,CAAA,UAAG,GAAG,CAACuC,MAAM,CAAC,CAAC,GAAIJ,MAAM,CAACG,MAAM,GAAG,CAAE,CAAC;EAClF,IAAME,UAAU,IAAA9D,cAAA,GAAAoB,CAAA,QAAG,GAAGqC,MAAM,GAAGE,OAAO,EAAE;EAAC3D,cAAA,GAAAoB,CAAA;EAEzC,IAAI,QAAO2C,UAAU,oBAAVA,UAAU,CAAEC,IAAI,MAAK,UAAU,EAAE;IAAAhE,cAAA,GAAAsB,CAAA;IAAAtB,cAAA,GAAAoB,CAAA;IAC1C,IAAI;MAAApB,cAAA,GAAAoB,CAAA;MACF,OAAO2C,UAAU,CAACC,IAAI,CAACF,UAAU,CAAC;IACpC,CAAC,CAAC,OAAAG,OAAA,EAAM;MAAAjE,cAAA,GAAAoB,CAAA;MACN,OAAO,IAAI;IACb;EACF,CAAC;IAAApB,cAAA,GAAAsB,CAAA;EAAA;EAAAtB,cAAA,GAAAoB,CAAA;EAID,IAAI,OAAO8C,MAAM,KAAK,WAAW,EAAE;IAAAlE,cAAA,GAAAsB,CAAA;IAAAtB,cAAA,GAAAoB,CAAA;IAEjC,OAAO8C,MAAM,CAACC,IAAI,CAACL,UAAU,EAAE,QAAQ,CAAC,CAACM,QAAQ,CAAC,MAAM,CAAC;EAC3D,CAAC;IAAApE,cAAA,GAAAsB,CAAA;EAAA;EAAAtB,cAAA,GAAAoB,CAAA;EAED,OAAO,IAAI;AACb,CAAC;AAACpB,cAAA,GAAAoB,CAAA;AAEF,IAAMiD,aAAa,GAAG,SAAhBA,aAAaA,CAAIC,KAAK,EAAK;EAAAtE,cAAA,GAAAqB,CAAA;EAAArB,cAAA,GAAAoB,CAAA;EAC/B,IAAI,OAAOkD,KAAK,KAAK,QAAQ,EAAE;IAAAtE,cAAA,GAAAsB,CAAA;IAAAtB,cAAA,GAAAoB,CAAA;IAAA,OAAO,IAAI;EAAA,CAAC;IAAApB,cAAA,GAAAsB,CAAA;EAAA;EAC3C,IAAMiD,KAAK,IAAAvE,cAAA,GAAAoB,CAAA,QAAGkD,KAAK,CAACE,KAAK,CAAC,GAAG,CAAC;EAACxE,cAAA,GAAAoB,CAAA;EAC/B,IAAImD,KAAK,CAACX,MAAM,GAAG,CAAC,EAAE;IAAA5D,cAAA,GAAAsB,CAAA;IAAAtB,cAAA,GAAAoB,CAAA;IAAA,OAAO,IAAI;EAAA,CAAC;IAAApB,cAAA,GAAAsB,CAAA;EAAA;EAElC,IAAMmD,OAAO,IAAAzE,cAAA,GAAAoB,CAAA,QAAGmC,YAAY,CAACgB,KAAK,CAAC,CAAC,CAAC,CAAC;EAACvE,cAAA,GAAAoB,CAAA;EACvC,IAAI,CAACqD,OAAO,EAAE;IAAAzE,cAAA,GAAAsB,CAAA;IAAAtB,cAAA,GAAAoB,CAAA;IAAA,OAAO,IAAI;EAAA,CAAC;IAAApB,cAAA,GAAAsB,CAAA;EAAA;EAAAtB,cAAA,GAAAoB,CAAA;EAE1B,IAAI;IAAApB,cAAA,GAAAoB,CAAA;IACF,OAAOsD,IAAI,CAACC,KAAK,CAACF,OAAO,CAAC;EAC5B,CAAC,CAAC,OAAAG,QAAA,EAAM;IAAA5E,cAAA,GAAAoB,CAAA;IACN,OAAO,IAAI;EACb;AACF,CAAC;AAACpB,cAAA,GAAAoB,CAAA;AAEF,IAAMyD,cAAc,GAAA/C,OAAA,CAAA+C,cAAA,GAAG,SAAjBA,cAAcA,CAAIP,KAAK,EAAK;EAAAtE,cAAA,GAAAqB,CAAA;EAAArB,cAAA,GAAAoB,CAAA;EAChC,IAAI,CAACkD,KAAK,EAAE;IAAAtE,cAAA,GAAAsB,CAAA;IAAAtB,cAAA,GAAAoB,CAAA;IAAA,OAAO,IAAI;EAAA,CAAC;IAAApB,cAAA,GAAAsB,CAAA;EAAA;EAExB,IAAMwD,OAAO,IAAA9E,cAAA,GAAAoB,CAAA,QAAGiD,aAAa,CAACC,KAAK,CAAC;EACpC,IAAMS,UAAU,IAAA/E,cAAA,GAAAoB,CAAA,QAAG0D,OAAO,oBAAPA,OAAO,CAAEE,GAAG;EAAChF,cAAA,GAAAoB,CAAA;EAChC,IAAI,CAAApB,cAAA,GAAAsB,CAAA,iBAAOyD,UAAU,KAAK,QAAQ,MAAA/E,cAAA,GAAAsB,CAAA,UAAI,CAAC2D,MAAM,CAACC,QAAQ,CAACH,UAAU,CAAC,GAAE;IAAA/E,cAAA,GAAAsB,CAAA;IAAAtB,cAAA,GAAAoB,CAAA;IAAA,OAAO,IAAI;EAAA,CAAC;IAAApB,cAAA,GAAAsB,CAAA;EAAA;EAEhF,IAAM6D,KAAK,IAAAnF,cAAA,GAAAoB,CAAA,QAAG2D,UAAU,GAAG,IAAI;EAAC/E,cAAA,GAAAoB,CAAA;EAChC,OAAOgE,IAAI,CAACC,GAAG,CAAC,CAAC,IAAIF,KAAK;AAC5B,CAAC","ignoreList":[]}