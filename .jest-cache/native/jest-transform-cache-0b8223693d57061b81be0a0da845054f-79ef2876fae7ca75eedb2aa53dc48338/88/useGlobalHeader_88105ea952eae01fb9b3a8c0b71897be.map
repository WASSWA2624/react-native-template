{"version":3,"names":["_react","require","_types","normalizeRole","role","normalized","trim","toLowerCase","length","isActionVisible","action","currentRole","isVisible","roles","Array","isArray","normalizedRoles","map","String","includes","splitActions","actions","reduce","acc","placement","ACTION_PLACEMENTS","SECONDARY","secondaryActions","push","primaryActions","useGlobalHeader","_ref","arguments","undefined","_ref$actions","breadcrumbs","normalizedRole","visibleActions","useMemo","filter","_useMemo","hasBreadcrumbs","_default","exports","default"],"sources":["useGlobalHeader.js"],"sourcesContent":["/**\r\n * useGlobalHeader Hook\r\n * Shared logic for GlobalHeader component\r\n * File: useGlobalHeader.js\r\n */\r\nimport { useMemo } from 'react';\r\nimport { ACTION_PLACEMENTS } from './types';\r\n\r\nconst normalizeRole = (role) => {\r\n  if (typeof role !== 'string') return null;\r\n  const normalized = role.trim().toLowerCase();\r\n  return normalized.length > 0 ? normalized : null;\r\n};\r\n\r\nconst isActionVisible = (action, currentRole) => {\r\n  if (!action || action.isVisible === false) return false;\r\n  const roles = Array.isArray(action.roles) ? action.roles : [];\r\n  if (roles.length === 0) return true;\r\n  if (!currentRole) return false;\r\n  const normalizedRoles = roles.map((role) => String(role).trim().toLowerCase());\r\n  return normalizedRoles.includes(currentRole);\r\n};\r\n\r\nconst splitActions = (actions) => {\r\n  return actions.reduce(\r\n    (acc, action) => {\r\n      if (action.placement === ACTION_PLACEMENTS.SECONDARY) {\r\n        acc.secondaryActions.push(action);\r\n      } else {\r\n        acc.primaryActions.push(action);\r\n      }\r\n      return acc;\r\n    },\r\n    { primaryActions: [], secondaryActions: [] }\r\n  );\r\n};\r\n\r\n/**\r\n * GlobalHeader hook\r\n * @param {Object} options - Hook options\r\n * @param {Array} [options.actions] - Action definitions\r\n * @param {string} [options.currentRole] - Current user role\r\n * @param {Array} [options.breadcrumbs] - Breadcrumb items\r\n * @returns {Object} Header state helpers\r\n */\r\nconst useGlobalHeader = ({ actions = [], currentRole, breadcrumbs } = {}) => {\r\n  const normalizedRole = normalizeRole(currentRole);\r\n\r\n  const visibleActions = useMemo(() => {\r\n    if (!Array.isArray(actions)) return [];\r\n    return actions.filter((action) => isActionVisible(action, normalizedRole));\r\n  }, [actions, normalizedRole]);\r\n\r\n  const { primaryActions, secondaryActions } = useMemo(() => {\r\n    return splitActions(visibleActions);\r\n  }, [visibleActions]);\r\n\r\n  const hasBreadcrumbs = Array.isArray(breadcrumbs) && breadcrumbs.length > 0;\r\n\r\n  return {\r\n    primaryActions,\r\n    secondaryActions,\r\n    hasBreadcrumbs,\r\n  };\r\n};\r\n\r\nexport default useGlobalHeader;\r\n"],"mappings":"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","ignoreList":[]}