{"version":3,"names":["_react","require","useToast","_ref","arguments","length","undefined","_ref$duration","duration","onDismiss","_useState","useState","_useState2","_slicedToArray2","default","visible","setVisible","timeoutRef","useRef","hasCalledOnDismissRef","hide","useCallback","prevVisible","current","clearTimeout","show","setTimeout","useEffect","_default","exports"],"sources":["useToast.js"],"sourcesContent":["/**\r\n * Toast Hook\r\n * Manages toast visibility and auto-dismiss\r\n * File: useToast.js\r\n */\r\n\r\nimport { useState, useRef, useCallback, useEffect } from 'react';\r\n\r\n/**\r\n * Hook for managing toast state\r\n * @param {number} duration - Auto-dismiss duration in ms (default: 3000)\r\n * @param {Function} onDismiss - Callback when toast is dismissed\r\n */\r\nconst useToast = ({ duration = 3000, onDismiss } = {}) => {\r\n  const [visible, setVisible] = useState(false);\r\n  const timeoutRef = useRef(null);\r\n  const hasCalledOnDismissRef = useRef(false);\r\n\r\n  const hide = useCallback(() => {\r\n    setVisible((prevVisible) => {\r\n      // Call onDismiss only when transitioning from visible to hidden, or if it hasn't been called yet\r\n      if (!hasCalledOnDismissRef.current && onDismiss) {\r\n        hasCalledOnDismissRef.current = true;\r\n        onDismiss();\r\n      }\r\n      return false;\r\n    });\r\n    if (timeoutRef.current) {\r\n      clearTimeout(timeoutRef.current);\r\n      timeoutRef.current = null;\r\n    }\r\n  }, [onDismiss]);\r\n\r\n  const show = useCallback(() => {\r\n    setVisible(true);\r\n    // Reset the onDismiss flag when showing\r\n    hasCalledOnDismissRef.current = false;\r\n    if (timeoutRef.current) {\r\n      clearTimeout(timeoutRef.current);\r\n    }\r\n    timeoutRef.current = setTimeout(() => {\r\n      hide();\r\n    }, duration);\r\n  }, [duration, hide]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (timeoutRef.current) {\r\n        clearTimeout(timeoutRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Reset onDismiss flag when onDismiss changes\r\n  useEffect(() => {\r\n    hasCalledOnDismissRef.current = false;\r\n  }, [onDismiss]);\r\n\r\n  return {\r\n    visible,\r\n    show,\r\n    hide,\r\n  };\r\n};\r\n\r\nexport default useToast;\r\n\r\n"],"mappings":";;;;;;AAMA,IAAAA,MAAA,GAAAC,OAAA;AAOA,IAAMC,QAAQ,GAAG,SAAXA,QAAQA,CAAA,EAA4C;EAAA,IAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAP,CAAC,CAAC;IAAAG,aAAA,GAAAJ,IAAA,CAAjCK,QAAQ;IAARA,QAAQ,GAAAD,aAAA,cAAG,IAAI,GAAAA,aAAA;IAAEE,SAAS,GAAAN,IAAA,CAATM,SAAS;EAC5C,IAAAC,SAAA,GAA8B,IAAAC,eAAQ,EAAC,KAAK,CAAC;IAAAC,UAAA,OAAAC,eAAA,CAAAC,OAAA,EAAAJ,SAAA;IAAtCK,OAAO,GAAAH,UAAA;IAAEI,UAAU,GAAAJ,UAAA;EAC1B,IAAMK,UAAU,GAAG,IAAAC,aAAM,EAAC,IAAI,CAAC;EAC/B,IAAMC,qBAAqB,GAAG,IAAAD,aAAM,EAAC,KAAK,CAAC;EAE3C,IAAME,IAAI,GAAG,IAAAC,kBAAW,EAAC,YAAM;IAC7BL,UAAU,CAAC,UAACM,WAAW,EAAK;MAE1B,IAAI,CAACH,qBAAqB,CAACI,OAAO,IAAId,SAAS,EAAE;QAC/CU,qBAAqB,CAACI,OAAO,GAAG,IAAI;QACpCd,SAAS,CAAC,CAAC;MACb;MACA,OAAO,KAAK;IACd,CAAC,CAAC;IACF,IAAIQ,UAAU,CAACM,OAAO,EAAE;MACtBC,YAAY,CAACP,UAAU,CAACM,OAAO,CAAC;MAChCN,UAAU,CAACM,OAAO,GAAG,IAAI;IAC3B;EACF,CAAC,EAAE,CAACd,SAAS,CAAC,CAAC;EAEf,IAAMgB,IAAI,GAAG,IAAAJ,kBAAW,EAAC,YAAM;IAC7BL,UAAU,CAAC,IAAI,CAAC;IAEhBG,qBAAqB,CAACI,OAAO,GAAG,KAAK;IACrC,IAAIN,UAAU,CAACM,OAAO,EAAE;MACtBC,YAAY,CAACP,UAAU,CAACM,OAAO,CAAC;IAClC;IACAN,UAAU,CAACM,OAAO,GAAGG,UAAU,CAAC,YAAM;MACpCN,IAAI,CAAC,CAAC;IACR,CAAC,EAAEZ,QAAQ,CAAC;EACd,CAAC,EAAE,CAACA,QAAQ,EAAEY,IAAI,CAAC,CAAC;EAEpB,IAAAO,gBAAS,EAAC,YAAM;IACd,OAAO,YAAM;MACX,IAAIV,UAAU,CAACM,OAAO,EAAE;QACtBC,YAAY,CAACP,UAAU,CAACM,OAAO,CAAC;MAClC;IACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAGN,IAAAI,gBAAS,EAAC,YAAM;IACdR,qBAAqB,CAACI,OAAO,GAAG,KAAK;EACvC,CAAC,EAAE,CAACd,SAAS,CAAC,CAAC;EAEf,OAAO;IACLM,OAAO,EAAPA,OAAO;IACPU,IAAI,EAAJA,IAAI;IACJL,IAAI,EAAJA;EACF,CAAC;AACH,CAAC;AAAC,IAAAQ,QAAA,GAAAC,OAAA,CAAAf,OAAA,GAEaZ,QAAQ","ignoreList":[]}