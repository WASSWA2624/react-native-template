{"version":3,"names":["_client","require","buildQueryString","exports","params","arguments","length","undefined","entries","Object","filter","_ref","_ref2","_slicedToArray2","default","value","searchParams","URLSearchParams","forEach","_ref3","_ref4","key","Array","isArray","item","append","String","query","toString","ensureEndpoint","name","Error","createCrudApi","endpoints","listUrl","LIST","CREATE","createUrl","getUrl","GET","updateUrl","UPDATE","deleteUrl","DELETE","list","apiClient","url","method","get","id","create","payload","body","update","remove"],"sources":["crud.js"],"sourcesContent":["/**\r\n * CRUD API Factory\r\n * Reusable API helpers for CRUD endpoints\r\n * File: crud.js\r\n */\r\nimport { apiClient } from './client';\r\n\r\nconst buildQueryString = (params = {}) => {\r\n  if (!params || typeof params !== 'object') return '';\r\n  const entries = Object.entries(params).filter(([, value]) => value !== undefined && value !== null);\r\n  if (!entries.length) return '';\r\n  const searchParams = new URLSearchParams();\r\n  entries.forEach(([key, value]) => {\r\n    if (Array.isArray(value)) {\r\n      value.forEach((item) => searchParams.append(key, String(item)));\r\n    } else {\r\n      searchParams.append(key, String(value));\r\n    }\r\n  });\r\n  const query = searchParams.toString();\r\n  return query ? `?${query}` : '';\r\n};\r\n\r\nconst ensureEndpoint = (value, name) => {\r\n  if (!value) {\r\n    throw new Error(`Missing endpoint: ${name}`);\r\n  }\r\n  return value;\r\n};\r\n\r\nconst createCrudApi = (endpoints) => {\r\n  const listUrl = ensureEndpoint(endpoints?.LIST || endpoints?.CREATE, 'LIST');\r\n  const createUrl = ensureEndpoint(endpoints?.CREATE || endpoints?.LIST, 'CREATE');\r\n  const getUrl = ensureEndpoint(endpoints?.GET, 'GET');\r\n  const updateUrl = ensureEndpoint(endpoints?.UPDATE, 'UPDATE');\r\n  const deleteUrl = ensureEndpoint(endpoints?.DELETE, 'DELETE');\r\n\r\n  return {\r\n    list: (params = {}) =>\r\n      apiClient({\r\n        url: `${listUrl}${buildQueryString(params)}`,\r\n        method: 'GET',\r\n      }),\r\n    get: (id) =>\r\n      apiClient({\r\n        url: getUrl(id),\r\n        method: 'GET',\r\n      }),\r\n    create: (payload) =>\r\n      apiClient({\r\n        url: createUrl,\r\n        method: 'POST',\r\n        body: payload,\r\n      }),\r\n    update: (id, payload) =>\r\n      apiClient({\r\n        url: updateUrl(id),\r\n        method: 'PUT',\r\n        body: payload,\r\n      }),\r\n    remove: (id) =>\r\n      apiClient({\r\n        url: deleteUrl(id),\r\n        method: 'DELETE',\r\n      }),\r\n  };\r\n};\r\n\r\nexport { buildQueryString, createCrudApi };\r\n"],"mappings":"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","ignoreList":[]}