f8f6020df6b9dc9aae4bef76f0b607ee
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = require("react");
var _reactRedux = require("react-redux");
var _hooks = require("../../../../hooks");
var _selectors = require("../../../../store/selectors");
var _ui = require("../../../../store/slices/ui.slice");
var _storage = require("../../../../services/storage");
var _types = require("./types");
var isValidTheme = function isValidTheme(value) {
  return _types.THEME_MODE_VALUES.includes(value);
};
var useThemeControls = function useThemeControls() {
  var _useI18n = (0, _hooks.useI18n)(),
    t = _useI18n.t;
  var dispatch = (0, _reactRedux.useDispatch)();
  var storedTheme = (0, _reactRedux.useSelector)(_selectors.selectTheme);
  var theme = isValidTheme(storedTheme) ? storedTheme : _types.THEME_MODES.LIGHT;
  var options = (0, _react.useMemo)(function () {
    return [{
      label: t('settings.theme.options.system'),
      value: _types.THEME_MODES.SYSTEM
    }, {
      label: t('settings.theme.options.light'),
      value: _types.THEME_MODES.LIGHT
    }, {
      label: t('settings.theme.options.dark'),
      value: _types.THEME_MODES.DARK
    }];
  }, [t]);
  var setTheme = (0, _react.useCallback)(function (nextTheme) {
    if (!isValidTheme(nextTheme)) return;
    if (nextTheme === theme) return;
    dispatch(_ui.actions.setTheme(nextTheme));
    void _storage.async.setItem('theme_preference', nextTheme);
  }, [dispatch, theme]);
  return {
    theme: theme,
    options: options,
    setTheme: setTheme
  };
};
var _default = exports.default = useThemeControls;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX3JlYWN0UmVkdXgiLCJfaG9va3MiLCJfc2VsZWN0b3JzIiwiX3VpIiwiX3N0b3JhZ2UiLCJfdHlwZXMiLCJpc1ZhbGlkVGhlbWUiLCJ2YWx1ZSIsIlRIRU1FX01PREVfVkFMVUVTIiwiaW5jbHVkZXMiLCJ1c2VUaGVtZUNvbnRyb2xzIiwiX3VzZUkxOG4iLCJ1c2VJMThuIiwidCIsImRpc3BhdGNoIiwidXNlRGlzcGF0Y2giLCJzdG9yZWRUaGVtZSIsInVzZVNlbGVjdG9yIiwic2VsZWN0VGhlbWUiLCJ0aGVtZSIsIlRIRU1FX01PREVTIiwiTElHSFQiLCJvcHRpb25zIiwidXNlTWVtbyIsImxhYmVsIiwiU1lTVEVNIiwiREFSSyIsInNldFRoZW1lIiwidXNlQ2FsbGJhY2siLCJuZXh0VGhlbWUiLCJhY3Rpb25zIiwiYXN5bmNTdG9yYWdlIiwic2V0SXRlbSIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlcyI6WyJ1c2VUaGVtZUNvbnRyb2xzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiB1c2VUaGVtZUNvbnRyb2xzIEhvb2tcclxuICogVGhlbWUgc2VsZWN0aW9uIGxvZ2ljIHdpdGggcGVyc2lzdGVuY2VcclxuICogRmlsZTogdXNlVGhlbWVDb250cm9scy5qc1xyXG4gKi9cclxuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHVzZURpc3BhdGNoLCB1c2VTZWxlY3RvciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuaW1wb3J0IHsgdXNlSTE4biB9IGZyb20gJ0Bob29rcyc7XHJcbmltcG9ydCB7IHNlbGVjdFRoZW1lIH0gZnJvbSAnQHN0b3JlL3NlbGVjdG9ycyc7XHJcbmltcG9ydCB7IGFjdGlvbnMgfSBmcm9tICdAc3RvcmUvc2xpY2VzL3VpLnNsaWNlJztcclxuaW1wb3J0IHsgYXN5bmMgYXMgYXN5bmNTdG9yYWdlIH0gZnJvbSAnQHNlcnZpY2VzL3N0b3JhZ2UnO1xyXG5pbXBvcnQgeyBUSEVNRV9NT0RFUywgVEhFTUVfTU9ERV9WQUxVRVMgfSBmcm9tICcuL3R5cGVzJztcclxuXHJcbmNvbnN0IGlzVmFsaWRUaGVtZSA9ICh2YWx1ZSkgPT4gVEhFTUVfTU9ERV9WQUxVRVMuaW5jbHVkZXModmFsdWUpO1xyXG5cclxuY29uc3QgdXNlVGhlbWVDb250cm9scyA9ICgpID0+IHtcclxuICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcclxuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XHJcbiAgY29uc3Qgc3RvcmVkVGhlbWUgPSB1c2VTZWxlY3RvcihzZWxlY3RUaGVtZSk7XHJcbiAgY29uc3QgdGhlbWUgPSBpc1ZhbGlkVGhlbWUoc3RvcmVkVGhlbWUpID8gc3RvcmVkVGhlbWUgOiBUSEVNRV9NT0RFUy5MSUdIVDtcclxuXHJcbiAgY29uc3Qgb3B0aW9ucyA9IHVzZU1lbW8oXHJcbiAgICAoKSA9PiBbXHJcbiAgICAgIHsgbGFiZWw6IHQoJ3NldHRpbmdzLnRoZW1lLm9wdGlvbnMuc3lzdGVtJyksIHZhbHVlOiBUSEVNRV9NT0RFUy5TWVNURU0gfSxcclxuICAgICAgeyBsYWJlbDogdCgnc2V0dGluZ3MudGhlbWUub3B0aW9ucy5saWdodCcpLCB2YWx1ZTogVEhFTUVfTU9ERVMuTElHSFQgfSxcclxuICAgICAgeyBsYWJlbDogdCgnc2V0dGluZ3MudGhlbWUub3B0aW9ucy5kYXJrJyksIHZhbHVlOiBUSEVNRV9NT0RFUy5EQVJLIH0sXHJcbiAgICBdLFxyXG4gICAgW3RdXHJcbiAgKTtcclxuXHJcbiAgY29uc3Qgc2V0VGhlbWUgPSB1c2VDYWxsYmFjayhcclxuICAgIChuZXh0VGhlbWUpID0+IHtcclxuICAgICAgaWYgKCFpc1ZhbGlkVGhlbWUobmV4dFRoZW1lKSkgcmV0dXJuO1xyXG4gICAgICBpZiAobmV4dFRoZW1lID09PSB0aGVtZSkgcmV0dXJuO1xyXG4gICAgICBkaXNwYXRjaChhY3Rpb25zLnNldFRoZW1lKG5leHRUaGVtZSkpO1xyXG4gICAgICB2b2lkIGFzeW5jU3RvcmFnZS5zZXRJdGVtKCd0aGVtZV9wcmVmZXJlbmNlJywgbmV4dFRoZW1lKTtcclxuICAgIH0sXHJcbiAgICBbZGlzcGF0Y2gsIHRoZW1lXVxyXG4gICk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICB0aGVtZSxcclxuICAgIG9wdGlvbnMsXHJcbiAgICBzZXRUaGVtZSxcclxuICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXNlVGhlbWVDb250cm9scztcclxuIl0sIm1hcHBpbmdzIjoiOzs7O0FBS0EsSUFBQUEsTUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsV0FBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsTUFBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsVUFBQSxHQUFBSCxPQUFBO0FBQ0EsSUFBQUksR0FBQSxHQUFBSixPQUFBO0FBQ0EsSUFBQUssUUFBQSxHQUFBTCxPQUFBO0FBQ0EsSUFBQU0sTUFBQSxHQUFBTixPQUFBO0FBRUEsSUFBTU8sWUFBWSxHQUFHLFNBQWZBLFlBQVlBLENBQUlDLEtBQUs7RUFBQSxPQUFLQyx3QkFBaUIsQ0FBQ0MsUUFBUSxDQUFDRixLQUFLLENBQUM7QUFBQTtBQUVqRSxJQUFNRyxnQkFBZ0IsR0FBRyxTQUFuQkEsZ0JBQWdCQSxDQUFBLEVBQVM7RUFDN0IsSUFBQUMsUUFBQSxHQUFjLElBQUFDLGNBQU8sRUFBQyxDQUFDO0lBQWZDLENBQUMsR0FBQUYsUUFBQSxDQUFERSxDQUFDO0VBQ1QsSUFBTUMsUUFBUSxHQUFHLElBQUFDLHVCQUFXLEVBQUMsQ0FBQztFQUM5QixJQUFNQyxXQUFXLEdBQUcsSUFBQUMsdUJBQVcsRUFBQ0Msc0JBQVcsQ0FBQztFQUM1QyxJQUFNQyxLQUFLLEdBQUdiLFlBQVksQ0FBQ1UsV0FBVyxDQUFDLEdBQUdBLFdBQVcsR0FBR0ksa0JBQVcsQ0FBQ0MsS0FBSztFQUV6RSxJQUFNQyxPQUFPLEdBQUcsSUFBQUMsY0FBTyxFQUNyQjtJQUFBLE9BQU0sQ0FDSjtNQUFFQyxLQUFLLEVBQUVYLENBQUMsQ0FBQywrQkFBK0IsQ0FBQztNQUFFTixLQUFLLEVBQUVhLGtCQUFXLENBQUNLO0lBQU8sQ0FBQyxFQUN4RTtNQUFFRCxLQUFLLEVBQUVYLENBQUMsQ0FBQyw4QkFBOEIsQ0FBQztNQUFFTixLQUFLLEVBQUVhLGtCQUFXLENBQUNDO0lBQU0sQ0FBQyxFQUN0RTtNQUFFRyxLQUFLLEVBQUVYLENBQUMsQ0FBQyw2QkFBNkIsQ0FBQztNQUFFTixLQUFLLEVBQUVhLGtCQUFXLENBQUNNO0lBQUssQ0FBQyxDQUNyRTtFQUFBLEdBQ0QsQ0FBQ2IsQ0FBQyxDQUNKLENBQUM7RUFFRCxJQUFNYyxRQUFRLEdBQUcsSUFBQUMsa0JBQVcsRUFDMUIsVUFBQ0MsU0FBUyxFQUFLO0lBQ2IsSUFBSSxDQUFDdkIsWUFBWSxDQUFDdUIsU0FBUyxDQUFDLEVBQUU7SUFDOUIsSUFBSUEsU0FBUyxLQUFLVixLQUFLLEVBQUU7SUFDekJMLFFBQVEsQ0FBQ2dCLFdBQU8sQ0FBQ0gsUUFBUSxDQUFDRSxTQUFTLENBQUMsQ0FBQztJQUNyQyxLQUFLRSxjQUFZLENBQUNDLE9BQU8sQ0FBQyxrQkFBa0IsRUFBRUgsU0FBUyxDQUFDO0VBQzFELENBQUMsRUFDRCxDQUFDZixRQUFRLEVBQUVLLEtBQUssQ0FDbEIsQ0FBQztFQUVELE9BQU87SUFDTEEsS0FBSyxFQUFMQSxLQUFLO0lBQ0xHLE9BQU8sRUFBUEEsT0FBTztJQUNQSyxRQUFRLEVBQVJBO0VBQ0YsQ0FBQztBQUNILENBQUM7QUFBQyxJQUFBTSxRQUFBLEdBQUFDLE9BQUEsQ0FBQUMsT0FBQSxHQUVhekIsZ0JBQWdCIiwiaWdub3JlTGlzdCI6W119