{"version":3,"names":["React","useEffect","useRef","StyledBackdrop","StyledModalContainer","StyledCloseButton","StyledContent","StyledDescription","useModal","useI18n","SIZES","jsx","_jsx","jsxs","_jsxs","cov_lbdtwh647","s","ModalWeb","_ref","_ref$visible","visible","b","onDismiss","_ref$size","size","MEDIUM","_ref$showCloseButton","showCloseButton","_ref$dismissOnBackdro","dismissOnBackdrop","children","accessibilityLabel","accessibilityHint","testID","className","f","_ref2","t","_ref3","handleBackdropPress","modalRef","document","handleEscape","e","key","handleTab","current","querySelectorAll","focusableElements","firstElement","lastElement","length","shiftKey","activeElement","preventDefault","focus","addEventListener","querySelector","firstFocusable","body","style","overflow","removeEventListener","onClick","role","undefined","ref","stopPropagation","onPress","type","id"],"sources":["Modal.web.jsx"],"sourcesContent":["/**\r\n * Modal Component - Web\r\n * Modal dialog component for Web platform\r\n * File: Modal.web.jsx\r\n */\r\n\r\nimport React, { useEffect, useRef } from 'react';\r\nimport { StyledBackdrop, StyledModalContainer, StyledCloseButton, StyledContent, StyledDescription } from './Modal.web.styles';\r\nimport useModal from './useModal';\r\nimport { useI18n } from '@hooks';\r\nimport { SIZES } from './types';\r\n\r\n/**\r\n * Modal component for Web\r\n * @param {Object} props - Modal props\r\n * @param {boolean} props.visible - Modal visibility\r\n * @param {Function} props.onDismiss - Dismiss handler\r\n * @param {string} props.size - Modal size (small, medium, large, fullscreen)\r\n * @param {boolean} props.showCloseButton - Show close button\r\n * @param {boolean} props.dismissOnBackdrop - Dismiss on backdrop press\r\n * @param {React.ReactNode} props.children - Modal content\r\n * @param {string} props.accessibilityLabel - Accessibility label\r\n * @param {string} props.accessibilityHint - Accessibility hint\r\n * @param {string} props.testID - Test identifier\r\n * @param {string} props.className - Additional CSS class\r\n */\r\nconst ModalWeb = ({\r\n  visible = false,\r\n  onDismiss,\r\n  size = SIZES.MEDIUM,\r\n  showCloseButton = true,\r\n  dismissOnBackdrop = true,\r\n  children,\r\n  accessibilityLabel,\r\n  accessibilityHint,\r\n  testID,\r\n  className,\r\n}) => {\r\n  const { t } = useI18n();\r\n  const { handleBackdropPress } = useModal({\r\n    visible,\r\n    onDismiss,\r\n    dismissOnBackdrop,\r\n  });\r\n\r\n  const modalRef = useRef(null);\r\n\r\n  // Focus trap and ESC key handling\r\n  useEffect(() => {\r\n    if (!visible) return;\r\n    \r\n    // Guard for non-web environments (e.g., tests)\r\n    if (typeof document === 'undefined') return;\r\n\r\n    const handleEscape = (e) => {\r\n      if (e.key === 'Escape' && onDismiss) {\r\n        onDismiss();\r\n      }\r\n    };\r\n\r\n    const handleTab = (e) => {\r\n      if (!modalRef.current || typeof modalRef.current.querySelectorAll !== 'function') return;\r\n\r\n      const focusableElements = modalRef.current.querySelectorAll(\r\n        'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\r\n      );\r\n      const firstElement = focusableElements[0];\r\n      const lastElement = focusableElements[focusableElements.length - 1];\r\n\r\n      if (e.shiftKey) {\r\n        if (document.activeElement === firstElement) {\r\n          e.preventDefault();\r\n          lastElement?.focus();\r\n        }\r\n      } else {\r\n        if (document.activeElement === lastElement) {\r\n          e.preventDefault();\r\n          firstElement?.focus();\r\n        }\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleEscape);\r\n    document.addEventListener('keydown', handleTab);\r\n\r\n    // Focus first element\r\n    if (modalRef.current && typeof modalRef.current.querySelector === 'function') {\r\n      const firstFocusable = modalRef.current.querySelector(\r\n        'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\r\n      );\r\n      firstFocusable?.focus();\r\n    }\r\n\r\n    // Prevent body scroll\r\n    document.body.style.overflow = 'hidden';\r\n\r\n    return () => {\r\n      if (typeof document !== 'undefined') {\r\n        document.removeEventListener('keydown', handleEscape);\r\n        document.removeEventListener('keydown', handleTab);\r\n        document.body.style.overflow = '';\r\n      }\r\n    };\r\n  }, [visible, onDismiss]);\r\n\r\n  if (!visible) return null;\r\n\r\n  return (\r\n    <StyledBackdrop\r\n      onClick={handleBackdropPress}\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n      aria-label={accessibilityLabel}\r\n      aria-describedby={accessibilityHint && testID ? `${testID}-description` : undefined}\r\n      data-testid={testID}\r\n      testID={testID}\r\n      className={className}\r\n    >\r\n      <StyledModalContainer\r\n        size={size}\r\n        ref={modalRef}\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        {showCloseButton && onDismiss && (\r\n          <StyledCloseButton\r\n            onClick={onDismiss}\r\n            onPress={onDismiss}\r\n            aria-label={t('common.close')}\r\n            type=\"button\"\r\n            data-testid={testID ? `${testID}-close` : undefined}\r\n            testID={testID ? `${testID}-close` : undefined}\r\n          >\r\n            Ã—\r\n          </StyledCloseButton>\r\n        )}\r\n        {accessibilityHint && testID && (\r\n          <StyledDescription id={`${testID}-description`}>\r\n            {accessibilityHint}\r\n          </StyledDescription>\r\n        )}\r\n        <StyledContent>\r\n          {children}\r\n        </StyledContent>\r\n      </StyledModalContainer>\r\n    </StyledBackdrop>\r\n  );\r\n};\r\n\r\nexport default ModalWeb;\r\n\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}