7a5ac512b0126dca0fdd3019c124dfab
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _callSuper2 = _interopRequireDefault(require("@babel/runtime/helpers/callSuper"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _clamp = _interopRequireDefault(require("../Utilities/clamp"));
var _infoLog = _interopRequireDefault(require("../Utilities/infoLog"));
var _CellRenderMask = require("./CellRenderMask");
var _ChildListCollection = _interopRequireDefault(require("./ChildListCollection"));
var _FillRateHelper = _interopRequireDefault(require("./FillRateHelper"));
var _ListMetricsAggregator = _interopRequireDefault(require("./ListMetricsAggregator"));
var _StateSafePureComponent = _interopRequireDefault(require("./StateSafePureComponent"));
var _ViewabilityHelper = _interopRequireDefault(require("./ViewabilityHelper"));
var _VirtualizedListCellRenderer = _interopRequireDefault(require("./VirtualizedListCellRenderer"));
var _VirtualizedListContext = require("./VirtualizedListContext.js");
var _VirtualizedListProps = require("./VirtualizedListProps");
var _VirtualizeUtils = require("./VirtualizeUtils");
var _invariant = _interopRequireDefault(require("invariant"));
var _nullthrows = _interopRequireDefault(require("nullthrows"));
var _react = _interopRequireWildcard(require("react"));
var React = _react;
var _reactNative = require("react-native");
var ReactNativeFeatureFlags = _interopRequireWildcard(require("react-native/src/private/featureflags/ReactNativeFeatureFlags"));
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["onContentSizeChange"];
var ON_EDGE_REACHED_EPSILON = 0.001;
var _usedIndexForKey = false;
var _keylessItemComponentName = '';
function getScrollingThreshold(threshold, visibleLength) {
  return threshold * visibleLength / 2;
}
var VirtualizedList = function (_StateSafePureCompone) {
  function VirtualizedList(_props) {
    var _this$props$maintainV, _this$props$maintainV2;
    var _this;
    (0, _classCallCheck2.default)(this, VirtualizedList);
    _this = (0, _callSuper2.default)(this, VirtualizedList, [_props]);
    _this._getScrollMetrics = function () {
      return _this._scrollMetrics;
    };
    _this._getOutermostParentListRef = function () {
      if (_this._isNestedWithSameOrientation()) {
        return _this.context.getOutermostParentListRef();
      } else {
        return _this;
      }
    };
    _this._registerAsNestedChild = function (childList) {
      _this._nestedChildLists.add(childList.ref, childList.cellKey);
      if (_this._hasInteracted) {
        childList.ref.recordInteraction();
      }
    };
    _this._unregisterAsNestedChild = function (childList) {
      _this._nestedChildLists.remove(childList.ref);
    };
    _this._onUpdateSeparators = function (keys, newProps) {
      keys.forEach(function (key) {
        var ref = key != null && _this._cellRefs[key];
        ref && ref.updateSeparatorProps(newProps);
      });
    };
    _this._getSpacerKey = function (isVertical) {
      return isVertical ? 'height' : 'width';
    };
    _this._cellRefs = {};
    _this._listMetrics = new _ListMetricsAggregator.default();
    _this._footerLength = 0;
    _this._hasTriggeredInitialScrollToIndex = false;
    _this._hasInteracted = false;
    _this._hasMore = false;
    _this._hasWarned = {};
    _this._headerLength = 0;
    _this._hiPriInProgress = false;
    _this._indicesToKeys = new Map();
    _this._lastFocusedCellKey = null;
    _this._nestedChildLists = new _ChildListCollection.default();
    _this._offsetFromParentVirtualizedList = 0;
    _this._pendingViewabilityUpdate = false;
    _this._prevParentOffset = 0;
    _this._scrollMetrics = {
      dOffset: 0,
      dt: 10,
      offset: 0,
      timestamp: 0,
      velocity: 0,
      visibleLength: 0,
      zoomScale: 1
    };
    _this._scrollRef = null;
    _this._sentStartForContentLength = 0;
    _this._sentEndForContentLength = 0;
    _this._updateCellsToRenderTimeoutID = null;
    _this._viewabilityTuples = [];
    _this._captureScrollRef = function (ref) {
      _this._scrollRef = ref;
    };
    _this._defaultRenderScrollComponent = function (props) {
      var onRefresh = props.onRefresh;
      if (_this._isNestedWithSameOrientation()) {
        var onContentSizeChange = props.onContentSizeChange,
          otherProps = (0, _objectWithoutProperties2.default)(props, _excluded);
        return (0, _jsxRuntime.jsx)(_reactNative.View, Object.assign({}, otherProps));
      } else if (onRefresh) {
        var _props$refreshing;
        (0, _invariant.default)(typeof props.refreshing === 'boolean', '`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `' + JSON.stringify((_props$refreshing = props.refreshing) != null ? _props$refreshing : 'undefined') + '`');
        return (0, _jsxRuntime.jsx)(_reactNative.ScrollView, Object.assign({}, props, {
          refreshControl: props.refreshControl == null ? (0, _jsxRuntime.jsx)(_reactNative.RefreshControl, {
            refreshing: props.refreshing,
            onRefresh: onRefresh,
            progressViewOffset: props.progressViewOffset
          }) : props.refreshControl
        }));
      } else {
        return (0, _jsxRuntime.jsx)(_reactNative.ScrollView, Object.assign({}, props));
      }
    };
    _this._onCellLayout = function (e, cellKey, cellIndex) {
      var layoutHasChanged = _this._listMetrics.notifyCellLayout({
        cellIndex: cellIndex,
        cellKey: cellKey,
        layout: e.nativeEvent.layout,
        orientation: _this._orientation()
      });
      if (layoutHasChanged) {
        _this._scheduleCellsToRenderUpdate();
      }
      _this._triggerRemeasureForChildListsInCell(cellKey);
      _this._computeBlankness();
      _this._updateViewableItems(_this.props, _this.state.cellsAroundViewport);
    };
    _this._onCellFocusCapture = function (cellKey) {
      _this._lastFocusedCellKey = cellKey;
      if (ReactNativeFeatureFlags.deferFlatListFocusChangeRenderUpdate()) {
        _this._scheduleCellsToRenderUpdate();
      } else {
        _this._updateCellsToRender();
      }
    };
    _this._onCellUnmount = function (cellKey) {
      delete _this._cellRefs[cellKey];
      _this._listMetrics.notifyCellUnmounted(cellKey);
    };
    _this._onLayout = function (e) {
      if (_this._isNestedWithSameOrientation()) {
        _this.measureLayoutRelativeToContainingList();
      } else {
        _this._scrollMetrics.visibleLength = _this._selectLength(e.nativeEvent.layout);
      }
      _this.props.onLayout && _this.props.onLayout(e);
      _this._scheduleCellsToRenderUpdate();
      _this._maybeCallOnEdgeReached();
    };
    _this._onLayoutEmpty = function (e) {
      _this.props.onLayout && _this.props.onLayout(e);
    };
    _this._onLayoutFooter = function (e) {
      _this._triggerRemeasureForChildListsInCell(_this._getFooterCellKey());
      _this._footerLength = _this._selectLength(e.nativeEvent.layout);
    };
    _this._onLayoutHeader = function (e) {
      _this._headerLength = _this._selectLength(e.nativeEvent.layout);
    };
    _this._onContentSizeChange = function (width, height) {
      _this._listMetrics.notifyListContentLayout({
        layout: {
          width: width,
          height: height
        },
        orientation: _this._orientation()
      });
      _this._maybeScrollToInitialScrollIndex(width, height);
      if (_this.props.onContentSizeChange) {
        _this.props.onContentSizeChange(width, height);
      }
      _this._scheduleCellsToRenderUpdate();
      _this._maybeCallOnEdgeReached();
    };
    _this._convertParentScrollMetrics = function (metrics) {
      var offset = metrics.offset - _this._offsetFromParentVirtualizedList;
      var visibleLength = metrics.visibleLength;
      var dOffset = offset - _this._scrollMetrics.offset;
      var contentLength = _this._listMetrics.getContentLength();
      return {
        visibleLength: visibleLength,
        contentLength: contentLength,
        offset: offset,
        dOffset: dOffset
      };
    };
    _this._onScroll = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onScroll(e);
      });
      if (_this.props.onScroll) {
        _this.props.onScroll(e);
      }
      var timestamp = e.timeStamp;
      var visibleLength = _this._selectLength(e.nativeEvent.layoutMeasurement);
      var contentLength = _this._selectLength(e.nativeEvent.contentSize);
      var offset = _this._offsetFromScrollEvent(e);
      var dOffset = offset - _this._scrollMetrics.offset;
      if (_this._isNestedWithSameOrientation()) {
        if (_this._listMetrics.getContentLength() === 0) {
          return;
        }
        var _this$_convertParentS = _this._convertParentScrollMetrics({
          visibleLength: visibleLength,
          offset: offset
        });
        visibleLength = _this$_convertParentS.visibleLength;
        contentLength = _this$_convertParentS.contentLength;
        offset = _this$_convertParentS.offset;
        dOffset = _this$_convertParentS.dOffset;
      }
      var dt = _this._scrollMetrics.timestamp ? Math.max(1, timestamp - _this._scrollMetrics.timestamp) : 1;
      var velocity = dOffset / dt;
      if (dt > 500 && _this._scrollMetrics.dt > 500 && contentLength > 5 * visibleLength && !_this._hasWarned.perf) {
        (0, _infoLog.default)('VirtualizedList: You have a large list that is slow to update - make sure your ' + 'renderItem function renders components that follow React performance best practices ' + 'like PureComponent, shouldComponentUpdate, etc.', {
          dt: dt,
          prevDt: _this._scrollMetrics.dt,
          contentLength: contentLength
        });
        _this._hasWarned.perf = true;
      }
      var zoomScale = e.nativeEvent.zoomScale < 0 ? 1 : e.nativeEvent.zoomScale;
      _this._scrollMetrics = {
        dt: dt,
        dOffset: dOffset,
        offset: offset,
        timestamp: timestamp,
        velocity: velocity,
        visibleLength: visibleLength,
        zoomScale: zoomScale
      };
      if (_this.state.pendingScrollUpdateCount > 0) {
        _this.setState(function (state) {
          return {
            pendingScrollUpdateCount: state.pendingScrollUpdateCount - 1
          };
        });
      }
      _this._updateViewableItems(_this.props, _this.state.cellsAroundViewport);
      if (!_this.props) {
        return;
      }
      _this._maybeCallOnEdgeReached();
      if (velocity !== 0) {
        _this._fillRateHelper.activate();
      }
      _this._computeBlankness();
      _this._scheduleCellsToRenderUpdate();
    };
    _this._onScrollBeginDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onScrollBeginDrag(e);
      });
      _this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.recordInteraction();
      });
      _this._hasInteracted = true;
      _this.props.onScrollBeginDrag && _this.props.onScrollBeginDrag(e);
    };
    _this._onScrollEndDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onScrollEndDrag(e);
      });
      var velocity = e.nativeEvent.velocity;
      if (velocity) {
        _this._scrollMetrics.velocity = _this._selectOffset(velocity);
      }
      _this._computeBlankness();
      _this.props.onScrollEndDrag && _this.props.onScrollEndDrag(e);
    };
    _this._onMomentumScrollBegin = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onMomentumScrollBegin(e);
      });
      _this.props.onMomentumScrollBegin && _this.props.onMomentumScrollBegin(e);
    };
    _this._onMomentumScrollEnd = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onMomentumScrollEnd(e);
      });
      _this._scrollMetrics.velocity = 0;
      _this._computeBlankness();
      _this.props.onMomentumScrollEnd && _this.props.onMomentumScrollEnd(e);
    };
    _this._updateCellsToRender = function () {
      _this._updateViewableItems(_this.props, _this.state.cellsAroundViewport);
      _this.setState(function (state, props) {
        var cellsAroundViewport = _this._adjustCellsAroundViewport(props, state.cellsAroundViewport, state.pendingScrollUpdateCount);
        var renderMask = VirtualizedList._createRenderMask(props, cellsAroundViewport, _this._getNonViewportRenderRegions(props));
        if (cellsAroundViewport.first === state.cellsAroundViewport.first && cellsAroundViewport.last === state.cellsAroundViewport.last && renderMask.equals(state.renderMask)) {
          return null;
        }
        return {
          cellsAroundViewport: cellsAroundViewport,
          renderMask: renderMask
        };
      });
    };
    _this._createViewToken = function (index, isViewable, props) {
      var data = props.data,
        getItem = props.getItem;
      var item = getItem(data, index);
      return {
        index: index,
        item: item,
        key: VirtualizedList._keyExtractor(item, index, props),
        isViewable: isViewable
      };
    };
    _this._getNonViewportRenderRegions = function (props) {
      if (!(_this._lastFocusedCellKey && _this._cellRefs[_this._lastFocusedCellKey])) {
        return [];
      }
      var lastFocusedCellRenderer = _this._cellRefs[_this._lastFocusedCellKey];
      var focusedCellIndex = lastFocusedCellRenderer.props.index;
      var itemCount = props.getItemCount(props.data);
      if (focusedCellIndex >= itemCount || VirtualizedList._getItemKey(props, focusedCellIndex) !== _this._lastFocusedCellKey) {
        return [];
      }
      var first = focusedCellIndex;
      var heightOfCellsBeforeFocused = 0;
      for (var i = first - 1; i >= 0 && heightOfCellsBeforeFocused < _this._scrollMetrics.visibleLength; i--) {
        first--;
        heightOfCellsBeforeFocused += _this._listMetrics.getCellMetricsApprox(i, props).length;
      }
      var last = focusedCellIndex;
      var heightOfCellsAfterFocused = 0;
      for (var _i = last + 1; _i < itemCount && heightOfCellsAfterFocused < _this._scrollMetrics.visibleLength; _i++) {
        last++;
        heightOfCellsAfterFocused += _this._listMetrics.getCellMetricsApprox(_i, props).length;
      }
      return [{
        first: first,
        last: last
      }];
    };
    _this._checkProps(_props);
    _this._fillRateHelper = new _FillRateHelper.default(_this._listMetrics);
    if (_this.props.viewabilityConfigCallbackPairs) {
      _this._viewabilityTuples = _this.props.viewabilityConfigCallbackPairs.map(function (pair) {
        return {
          viewabilityHelper: new _ViewabilityHelper.default(pair.viewabilityConfig),
          onViewableItemsChanged: pair.onViewableItemsChanged
        };
      });
    } else {
      var _this$props = _this.props,
        onViewableItemsChanged = _this$props.onViewableItemsChanged,
        viewabilityConfig = _this$props.viewabilityConfig;
      if (onViewableItemsChanged) {
        _this._viewabilityTuples.push({
          viewabilityHelper: new _ViewabilityHelper.default(viewabilityConfig),
          onViewableItemsChanged: onViewableItemsChanged
        });
      }
    }
    var initialRenderRegion = VirtualizedList._initialRenderRegion(_props);
    var minIndexForVisible = (_this$props$maintainV = (_this$props$maintainV2 = _this.props.maintainVisibleContentPosition) == null ? void 0 : _this$props$maintainV2.minIndexForVisible) != null ? _this$props$maintainV : 0;
    _this.state = {
      cellsAroundViewport: initialRenderRegion,
      renderMask: VirtualizedList._createRenderMask(_props, initialRenderRegion),
      firstVisibleItemKey: _this.props.getItemCount(_this.props.data) > minIndexForVisible ? VirtualizedList._getItemKey(_this.props, minIndexForVisible) : null,
      pendingScrollUpdateCount: _this.props.initialScrollIndex != null && _this.props.initialScrollIndex > 0 ? 1 : 0
    };
    return _this;
  }
  (0, _inherits2.default)(VirtualizedList, _StateSafePureCompone);
  return (0, _createClass2.default)(VirtualizedList, [{
    key: "scrollToEnd",
    value: function scrollToEnd(params) {
      var animated = params ? params.animated : true;
      var veryLast = this.props.getItemCount(this.props.data) - 1;
      if (veryLast < 0) {
        return;
      }
      var frame = this._listMetrics.getCellMetricsApprox(veryLast, this.props);
      var offset = Math.max(0, frame.offset + frame.length + this._footerLength - this._scrollMetrics.visibleLength);
      this.scrollToOffset({
        animated: animated,
        offset: offset
      });
    }
  }, {
    key: "scrollToIndex",
    value: function scrollToIndex(params) {
      var _this$props2 = this.props,
        data = _this$props2.data,
        getItemCount = _this$props2.getItemCount,
        getItemLayout = _this$props2.getItemLayout,
        onScrollToIndexFailed = _this$props2.onScrollToIndexFailed;
      var animated = params.animated,
        index = params.index,
        viewOffset = params.viewOffset,
        viewPosition = params.viewPosition;
      (0, _invariant.default)(index >= 0, `scrollToIndex out of range: requested index ${index} but minimum is 0`);
      (0, _invariant.default)(getItemCount(data) >= 1, `scrollToIndex out of range: item length ${getItemCount(data)} but minimum is 1`);
      (0, _invariant.default)(index < getItemCount(data), `scrollToIndex out of range: requested index ${index} is out of 0 to ${getItemCount(data) - 1}`);
      if (!getItemLayout && index > this._listMetrics.getHighestMeasuredCellIndex()) {
        (0, _invariant.default)(!!onScrollToIndexFailed, 'scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, ' + 'otherwise there is no way to know the location of offscreen indices or handle failures.');
        onScrollToIndexFailed({
          averageItemLength: this._listMetrics.getAverageCellLength(),
          highestMeasuredFrameIndex: this._listMetrics.getHighestMeasuredCellIndex(),
          index: index
        });
        return;
      }
      var frame = this._listMetrics.getCellMetricsApprox(Math.floor(index), this.props);
      var offset = Math.max(0, this._listMetrics.getCellOffsetApprox(index, this.props) - (viewPosition || 0) * (this._scrollMetrics.visibleLength - frame.length)) - (viewOffset || 0);
      this.scrollToOffset({
        offset: offset,
        animated: animated
      });
    }
  }, {
    key: "scrollToItem",
    value: function scrollToItem(params) {
      var item = params.item;
      var _this$props3 = this.props,
        data = _this$props3.data,
        getItem = _this$props3.getItem,
        getItemCount = _this$props3.getItemCount;
      var itemCount = getItemCount(data);
      for (var index = 0; index < itemCount; index++) {
        if (getItem(data, index) === item) {
          this.scrollToIndex(Object.assign({}, params, {
            index: index
          }));
          break;
        }
      }
    }
  }, {
    key: "scrollToOffset",
    value: function scrollToOffset(params) {
      var animated = params.animated,
        offset = params.offset;
      var scrollRef = this._scrollRef;
      if (scrollRef == null) {
        return;
      }
      if (scrollRef.scrollTo == null) {
        console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
        return;
      }
      var _this$_orientation = this._orientation(),
        horizontal = _this$_orientation.horizontal,
        rtl = _this$_orientation.rtl;
      if (horizontal && rtl && !this._listMetrics.hasContentLength()) {
        console.warn('scrollToOffset may not be called in RTL before content is laid out');
        return;
      }
      scrollRef.scrollTo(Object.assign({
        animated: animated
      }, this._scrollToParamsFromOffset(offset)));
    }
  }, {
    key: "_scrollToParamsFromOffset",
    value: function _scrollToParamsFromOffset(offset) {
      var _this$_orientation2 = this._orientation(),
        horizontal = _this$_orientation2.horizontal,
        rtl = _this$_orientation2.rtl;
      if (horizontal && rtl) {
        var cartOffset = this._listMetrics.cartesianOffset(offset + this._scrollMetrics.visibleLength);
        return horizontal ? {
          x: cartOffset
        } : {
          y: cartOffset
        };
      } else {
        return horizontal ? {
          x: offset
        } : {
          y: offset
        };
      }
    }
  }, {
    key: "recordInteraction",
    value: function recordInteraction() {
      this._nestedChildLists.forEach(function (childList) {
        childList.recordInteraction();
      });
      this._viewabilityTuples.forEach(function (t) {
        t.viewabilityHelper.recordInteraction();
      });
      this._updateViewableItems(this.props, this.state.cellsAroundViewport);
    }
  }, {
    key: "flashScrollIndicators",
    value: function flashScrollIndicators() {
      if (this._scrollRef == null) {
        return;
      }
      this._scrollRef.flashScrollIndicators();
    }
  }, {
    key: "getScrollResponder",
    value: function getScrollResponder() {
      if (this._scrollRef && this._scrollRef.getScrollResponder) {
        return this._scrollRef.getScrollResponder();
      }
    }
  }, {
    key: "getScrollableNode",
    value: function getScrollableNode() {
      if (this._scrollRef && this._scrollRef.getScrollableNode) {
        return this._scrollRef.getScrollableNode();
      } else {
        return (0, _reactNative.findNodeHandle)(this._scrollRef);
      }
    }
  }, {
    key: "getScrollRef",
    value: function getScrollRef() {
      if (this._scrollRef && this._scrollRef.getScrollRef) {
        return this._scrollRef.getScrollRef();
      } else {
        return this._scrollRef;
      }
    }
  }, {
    key: "setNativeProps",
    value: function setNativeProps(props) {
      if (this._scrollRef) {
        this._scrollRef.setNativeProps(props);
      }
    }
  }, {
    key: "_getCellKey",
    value: function _getCellKey() {
      var _this$context;
      return ((_this$context = this.context) == null ? void 0 : _this$context.cellKey) || 'rootList';
    }
  }, {
    key: "hasMore",
    value: function hasMore() {
      return this._hasMore;
    }
  }, {
    key: "_checkProps",
    value: function _checkProps(props) {
      var onScroll = props.onScroll,
        windowSize = props.windowSize,
        getItemCount = props.getItemCount,
        data = props.data,
        initialScrollIndex = props.initialScrollIndex;
      (0, _invariant.default)(!onScroll || !onScroll.__isNative, 'Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent ' + 'to support native onScroll events with useNativeDriver');
      (0, _invariant.default)((0, _VirtualizedListProps.windowSizeOrDefault)(windowSize) > 0, 'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.');
      (0, _invariant.default)(getItemCount, 'VirtualizedList: The "getItemCount" prop must be provided');
      var itemCount = getItemCount(data);
      if (initialScrollIndex != null && !this._hasTriggeredInitialScrollToIndex && (initialScrollIndex < 0 || itemCount > 0 && initialScrollIndex >= itemCount) && !this._hasWarned.initialScrollIndex) {
        console.warn(`initialScrollIndex "${initialScrollIndex}" is not valid (list has ${itemCount} items)`);
        this._hasWarned.initialScrollIndex = true;
      }
      if (__DEV__ && !this._hasWarned.flexWrap) {
        var flatStyles = _reactNative.StyleSheet.flatten(this.props.contentContainerStyle);
        if (flatStyles != null && flatStyles.flexWrap === 'wrap') {
          console.warn('`flexWrap: `wrap`` is not supported with the `VirtualizedList` components.' + 'Consider using `numColumns` with `FlatList` instead.');
          this._hasWarned.flexWrap = true;
        }
      }
    }
  }, {
    key: "_adjustCellsAroundViewport",
    value: function _adjustCellsAroundViewport(props, cellsAroundViewport, pendingScrollUpdateCount) {
      var data = props.data,
        getItemCount = props.getItemCount;
      var onEndReachedThreshold = (0, _VirtualizedListProps.onEndReachedThresholdOrDefault)(props.onEndReachedThreshold);
      var _this$_scrollMetrics = this._scrollMetrics,
        offset = _this$_scrollMetrics.offset,
        visibleLength = _this$_scrollMetrics.visibleLength;
      var contentLength = this._listMetrics.getContentLength();
      var distanceFromEnd = contentLength - visibleLength - offset;
      if (visibleLength <= 0 || contentLength <= 0) {
        return cellsAroundViewport.last >= getItemCount(data) ? VirtualizedList._constrainToItemCount(cellsAroundViewport, props) : cellsAroundViewport;
      }
      var newCellsAroundViewport;
      if (props.disableVirtualization) {
        var renderAhead = distanceFromEnd < onEndReachedThreshold * visibleLength ? (0, _VirtualizedListProps.maxToRenderPerBatchOrDefault)(props.maxToRenderPerBatch) : 0;
        newCellsAroundViewport = {
          first: 0,
          last: Math.min(cellsAroundViewport.last + renderAhead, getItemCount(data) - 1)
        };
      } else {
        if (pendingScrollUpdateCount > 0) {
          return cellsAroundViewport.last >= getItemCount(data) ? VirtualizedList._constrainToItemCount(cellsAroundViewport, props) : cellsAroundViewport;
        }
        newCellsAroundViewport = (0, _VirtualizeUtils.computeWindowedRenderLimits)(props, (0, _VirtualizedListProps.maxToRenderPerBatchOrDefault)(props.maxToRenderPerBatch), (0, _VirtualizedListProps.windowSizeOrDefault)(props.windowSize), cellsAroundViewport, this._listMetrics, this._scrollMetrics);
        (0, _invariant.default)(newCellsAroundViewport.last < getItemCount(data), 'computeWindowedRenderLimits() should return range in-bounds');
      }
      if (this._nestedChildLists.size() > 0) {
        var childIdx = this._findFirstChildWithMore(newCellsAroundViewport.first, newCellsAroundViewport.last);
        newCellsAroundViewport.last = childIdx != null ? childIdx : newCellsAroundViewport.last;
      }
      return newCellsAroundViewport;
    }
  }, {
    key: "_findFirstChildWithMore",
    value: function _findFirstChildWithMore(first, last) {
      for (var ii = first; ii <= last; ii++) {
        var cellKeyForIndex = this._indicesToKeys.get(ii);
        if (cellKeyForIndex != null && this._nestedChildLists.anyInCell(cellKeyForIndex, function (childList) {
          return childList.hasMore();
        })) {
          return ii;
        }
      }
      return null;
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.registerAsNestedChild({
          ref: this,
          cellKey: this.context.cellKey
        });
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.unregisterAsNestedChild({
          ref: this
        });
      }
      clearTimeout(this._updateCellsToRenderTimeoutID);
      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.dispose();
      });
      this._fillRateHelper.deactivateAndFlush();
    }
  }, {
    key: "_pushCells",
    value: function _pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, first, last, inversionStyle) {
      var _this2 = this;
      var _this$props4 = this.props,
        CellRendererComponent = _this$props4.CellRendererComponent,
        ItemSeparatorComponent = _this$props4.ItemSeparatorComponent,
        ListHeaderComponent = _this$props4.ListHeaderComponent,
        ListItemComponent = _this$props4.ListItemComponent,
        data = _this$props4.data,
        debug = _this$props4.debug,
        getItem = _this$props4.getItem,
        getItemCount = _this$props4.getItemCount,
        getItemLayout = _this$props4.getItemLayout,
        horizontal = _this$props4.horizontal,
        renderItem = _this$props4.renderItem;
      var stickyOffset = ListHeaderComponent ? 1 : 0;
      var end = getItemCount(data) - 1;
      var prevCellKey;
      last = Math.min(end, last);
      var _loop = function _loop() {
        var item = getItem(data, ii);
        var key = VirtualizedList._keyExtractor(item, ii, _this2.props);
        _this2._indicesToKeys.set(ii, key);
        if (stickyIndicesFromProps.has(ii + stickyOffset)) {
          stickyHeaderIndices.push(cells.length);
        }
        var shouldListenForLayout = getItemLayout == null || debug || _this2._fillRateHelper.enabled();
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListCellRenderer.default, Object.assign({
          CellRendererComponent: CellRendererComponent,
          ItemSeparatorComponent: ii < end ? ItemSeparatorComponent : undefined,
          ListItemComponent: ListItemComponent,
          cellKey: key,
          horizontal: horizontal,
          index: ii,
          inversionStyle: inversionStyle,
          item: item,
          prevCellKey: prevCellKey,
          onUpdateSeparators: _this2._onUpdateSeparators,
          onCellFocusCapture: _this2._onCellFocusCapture,
          onUnmount: _this2._onCellUnmount,
          ref: function ref(_ref) {
            _this2._cellRefs[key] = _ref;
          },
          renderItem: renderItem
        }, shouldListenForLayout && {
          onCellLayout: _this2._onCellLayout
        }), key));
        prevCellKey = key;
      };
      for (var ii = first; ii <= last; ii++) {
        _loop();
      }
    }
  }, {
    key: "_isNestedWithSameOrientation",
    value: function _isNestedWithSameOrientation() {
      var nestedContext = this.context;
      return !!(nestedContext && !!nestedContext.horizontal === (0, _VirtualizedListProps.horizontalOrDefault)(this.props.horizontal));
    }
  }, {
    key: "_renderEmptyComponent",
    value: function _renderEmptyComponent(element, inversionStyle) {
      var _this3 = this;
      var isFragment = element.type === React.Fragment;
      if (isFragment) {
        return element;
      }
      return (0, _react.cloneElement)(element, {
        onLayout: function onLayout(event) {
          _this3._onLayoutEmpty(event);
          if (element.props.onLayout) {
            element.props.onLayout(event);
          }
        },
        style: _reactNative.StyleSheet.compose(inversionStyle, element.props.style)
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props$scrollEve,
        _this4 = this;
      this._checkProps(this.props);
      var _this$props5 = this.props,
        ListEmptyComponent = _this$props5.ListEmptyComponent,
        ListFooterComponent = _this$props5.ListFooterComponent,
        ListHeaderComponent = _this$props5.ListHeaderComponent;
      var _this$props6 = this.props,
        data = _this$props6.data,
        horizontal = _this$props6.horizontal;
      var inversionStyle = this.props.inverted ? (0, _VirtualizedListProps.horizontalOrDefault)(this.props.horizontal) ? styles.horizontallyInverted : styles.verticallyInverted : null;
      var cells = [];
      var stickyIndicesFromProps = new Set(this.props.stickyHeaderIndices);
      var stickyHeaderIndices = [];
      if (ListHeaderComponent) {
        if (stickyIndicesFromProps.has(0)) {
          stickyHeaderIndices.push(0);
        }
        var element = (0, _react.isValidElement)(ListHeaderComponent) ? ListHeaderComponent : (0, _jsxRuntime.jsx)(ListHeaderComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getCellKey() + '-header',
          children: (0, _jsxRuntime.jsx)(_reactNative.View, {
            collapsable: false,
            onLayout: this._onLayoutHeader,
            style: _reactNative.StyleSheet.compose(inversionStyle, this.props.ListHeaderComponentStyle),
            children: element
          })
        }, "$header"));
      }
      var itemCount = this.props.getItemCount(data);
      if (itemCount === 0 && ListEmptyComponent) {
        var _element = (0, _react.isValidElement)(ListEmptyComponent) ? ListEmptyComponent : (0, _jsxRuntime.jsx)(ListEmptyComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getCellKey() + '-empty',
          children: this._renderEmptyComponent(_element, inversionStyle)
        }, "$empty"));
      }
      if (itemCount > 0) {
        _usedIndexForKey = false;
        _keylessItemComponentName = '';
        var spacerKey = this._getSpacerKey(!horizontal);
        var renderRegions = this.state.renderMask.enumerateRegions();
        var lastRegion = renderRegions[renderRegions.length - 1];
        var lastSpacer = lastRegion != null && lastRegion.isSpacer ? lastRegion : null;
        for (var section of renderRegions) {
          if (section.isSpacer) {
            if (this.props.disableVirtualization) {
              continue;
            }
            var isLastSpacer = section === lastSpacer;
            var constrainToMeasured = isLastSpacer && !this.props.getItemLayout;
            var last = constrainToMeasured ? (0, _clamp.default)(section.first - 1, section.last, this._listMetrics.getHighestMeasuredCellIndex()) : section.last;
            var firstMetrics = this._listMetrics.getCellMetricsApprox(section.first, this.props);
            var lastMetrics = this._listMetrics.getCellMetricsApprox(last, this.props);
            var spacerSize = lastMetrics.offset + lastMetrics.length - firstMetrics.offset;
            cells.push((0, _jsxRuntime.jsx)(_reactNative.View, {
              style: (0, _defineProperty2.default)({}, spacerKey, spacerSize)
            }, `$spacer-${section.first}`));
          } else {
            this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, section.first, section.last, inversionStyle);
          }
        }
        if (!this._hasWarned.keys && _usedIndexForKey) {
          console.warn('VirtualizedList: missing keys for items, make sure to specify a key or id property on each ' + 'item or provide a custom keyExtractor.', _keylessItemComponentName);
          this._hasWarned.keys = true;
        }
      }
      if (ListFooterComponent) {
        var _element2 = (0, _react.isValidElement)(ListFooterComponent) ? ListFooterComponent : (0, _jsxRuntime.jsx)(ListFooterComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getFooterCellKey(),
          children: (0, _jsxRuntime.jsx)(_reactNative.View, {
            onLayout: this._onLayoutFooter,
            style: _reactNative.StyleSheet.compose(inversionStyle, this.props.ListFooterComponentStyle),
            children: _element2
          })
        }, "$footer"));
      }
      var scrollProps = Object.assign({}, this.props, {
        onContentSizeChange: this._onContentSizeChange,
        onLayout: this._onLayout,
        onScroll: this._onScroll,
        onScrollBeginDrag: this._onScrollBeginDrag,
        onScrollEndDrag: this._onScrollEndDrag,
        onMomentumScrollBegin: this._onMomentumScrollBegin,
        onMomentumScrollEnd: this._onMomentumScrollEnd,
        scrollEventThrottle: (_this$props$scrollEve = this.props.scrollEventThrottle) != null ? _this$props$scrollEve : 0.0001,
        invertStickyHeaders: this.props.invertStickyHeaders !== undefined ? this.props.invertStickyHeaders : this.props.inverted,
        stickyHeaderIndices: stickyHeaderIndices,
        style: inversionStyle ? [inversionStyle, this.props.style] : this.props.style,
        isInvertedVirtualizedList: this.props.inverted,
        maintainVisibleContentPosition: this.props.maintainVisibleContentPosition != null ? Object.assign({}, this.props.maintainVisibleContentPosition, {
          minIndexForVisible: this.props.maintainVisibleContentPosition.minIndexForVisible + (this.props.ListHeaderComponent ? 1 : 0)
        }) : undefined
      });
      this._hasMore = this.state.cellsAroundViewport.last < itemCount - 1;
      var innerRet = (0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListContextProvider, {
        value: {
          cellKey: null,
          getScrollMetrics: this._getScrollMetrics,
          horizontal: (0, _VirtualizedListProps.horizontalOrDefault)(this.props.horizontal),
          getOutermostParentListRef: this._getOutermostParentListRef,
          registerAsNestedChild: this._registerAsNestedChild,
          unregisterAsNestedChild: this._unregisterAsNestedChild
        },
        children: (0, _react.cloneElement)((this.props.renderScrollComponent || this._defaultRenderScrollComponent)(scrollProps), {
          ref: this._captureScrollRef
        }, cells)
      });
      var ret = innerRet;
      if (__DEV__) {
        ret = (0, _jsxRuntime.jsx)(_reactNative.ScrollView.Context.Consumer, {
          children: function children(scrollContext) {
            if (scrollContext != null && !scrollContext.horizontal === !(0, _VirtualizedListProps.horizontalOrDefault)(_this4.props.horizontal) && !_this4._hasWarned.nesting && _this4.context == null && _this4.props.scrollEnabled !== false) {
              console.error('VirtualizedLists should never be nested inside plain ScrollViews with the same ' + 'orientation because it can break windowing and other functionality - use another ' + 'VirtualizedList-backed container instead.');
              _this4._hasWarned.nesting = true;
            }
            return innerRet;
          }
        });
      }
      if (this.props.debug) {
        return (0, _jsxRuntime.jsxs)(_reactNative.View, {
          style: styles.debug,
          children: [ret, this._renderDebugOverlay()]
        });
      } else {
        return ret;
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var _this$props7 = this.props,
        data = _this$props7.data,
        extraData = _this$props7.extraData,
        getItemLayout = _this$props7.getItemLayout;
      if (data !== prevProps.data || extraData !== prevProps.extraData) {
        this._viewabilityTuples.forEach(function (tuple) {
          tuple.viewabilityHelper.resetViewableIndices();
        });
      }
      var hiPriInProgress = this._hiPriInProgress;
      this._scheduleCellsToRenderUpdate();
      if (hiPriInProgress) {
        this._hiPriInProgress = false;
      }
      if (getItemLayout != null) {
        this._maybeCallOnEdgeReached();
      }
    }
  }, {
    key: "_computeBlankness",
    value: function _computeBlankness() {
      this._fillRateHelper.computeBlankness(this.props, this.state.cellsAroundViewport, this._scrollMetrics);
    }
  }, {
    key: "_triggerRemeasureForChildListsInCell",
    value: function _triggerRemeasureForChildListsInCell(cellKey) {
      this._nestedChildLists.forEachInCell(cellKey, function (childList) {
        childList.measureLayoutRelativeToContainingList();
      });
    }
  }, {
    key: "measureLayoutRelativeToContainingList",
    value: function measureLayoutRelativeToContainingList() {
      var _this5 = this;
      try {
        if (!this._scrollRef) {
          return;
        }
        this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(), function (x, y, width, height) {
          _this5._offsetFromParentVirtualizedList = _this5._selectOffset({
            x: x,
            y: y
          });
          _this5._listMetrics.notifyListContentLayout({
            layout: {
              width: width,
              height: height
            },
            orientation: _this5._orientation()
          });
          var scrollMetrics = _this5._convertParentScrollMetrics(_this5.context.getScrollMetrics());
          var metricsChanged = _this5._scrollMetrics.visibleLength !== scrollMetrics.visibleLength || _this5._scrollMetrics.offset !== scrollMetrics.offset;
          if (metricsChanged) {
            _this5._scrollMetrics.visibleLength = scrollMetrics.visibleLength;
            _this5._scrollMetrics.offset = scrollMetrics.offset;
            _this5._nestedChildLists.forEach(function (childList) {
              childList.measureLayoutRelativeToContainingList();
            });
          }
        }, function (error) {
          console.warn("VirtualizedList: Encountered an error while measuring a list's" + ' offset from its containing VirtualizedList.');
        });
      } catch (error) {
        console.warn('measureLayoutRelativeToContainingList threw an error', error.stack);
      }
    }
  }, {
    key: "_getFooterCellKey",
    value: function _getFooterCellKey() {
      return this._getCellKey() + '-footer';
    }
  }, {
    key: "_renderDebugOverlay",
    value: function _renderDebugOverlay() {
      var normalize = this._scrollMetrics.visibleLength / (this._listMetrics.getContentLength() || 1);
      var framesInLayout = [];
      var itemCount = this.props.getItemCount(this.props.data);
      for (var ii = 0; ii < itemCount; ii++) {
        var frame = this._listMetrics.getCellMetricsApprox(ii, this.props);
        if (frame.isMounted) {
          framesInLayout.push(frame);
        }
      }
      var windowTop = this._listMetrics.getCellMetricsApprox(this.state.cellsAroundViewport.first, this.props).offset;
      var frameLast = this._listMetrics.getCellMetricsApprox(this.state.cellsAroundViewport.last, this.props);
      var windowLen = frameLast.offset + frameLast.length - windowTop;
      var visTop = this._scrollMetrics.offset;
      var visLen = this._scrollMetrics.visibleLength;
      return (0, _jsxRuntime.jsxs)(_reactNative.View, {
        style: [styles.debugOverlayBase, styles.debugOverlay],
        children: [framesInLayout.map(function (f, ii) {
          return (0, _jsxRuntime.jsx)(_reactNative.View, {
            style: [styles.debugOverlayBase, styles.debugOverlayFrame, {
              top: f.offset * normalize,
              height: f.length * normalize
            }]
          }, 'f' + ii);
        }), (0, _jsxRuntime.jsx)(_reactNative.View, {
          style: [styles.debugOverlayBase, styles.debugOverlayFrameLast, {
            top: windowTop * normalize,
            height: windowLen * normalize
          }]
        }), (0, _jsxRuntime.jsx)(_reactNative.View, {
          style: [styles.debugOverlayBase, styles.debugOverlayFrameVis, {
            top: visTop * normalize,
            height: visLen * normalize
          }]
        })]
      });
    }
  }, {
    key: "_selectLength",
    value: function _selectLength(metrics) {
      return !(0, _VirtualizedListProps.horizontalOrDefault)(this.props.horizontal) ? metrics.height : metrics.width;
    }
  }, {
    key: "_selectOffset",
    value: function _selectOffset(_ref3) {
      var x = _ref3.x,
        y = _ref3.y;
      return this._orientation().horizontal ? x : y;
    }
  }, {
    key: "_orientation",
    value: function _orientation() {
      return {
        horizontal: (0, _VirtualizedListProps.horizontalOrDefault)(this.props.horizontal),
        rtl: _reactNative.I18nManager.isRTL
      };
    }
  }, {
    key: "_maybeCallOnEdgeReached",
    value: function _maybeCallOnEdgeReached() {
      var _this$props8 = this.props,
        data = _this$props8.data,
        getItemCount = _this$props8.getItemCount,
        onStartReached = _this$props8.onStartReached,
        onStartReachedThreshold = _this$props8.onStartReachedThreshold,
        onEndReached = _this$props8.onEndReached,
        onEndReachedThreshold = _this$props8.onEndReachedThreshold;
      if (!this._listMetrics.hasContentLength() || this._scrollMetrics.visibleLength === 0) {
        return;
      }
      if (this.state.pendingScrollUpdateCount > 0) {
        return;
      }
      var _this$_scrollMetrics2 = this._scrollMetrics,
        visibleLength = _this$_scrollMetrics2.visibleLength,
        offset = _this$_scrollMetrics2.offset;
      var distanceFromStart = offset;
      var distanceFromEnd = this._listMetrics.getContentLength() - visibleLength - offset;
      if (distanceFromStart < ON_EDGE_REACHED_EPSILON) {
        distanceFromStart = 0;
      }
      if (distanceFromEnd < ON_EDGE_REACHED_EPSILON) {
        distanceFromEnd = 0;
      }
      var DEFAULT_THRESHOLD_PX = 2;
      var startThreshold = onStartReachedThreshold != null ? onStartReachedThreshold * visibleLength : DEFAULT_THRESHOLD_PX;
      var endThreshold = onEndReachedThreshold != null ? onEndReachedThreshold * visibleLength : DEFAULT_THRESHOLD_PX;
      var isWithinStartThreshold = distanceFromStart <= startThreshold;
      var isWithinEndThreshold = distanceFromEnd <= endThreshold;
      if (onEndReached && this.state.cellsAroundViewport.last === getItemCount(data) - 1 && isWithinEndThreshold && this._listMetrics.getContentLength() !== this._sentEndForContentLength) {
        this._sentEndForContentLength = this._listMetrics.getContentLength();
        onEndReached({
          distanceFromEnd: distanceFromEnd
        });
      }
      if (onStartReached != null && this.state.cellsAroundViewport.first === 0 && isWithinStartThreshold && this._listMetrics.getContentLength() !== this._sentStartForContentLength) {
        this._sentStartForContentLength = this._listMetrics.getContentLength();
        onStartReached({
          distanceFromStart: distanceFromStart
        });
      }
      if (!isWithinStartThreshold) {
        this._sentStartForContentLength = 0;
      }
      if (!isWithinEndThreshold) {
        this._sentEndForContentLength = 0;
      }
    }
  }, {
    key: "_maybeScrollToInitialScrollIndex",
    value: function _maybeScrollToInitialScrollIndex(contentWidth, contentHeight) {
      if (contentWidth > 0 && contentHeight > 0 && this.props.initialScrollIndex != null && this.props.initialScrollIndex > 0 && !this._hasTriggeredInitialScrollToIndex) {
        if (this.props.contentOffset == null) {
          if (this.props.initialScrollIndex < this.props.getItemCount(this.props.data)) {
            this.scrollToIndex({
              animated: false,
              index: (0, _nullthrows.default)(this.props.initialScrollIndex)
            });
          } else {
            this.scrollToEnd({
              animated: false
            });
          }
        }
        this._hasTriggeredInitialScrollToIndex = true;
      }
    }
  }, {
    key: "unstable_onScroll",
    value: function unstable_onScroll(e) {
      this._onScroll(e);
    }
  }, {
    key: "_offsetFromScrollEvent",
    value: function _offsetFromScrollEvent(e) {
      var _e$nativeEvent = e.nativeEvent,
        contentOffset = _e$nativeEvent.contentOffset,
        contentSize = _e$nativeEvent.contentSize,
        layoutMeasurement = _e$nativeEvent.layoutMeasurement;
      var _this$_orientation3 = this._orientation(),
        horizontal = _this$_orientation3.horizontal,
        rtl = _this$_orientation3.rtl;
      if (horizontal && rtl) {
        return this._selectLength(contentSize) - (this._selectOffset(contentOffset) + this._selectLength(layoutMeasurement));
      } else {
        return this._selectOffset(contentOffset);
      }
    }
  }, {
    key: "_scheduleCellsToRenderUpdate",
    value: function _scheduleCellsToRenderUpdate() {
      var _this6 = this;
      if ((this._listMetrics.getAverageCellLength() > 0 || this.props.getItemLayout != null) && this._shouldRenderWithPriority() && !this._hiPriInProgress) {
        this._hiPriInProgress = true;
        if (this._updateCellsToRenderTimeoutID != null) {
          clearTimeout(this._updateCellsToRenderTimeoutID);
          this._updateCellsToRenderTimeoutID = null;
        }
        this._updateCellsToRender();
        return;
      } else {
        if (this._updateCellsToRenderTimeoutID == null) {
          var _this$props$updateCel;
          this._updateCellsToRenderTimeoutID = setTimeout(function () {
            _this6._updateCellsToRenderTimeoutID = null;
            _this6._updateCellsToRender();
          }, (_this$props$updateCel = this.props.updateCellsBatchingPeriod) != null ? _this$props$updateCel : 50);
        }
      }
    }
  }, {
    key: "_shouldRenderWithPriority",
    value: function _shouldRenderWithPriority() {
      var _this$state$cellsArou = this.state.cellsAroundViewport,
        first = _this$state$cellsArou.first,
        last = _this$state$cellsArou.last;
      var _this$_scrollMetrics3 = this._scrollMetrics,
        offset = _this$_scrollMetrics3.offset,
        visibleLength = _this$_scrollMetrics3.visibleLength,
        velocity = _this$_scrollMetrics3.velocity;
      var itemCount = this.props.getItemCount(this.props.data);
      var hiPri = false;
      var onStartReachedThreshold = (0, _VirtualizedListProps.onStartReachedThresholdOrDefault)(this.props.onStartReachedThreshold);
      var onEndReachedThreshold = (0, _VirtualizedListProps.onEndReachedThresholdOrDefault)(this.props.onEndReachedThreshold);
      if (first > 0) {
        var distTop = offset - this._listMetrics.getCellMetricsApprox(first, this.props).offset;
        hiPri = distTop < 0 || velocity < -2 && distTop < getScrollingThreshold(onStartReachedThreshold, visibleLength);
      }
      if (!hiPri && last >= 0 && last < itemCount - 1) {
        var distBottom = this._listMetrics.getCellMetricsApprox(last, this.props).offset - (offset + visibleLength);
        hiPri = distBottom < 0 || velocity > 2 && distBottom < getScrollingThreshold(onEndReachedThreshold, visibleLength);
      }
      return hiPri;
    }
  }, {
    key: "unstable_onScrollBeginDrag",
    value: function unstable_onScrollBeginDrag(e) {
      this._onScrollBeginDrag(e);
    }
  }, {
    key: "unstable_onScrollEndDrag",
    value: function unstable_onScrollEndDrag(e) {
      this._onScrollEndDrag(e);
    }
  }, {
    key: "unstable_onMomentumScrollBegin",
    value: function unstable_onMomentumScrollBegin(e) {
      this._onMomentumScrollBegin(e);
    }
  }, {
    key: "unstable_onMomentumScrollEnd",
    value: function unstable_onMomentumScrollEnd(e) {
      this._onMomentumScrollEnd(e);
    }
  }, {
    key: "__getListMetrics",
    value: function __getListMetrics() {
      return this._listMetrics;
    }
  }, {
    key: "_updateViewableItems",
    value: function _updateViewableItems(props, cellsAroundViewport) {
      var _this7 = this;
      if (this.state.pendingScrollUpdateCount > 0) {
        return;
      }
      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.onUpdate(props, _this7._scrollMetrics.offset, _this7._scrollMetrics.visibleLength, _this7._listMetrics, _this7._createViewToken, tuple.onViewableItemsChanged, cellsAroundViewport);
      });
    }
  }], [{
    key: "_findItemIndexWithKey",
    value: function _findItemIndexWithKey(props, key, hint) {
      var itemCount = props.getItemCount(props.data);
      if (hint != null && hint >= 0 && hint < itemCount) {
        var curKey = VirtualizedList._getItemKey(props, hint);
        if (curKey === key) {
          return hint;
        }
      }
      for (var ii = 0; ii < itemCount; ii++) {
        var _curKey = VirtualizedList._getItemKey(props, ii);
        if (_curKey === key) {
          return ii;
        }
      }
      return null;
    }
  }, {
    key: "_getItemKey",
    value: function _getItemKey(props, index) {
      var item = props.getItem(props.data, index);
      return VirtualizedList._keyExtractor(item, index, props);
    }
  }, {
    key: "_createRenderMask",
    value: function _createRenderMask(props, cellsAroundViewport, additionalRegions) {
      var itemCount = props.getItemCount(props.data);
      (0, _invariant.default)(cellsAroundViewport.first >= 0 && cellsAroundViewport.last >= cellsAroundViewport.first - 1 && cellsAroundViewport.last < itemCount, `Invalid cells around viewport "[${cellsAroundViewport.first}, ${cellsAroundViewport.last}]" was passed to VirtualizedList._createRenderMask`);
      var renderMask = new _CellRenderMask.CellRenderMask(itemCount);
      if (itemCount > 0) {
        var allRegions = [cellsAroundViewport].concat((0, _toConsumableArray2.default)(additionalRegions != null ? additionalRegions : []));
        for (var region of allRegions) {
          renderMask.addCells(region);
        }
        if (props.initialScrollIndex == null || props.initialScrollIndex <= 0) {
          var initialRegion = VirtualizedList._initialRenderRegion(props);
          renderMask.addCells(initialRegion);
        }
        var stickyIndicesSet = new Set(props.stickyHeaderIndices);
        VirtualizedList._ensureClosestStickyHeader(props, stickyIndicesSet, renderMask, cellsAroundViewport.first);
      }
      return renderMask;
    }
  }, {
    key: "_initialRenderRegion",
    value: function _initialRenderRegion(props) {
      var _props$initialScrollI;
      var itemCount = props.getItemCount(props.data);
      var firstCellIndex = Math.max(0, Math.min(itemCount - 1, Math.floor((_props$initialScrollI = props.initialScrollIndex) != null ? _props$initialScrollI : 0)));
      var lastCellIndex = Math.min(itemCount, firstCellIndex + (0, _VirtualizedListProps.initialNumToRenderOrDefault)(props.initialNumToRender)) - 1;
      return {
        first: firstCellIndex,
        last: lastCellIndex
      };
    }
  }, {
    key: "_ensureClosestStickyHeader",
    value: function _ensureClosestStickyHeader(props, stickyIndicesSet, renderMask, cellIdx) {
      var stickyOffset = props.ListHeaderComponent ? 1 : 0;
      for (var itemIdx = cellIdx - 1; itemIdx >= 0; itemIdx--) {
        if (stickyIndicesSet.has(itemIdx + stickyOffset)) {
          renderMask.addCells({
            first: itemIdx,
            last: itemIdx
          });
          break;
        }
      }
    }
  }, {
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(newProps, prevState) {
      var _newProps$maintainVis, _newProps$maintainVis2;
      var itemCount = newProps.getItemCount(newProps.data);
      if (itemCount === prevState.renderMask.numCells()) {
        return prevState;
      }
      var maintainVisibleContentPositionAdjustment = null;
      var prevFirstVisibleItemKey = prevState.firstVisibleItemKey;
      var minIndexForVisible = (_newProps$maintainVis = (_newProps$maintainVis2 = newProps.maintainVisibleContentPosition) == null ? void 0 : _newProps$maintainVis2.minIndexForVisible) != null ? _newProps$maintainVis : 0;
      var newFirstVisibleItemKey = newProps.getItemCount(newProps.data) > minIndexForVisible ? VirtualizedList._getItemKey(newProps, minIndexForVisible) : null;
      if (newProps.maintainVisibleContentPosition != null && prevFirstVisibleItemKey != null && newFirstVisibleItemKey != null) {
        if (newFirstVisibleItemKey !== prevFirstVisibleItemKey) {
          var hint = itemCount - prevState.renderMask.numCells() + minIndexForVisible;
          var firstVisibleItemIndex = VirtualizedList._findItemIndexWithKey(newProps, prevFirstVisibleItemKey, hint);
          maintainVisibleContentPositionAdjustment = firstVisibleItemIndex != null ? firstVisibleItemIndex - minIndexForVisible : null;
        } else {
          maintainVisibleContentPositionAdjustment = null;
        }
      }
      var constrainedCells = VirtualizedList._constrainToItemCount(maintainVisibleContentPositionAdjustment != null ? {
        first: prevState.cellsAroundViewport.first + maintainVisibleContentPositionAdjustment,
        last: prevState.cellsAroundViewport.last + maintainVisibleContentPositionAdjustment
      } : prevState.cellsAroundViewport, newProps);
      return {
        cellsAroundViewport: constrainedCells,
        renderMask: VirtualizedList._createRenderMask(newProps, constrainedCells),
        firstVisibleItemKey: newFirstVisibleItemKey,
        pendingScrollUpdateCount: maintainVisibleContentPositionAdjustment != null ? prevState.pendingScrollUpdateCount + 1 : prevState.pendingScrollUpdateCount
      };
    }
  }, {
    key: "_constrainToItemCount",
    value: function _constrainToItemCount(cells, props) {
      var itemCount = props.getItemCount(props.data);
      var lastPossibleCellIndex = itemCount - 1;
      var maxToRenderPerBatch = (0, _VirtualizedListProps.maxToRenderPerBatchOrDefault)(props.maxToRenderPerBatch);
      var maxFirst = Math.max(0, lastPossibleCellIndex - maxToRenderPerBatch);
      return {
        first: (0, _clamp.default)(0, cells.first, maxFirst),
        last: Math.min(lastPossibleCellIndex, cells.last)
      };
    }
  }, {
    key: "_keyExtractor",
    value: function _keyExtractor(item, index, props) {
      if (props.keyExtractor != null) {
        return props.keyExtractor(item, index);
      }
      var key = (0, _VirtualizeUtils.keyExtractor)(item, index);
      if (key === String(index)) {
        _usedIndexForKey = true;
        if (item.type && item.type.displayName) {
          _keylessItemComponentName = item.type.displayName;
        }
      }
      return key;
    }
  }]);
}(_StateSafePureComponent.default);
VirtualizedList.contextType = _VirtualizedListContext.VirtualizedListContext;
var styles = _reactNative.StyleSheet.create({
  verticallyInverted: _reactNative.Platform.OS === 'android' ? {
    transform: [{
      scale: -1
    }]
  } : {
    transform: [{
      scaleY: -1
    }]
  },
  horizontallyInverted: {
    transform: [{
      scaleX: -1
    }]
  },
  debug: {
    flex: 1
  },
  debugOverlayBase: {
    position: 'absolute',
    top: 0,
    right: 0
  },
  debugOverlay: {
    bottom: 0,
    width: 20,
    borderColor: 'blue',
    borderWidth: 1
  },
  debugOverlayFrame: {
    left: 0,
    backgroundColor: 'orange'
  },
  debugOverlayFrameLast: {
    left: 0,
    borderColor: 'green',
    borderWidth: 2
  },
  debugOverlayFrameVis: {
    left: 0,
    borderColor: 'red',
    borderWidth: 2
  }
});
var _default = exports.default = VirtualizedList;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY2xhbXAiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9pbmZvTG9nIiwiX0NlbGxSZW5kZXJNYXNrIiwiX0NoaWxkTGlzdENvbGxlY3Rpb24iLCJfRmlsbFJhdGVIZWxwZXIiLCJfTGlzdE1ldHJpY3NBZ2dyZWdhdG9yIiwiX1N0YXRlU2FmZVB1cmVDb21wb25lbnQiLCJfVmlld2FiaWxpdHlIZWxwZXIiLCJfVmlydHVhbGl6ZWRMaXN0Q2VsbFJlbmRlcmVyIiwiX1ZpcnR1YWxpemVkTGlzdENvbnRleHQiLCJfVmlydHVhbGl6ZWRMaXN0UHJvcHMiLCJfVmlydHVhbGl6ZVV0aWxzIiwiX2ludmFyaWFudCIsIl9udWxsdGhyb3dzIiwiX3JlYWN0IiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJSZWFjdCIsIl9yZWFjdE5hdGl2ZSIsIlJlYWN0TmF0aXZlRmVhdHVyZUZsYWdzIiwiX2pzeFJ1bnRpbWUiLCJfZXhjbHVkZWQiLCJPTl9FREdFX1JFQUNIRURfRVBTSUxPTiIsIl91c2VkSW5kZXhGb3JLZXkiLCJfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lIiwiZ2V0U2Nyb2xsaW5nVGhyZXNob2xkIiwidGhyZXNob2xkIiwidmlzaWJsZUxlbmd0aCIsIlZpcnR1YWxpemVkTGlzdCIsIl9TdGF0ZVNhZmVQdXJlQ29tcG9uZSIsInByb3BzIiwiX3RoaXMkcHJvcHMkbWFpbnRhaW5WIiwiX3RoaXMkcHJvcHMkbWFpbnRhaW5WMiIsIl90aGlzIiwiX2NsYXNzQ2FsbENoZWNrMiIsImRlZmF1bHQiLCJfY2FsbFN1cGVyMiIsIl9nZXRTY3JvbGxNZXRyaWNzIiwiX3Njcm9sbE1ldHJpY3MiLCJfZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZiIsIl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24iLCJjb250ZXh0IiwiZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZiIsIl9yZWdpc3RlckFzTmVzdGVkQ2hpbGQiLCJjaGlsZExpc3QiLCJfbmVzdGVkQ2hpbGRMaXN0cyIsImFkZCIsInJlZiIsImNlbGxLZXkiLCJfaGFzSW50ZXJhY3RlZCIsInJlY29yZEludGVyYWN0aW9uIiwiX3VucmVnaXN0ZXJBc05lc3RlZENoaWxkIiwicmVtb3ZlIiwiX29uVXBkYXRlU2VwYXJhdG9ycyIsImtleXMiLCJuZXdQcm9wcyIsImZvckVhY2giLCJrZXkiLCJfY2VsbFJlZnMiLCJ1cGRhdGVTZXBhcmF0b3JQcm9wcyIsIl9nZXRTcGFjZXJLZXkiLCJpc1ZlcnRpY2FsIiwiX2xpc3RNZXRyaWNzIiwiTGlzdE1ldHJpY3NBZ2dyZWdhdG9yIiwiX2Zvb3Rlckxlbmd0aCIsIl9oYXNUcmlnZ2VyZWRJbml0aWFsU2Nyb2xsVG9JbmRleCIsIl9oYXNNb3JlIiwiX2hhc1dhcm5lZCIsIl9oZWFkZXJMZW5ndGgiLCJfaGlQcmlJblByb2dyZXNzIiwiX2luZGljZXNUb0tleXMiLCJNYXAiLCJfbGFzdEZvY3VzZWRDZWxsS2V5IiwiQ2hpbGRMaXN0Q29sbGVjdGlvbiIsIl9vZmZzZXRGcm9tUGFyZW50VmlydHVhbGl6ZWRMaXN0IiwiX3BlbmRpbmdWaWV3YWJpbGl0eVVwZGF0ZSIsIl9wcmV2UGFyZW50T2Zmc2V0IiwiZE9mZnNldCIsImR0Iiwib2Zmc2V0IiwidGltZXN0YW1wIiwidmVsb2NpdHkiLCJ6b29tU2NhbGUiLCJfc2Nyb2xsUmVmIiwiX3NlbnRTdGFydEZvckNvbnRlbnRMZW5ndGgiLCJfc2VudEVuZEZvckNvbnRlbnRMZW5ndGgiLCJfdXBkYXRlQ2VsbHNUb1JlbmRlclRpbWVvdXRJRCIsIl92aWV3YWJpbGl0eVR1cGxlcyIsIl9jYXB0dXJlU2Nyb2xsUmVmIiwiX2RlZmF1bHRSZW5kZXJTY3JvbGxDb21wb25lbnQiLCJvblJlZnJlc2giLCJvbkNvbnRlbnRTaXplQ2hhbmdlIiwib3RoZXJQcm9wcyIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllczIiLCJqc3giLCJWaWV3IiwiT2JqZWN0IiwiYXNzaWduIiwiX3Byb3BzJHJlZnJlc2hpbmciLCJpbnZhcmlhbnQiLCJyZWZyZXNoaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsIlNjcm9sbFZpZXciLCJyZWZyZXNoQ29udHJvbCIsIlJlZnJlc2hDb250cm9sIiwicHJvZ3Jlc3NWaWV3T2Zmc2V0IiwiX29uQ2VsbExheW91dCIsImUiLCJjZWxsSW5kZXgiLCJsYXlvdXRIYXNDaGFuZ2VkIiwibm90aWZ5Q2VsbExheW91dCIsImxheW91dCIsIm5hdGl2ZUV2ZW50Iiwib3JpZW50YXRpb24iLCJfb3JpZW50YXRpb24iLCJfc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlIiwiX3RyaWdnZXJSZW1lYXN1cmVGb3JDaGlsZExpc3RzSW5DZWxsIiwiX2NvbXB1dGVCbGFua25lc3MiLCJfdXBkYXRlVmlld2FibGVJdGVtcyIsInN0YXRlIiwiY2VsbHNBcm91bmRWaWV3cG9ydCIsIl9vbkNlbGxGb2N1c0NhcHR1cmUiLCJkZWZlckZsYXRMaXN0Rm9jdXNDaGFuZ2VSZW5kZXJVcGRhdGUiLCJfdXBkYXRlQ2VsbHNUb1JlbmRlciIsIl9vbkNlbGxVbm1vdW50Iiwibm90aWZ5Q2VsbFVubW91bnRlZCIsIl9vbkxheW91dCIsIm1lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QiLCJfc2VsZWN0TGVuZ3RoIiwib25MYXlvdXQiLCJfbWF5YmVDYWxsT25FZGdlUmVhY2hlZCIsIl9vbkxheW91dEVtcHR5IiwiX29uTGF5b3V0Rm9vdGVyIiwiX2dldEZvb3RlckNlbGxLZXkiLCJfb25MYXlvdXRIZWFkZXIiLCJfb25Db250ZW50U2l6ZUNoYW5nZSIsIndpZHRoIiwiaGVpZ2h0Iiwibm90aWZ5TGlzdENvbnRlbnRMYXlvdXQiLCJfbWF5YmVTY3JvbGxUb0luaXRpYWxTY3JvbGxJbmRleCIsIl9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyIsIm1ldHJpY3MiLCJjb250ZW50TGVuZ3RoIiwiZ2V0Q29udGVudExlbmd0aCIsIl9vblNjcm9sbCIsIm9uU2Nyb2xsIiwidGltZVN0YW1wIiwibGF5b3V0TWVhc3VyZW1lbnQiLCJjb250ZW50U2l6ZSIsIl9vZmZzZXRGcm9tU2Nyb2xsRXZlbnQiLCJfdGhpcyRfY29udmVydFBhcmVudFMiLCJNYXRoIiwibWF4IiwicGVyZiIsImluZm9Mb2ciLCJwcmV2RHQiLCJwZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQiLCJzZXRTdGF0ZSIsIl9maWxsUmF0ZUhlbHBlciIsImFjdGl2YXRlIiwiX29uU2Nyb2xsQmVnaW5EcmFnIiwidHVwbGUiLCJ2aWV3YWJpbGl0eUhlbHBlciIsIm9uU2Nyb2xsQmVnaW5EcmFnIiwiX29uU2Nyb2xsRW5kRHJhZyIsIl9zZWxlY3RPZmZzZXQiLCJvblNjcm9sbEVuZERyYWciLCJfb25Nb21lbnR1bVNjcm9sbEJlZ2luIiwib25Nb21lbnR1bVNjcm9sbEJlZ2luIiwiX29uTW9tZW50dW1TY3JvbGxFbmQiLCJvbk1vbWVudHVtU2Nyb2xsRW5kIiwiX2FkanVzdENlbGxzQXJvdW5kVmlld3BvcnQiLCJyZW5kZXJNYXNrIiwiX2NyZWF0ZVJlbmRlck1hc2siLCJfZ2V0Tm9uVmlld3BvcnRSZW5kZXJSZWdpb25zIiwiZmlyc3QiLCJsYXN0IiwiZXF1YWxzIiwiX2NyZWF0ZVZpZXdUb2tlbiIsImluZGV4IiwiaXNWaWV3YWJsZSIsImRhdGEiLCJnZXRJdGVtIiwiaXRlbSIsIl9rZXlFeHRyYWN0b3IiLCJsYXN0Rm9jdXNlZENlbGxSZW5kZXJlciIsImZvY3VzZWRDZWxsSW5kZXgiLCJpdGVtQ291bnQiLCJnZXRJdGVtQ291bnQiLCJfZ2V0SXRlbUtleSIsImhlaWdodE9mQ2VsbHNCZWZvcmVGb2N1c2VkIiwiaSIsImdldENlbGxNZXRyaWNzQXBwcm94IiwibGVuZ3RoIiwiaGVpZ2h0T2ZDZWxsc0FmdGVyRm9jdXNlZCIsIl9jaGVja1Byb3BzIiwiRmlsbFJhdGVIZWxwZXIiLCJ2aWV3YWJpbGl0eUNvbmZpZ0NhbGxiYWNrUGFpcnMiLCJtYXAiLCJwYWlyIiwiVmlld2FiaWxpdHlIZWxwZXIiLCJ2aWV3YWJpbGl0eUNvbmZpZyIsIm9uVmlld2FibGVJdGVtc0NoYW5nZWQiLCJfdGhpcyRwcm9wcyIsInB1c2giLCJpbml0aWFsUmVuZGVyUmVnaW9uIiwiX2luaXRpYWxSZW5kZXJSZWdpb24iLCJtaW5JbmRleEZvclZpc2libGUiLCJtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb24iLCJmaXJzdFZpc2libGVJdGVtS2V5IiwiaW5pdGlhbFNjcm9sbEluZGV4IiwiX2luaGVyaXRzMiIsIl9jcmVhdGVDbGFzczIiLCJ2YWx1ZSIsInNjcm9sbFRvRW5kIiwicGFyYW1zIiwiYW5pbWF0ZWQiLCJ2ZXJ5TGFzdCIsImZyYW1lIiwic2Nyb2xsVG9PZmZzZXQiLCJzY3JvbGxUb0luZGV4IiwiX3RoaXMkcHJvcHMyIiwiZ2V0SXRlbUxheW91dCIsIm9uU2Nyb2xsVG9JbmRleEZhaWxlZCIsInZpZXdPZmZzZXQiLCJ2aWV3UG9zaXRpb24iLCJnZXRIaWdoZXN0TWVhc3VyZWRDZWxsSW5kZXgiLCJhdmVyYWdlSXRlbUxlbmd0aCIsImdldEF2ZXJhZ2VDZWxsTGVuZ3RoIiwiaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCIsImZsb29yIiwiZ2V0Q2VsbE9mZnNldEFwcHJveCIsInNjcm9sbFRvSXRlbSIsIl90aGlzJHByb3BzMyIsInNjcm9sbFJlZiIsInNjcm9sbFRvIiwiY29uc29sZSIsIndhcm4iLCJfdGhpcyRfb3JpZW50YXRpb24iLCJob3Jpem9udGFsIiwicnRsIiwiaGFzQ29udGVudExlbmd0aCIsIl9zY3JvbGxUb1BhcmFtc0Zyb21PZmZzZXQiLCJfdGhpcyRfb3JpZW50YXRpb24yIiwiY2FydE9mZnNldCIsImNhcnRlc2lhbk9mZnNldCIsIngiLCJ5IiwidCIsImZsYXNoU2Nyb2xsSW5kaWNhdG9ycyIsImdldFNjcm9sbFJlc3BvbmRlciIsImdldFNjcm9sbGFibGVOb2RlIiwiZmluZE5vZGVIYW5kbGUiLCJnZXRTY3JvbGxSZWYiLCJzZXROYXRpdmVQcm9wcyIsIl9nZXRDZWxsS2V5IiwiX3RoaXMkY29udGV4dCIsImhhc01vcmUiLCJ3aW5kb3dTaXplIiwiX19pc05hdGl2ZSIsIndpbmRvd1NpemVPckRlZmF1bHQiLCJfX0RFVl9fIiwiZmxleFdyYXAiLCJmbGF0U3R5bGVzIiwiU3R5bGVTaGVldCIsImZsYXR0ZW4iLCJjb250ZW50Q29udGFpbmVyU3R5bGUiLCJvbkVuZFJlYWNoZWRUaHJlc2hvbGQiLCJvbkVuZFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQiLCJfdGhpcyRfc2Nyb2xsTWV0cmljcyIsImRpc3RhbmNlRnJvbUVuZCIsIl9jb25zdHJhaW5Ub0l0ZW1Db3VudCIsIm5ld0NlbGxzQXJvdW5kVmlld3BvcnQiLCJkaXNhYmxlVmlydHVhbGl6YXRpb24iLCJyZW5kZXJBaGVhZCIsIm1heFRvUmVuZGVyUGVyQmF0Y2hPckRlZmF1bHQiLCJtYXhUb1JlbmRlclBlckJhdGNoIiwibWluIiwiY29tcHV0ZVdpbmRvd2VkUmVuZGVyTGltaXRzIiwic2l6ZSIsImNoaWxkSWR4IiwiX2ZpbmRGaXJzdENoaWxkV2l0aE1vcmUiLCJpaSIsImNlbGxLZXlGb3JJbmRleCIsImdldCIsImFueUluQ2VsbCIsImNvbXBvbmVudERpZE1vdW50IiwicmVnaXN0ZXJBc05lc3RlZENoaWxkIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJ1bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCIsImNsZWFyVGltZW91dCIsImRpc3Bvc2UiLCJkZWFjdGl2YXRlQW5kRmx1c2giLCJfcHVzaENlbGxzIiwiY2VsbHMiLCJzdGlja3lIZWFkZXJJbmRpY2VzIiwic3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyIsImludmVyc2lvblN0eWxlIiwiX3RoaXMyIiwiX3RoaXMkcHJvcHM0IiwiQ2VsbFJlbmRlcmVyQ29tcG9uZW50IiwiSXRlbVNlcGFyYXRvckNvbXBvbmVudCIsIkxpc3RIZWFkZXJDb21wb25lbnQiLCJMaXN0SXRlbUNvbXBvbmVudCIsImRlYnVnIiwicmVuZGVySXRlbSIsInN0aWNreU9mZnNldCIsImVuZCIsInByZXZDZWxsS2V5IiwiX2xvb3AiLCJzZXQiLCJoYXMiLCJzaG91bGRMaXN0ZW5Gb3JMYXlvdXQiLCJlbmFibGVkIiwidW5kZWZpbmVkIiwib25VcGRhdGVTZXBhcmF0b3JzIiwib25DZWxsRm9jdXNDYXB0dXJlIiwib25Vbm1vdW50Iiwib25DZWxsTGF5b3V0IiwibmVzdGVkQ29udGV4dCIsImhvcml6b250YWxPckRlZmF1bHQiLCJfcmVuZGVyRW1wdHlDb21wb25lbnQiLCJlbGVtZW50IiwiX3RoaXMzIiwiaXNGcmFnbWVudCIsInR5cGUiLCJGcmFnbWVudCIsImNsb25lRWxlbWVudCIsImV2ZW50Iiwic3R5bGUiLCJjb21wb3NlIiwicmVuZGVyIiwiX3RoaXMkcHJvcHMkc2Nyb2xsRXZlIiwiX3RoaXM0IiwiX3RoaXMkcHJvcHM1IiwiTGlzdEVtcHR5Q29tcG9uZW50IiwiTGlzdEZvb3RlckNvbXBvbmVudCIsIl90aGlzJHByb3BzNiIsImludmVydGVkIiwic3R5bGVzIiwiaG9yaXpvbnRhbGx5SW52ZXJ0ZWQiLCJ2ZXJ0aWNhbGx5SW52ZXJ0ZWQiLCJTZXQiLCJpc1ZhbGlkRWxlbWVudCIsIlZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXIiLCJjaGlsZHJlbiIsImNvbGxhcHNhYmxlIiwiTGlzdEhlYWRlckNvbXBvbmVudFN0eWxlIiwic3BhY2VyS2V5IiwicmVuZGVyUmVnaW9ucyIsImVudW1lcmF0ZVJlZ2lvbnMiLCJsYXN0UmVnaW9uIiwibGFzdFNwYWNlciIsImlzU3BhY2VyIiwic2VjdGlvbiIsImlzTGFzdFNwYWNlciIsImNvbnN0cmFpblRvTWVhc3VyZWQiLCJjbGFtcCIsImZpcnN0TWV0cmljcyIsImxhc3RNZXRyaWNzIiwic3BhY2VyU2l6ZSIsIl9kZWZpbmVQcm9wZXJ0eTIiLCJMaXN0Rm9vdGVyQ29tcG9uZW50U3R5bGUiLCJzY3JvbGxQcm9wcyIsInNjcm9sbEV2ZW50VGhyb3R0bGUiLCJpbnZlcnRTdGlja3lIZWFkZXJzIiwiaXNJbnZlcnRlZFZpcnR1YWxpemVkTGlzdCIsImlubmVyUmV0IiwiVmlydHVhbGl6ZWRMaXN0Q29udGV4dFByb3ZpZGVyIiwiZ2V0U2Nyb2xsTWV0cmljcyIsInJlbmRlclNjcm9sbENvbXBvbmVudCIsInJldCIsIkNvbnRleHQiLCJDb25zdW1lciIsInNjcm9sbENvbnRleHQiLCJuZXN0aW5nIiwic2Nyb2xsRW5hYmxlZCIsImVycm9yIiwianN4cyIsIl9yZW5kZXJEZWJ1Z092ZXJsYXkiLCJjb21wb25lbnREaWRVcGRhdGUiLCJwcmV2UHJvcHMiLCJfdGhpcyRwcm9wczciLCJleHRyYURhdGEiLCJyZXNldFZpZXdhYmxlSW5kaWNlcyIsImhpUHJpSW5Qcm9ncmVzcyIsImNvbXB1dGVCbGFua25lc3MiLCJmb3JFYWNoSW5DZWxsIiwiX3RoaXM1IiwibWVhc3VyZUxheW91dCIsInNjcm9sbE1ldHJpY3MiLCJtZXRyaWNzQ2hhbmdlZCIsInN0YWNrIiwibm9ybWFsaXplIiwiZnJhbWVzSW5MYXlvdXQiLCJpc01vdW50ZWQiLCJ3aW5kb3dUb3AiLCJmcmFtZUxhc3QiLCJ3aW5kb3dMZW4iLCJ2aXNUb3AiLCJ2aXNMZW4iLCJkZWJ1Z092ZXJsYXlCYXNlIiwiZGVidWdPdmVybGF5IiwiZiIsImRlYnVnT3ZlcmxheUZyYW1lIiwidG9wIiwiZGVidWdPdmVybGF5RnJhbWVMYXN0IiwiZGVidWdPdmVybGF5RnJhbWVWaXMiLCJfcmVmMyIsIkkxOG5NYW5hZ2VyIiwiaXNSVEwiLCJfdGhpcyRwcm9wczgiLCJvblN0YXJ0UmVhY2hlZCIsIm9uU3RhcnRSZWFjaGVkVGhyZXNob2xkIiwib25FbmRSZWFjaGVkIiwiX3RoaXMkX3Njcm9sbE1ldHJpY3MyIiwiZGlzdGFuY2VGcm9tU3RhcnQiLCJERUZBVUxUX1RIUkVTSE9MRF9QWCIsInN0YXJ0VGhyZXNob2xkIiwiZW5kVGhyZXNob2xkIiwiaXNXaXRoaW5TdGFydFRocmVzaG9sZCIsImlzV2l0aGluRW5kVGhyZXNob2xkIiwiY29udGVudFdpZHRoIiwiY29udGVudEhlaWdodCIsImNvbnRlbnRPZmZzZXQiLCJudWxsdGhyb3dzIiwidW5zdGFibGVfb25TY3JvbGwiLCJfZSRuYXRpdmVFdmVudCIsIl90aGlzJF9vcmllbnRhdGlvbjMiLCJfdGhpczYiLCJfc2hvdWxkUmVuZGVyV2l0aFByaW9yaXR5IiwiX3RoaXMkcHJvcHMkdXBkYXRlQ2VsIiwic2V0VGltZW91dCIsInVwZGF0ZUNlbGxzQmF0Y2hpbmdQZXJpb2QiLCJfdGhpcyRzdGF0ZSRjZWxsc0Fyb3UiLCJfdGhpcyRfc2Nyb2xsTWV0cmljczMiLCJoaVByaSIsIm9uU3RhcnRSZWFjaGVkVGhyZXNob2xkT3JEZWZhdWx0IiwiZGlzdFRvcCIsImRpc3RCb3R0b20iLCJ1bnN0YWJsZV9vblNjcm9sbEJlZ2luRHJhZyIsInVuc3RhYmxlX29uU2Nyb2xsRW5kRHJhZyIsInVuc3RhYmxlX29uTW9tZW50dW1TY3JvbGxCZWdpbiIsInVuc3RhYmxlX29uTW9tZW50dW1TY3JvbGxFbmQiLCJfX2dldExpc3RNZXRyaWNzIiwiX3RoaXM3Iiwib25VcGRhdGUiLCJfZmluZEl0ZW1JbmRleFdpdGhLZXkiLCJoaW50IiwiY3VyS2V5IiwiYWRkaXRpb25hbFJlZ2lvbnMiLCJDZWxsUmVuZGVyTWFzayIsImFsbFJlZ2lvbnMiLCJjb25jYXQiLCJfdG9Db25zdW1hYmxlQXJyYXkyIiwicmVnaW9uIiwiYWRkQ2VsbHMiLCJpbml0aWFsUmVnaW9uIiwic3RpY2t5SW5kaWNlc1NldCIsIl9lbnN1cmVDbG9zZXN0U3RpY2t5SGVhZGVyIiwiX3Byb3BzJGluaXRpYWxTY3JvbGxJIiwiZmlyc3RDZWxsSW5kZXgiLCJsYXN0Q2VsbEluZGV4IiwiaW5pdGlhbE51bVRvUmVuZGVyT3JEZWZhdWx0IiwiaW5pdGlhbE51bVRvUmVuZGVyIiwiY2VsbElkeCIsIml0ZW1JZHgiLCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMiLCJwcmV2U3RhdGUiLCJfbmV3UHJvcHMkbWFpbnRhaW5WaXMiLCJfbmV3UHJvcHMkbWFpbnRhaW5WaXMyIiwibnVtQ2VsbHMiLCJtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb25BZGp1c3RtZW50IiwicHJldkZpcnN0VmlzaWJsZUl0ZW1LZXkiLCJuZXdGaXJzdFZpc2libGVJdGVtS2V5IiwiZmlyc3RWaXNpYmxlSXRlbUluZGV4IiwiY29uc3RyYWluZWRDZWxscyIsImxhc3RQb3NzaWJsZUNlbGxJbmRleCIsIm1heEZpcnN0Iiwia2V5RXh0cmFjdG9yIiwiZGVmYXVsdEtleUV4dHJhY3RvciIsIlN0cmluZyIsImRpc3BsYXlOYW1lIiwiU3RhdGVTYWZlUHVyZUNvbXBvbmVudCIsImNvbnRleHRUeXBlIiwiVmlydHVhbGl6ZWRMaXN0Q29udGV4dCIsImNyZWF0ZSIsIlBsYXRmb3JtIiwiT1MiLCJ0cmFuc2Zvcm0iLCJzY2FsZSIsInNjYWxlWSIsInNjYWxlWCIsImZsZXgiLCJwb3NpdGlvbiIsInJpZ2h0IiwiYm90dG9tIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJXaWR0aCIsImxlZnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlcyI6WyJWaXJ0dWFsaXplZExpc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmbG93XG4gKiBAZm9ybWF0XG4gKi9cblxuaW1wb3J0IHR5cGUge0NlbGxNZXRyaWNQcm9wcywgTGlzdE9yaWVudGF0aW9ufSBmcm9tICcuL0xpc3RNZXRyaWNzQWdncmVnYXRvcic7XG5pbXBvcnQgdHlwZSB7Vmlld1Rva2VufSBmcm9tICcuL1ZpZXdhYmlsaXR5SGVscGVyJztcbmltcG9ydCB0eXBlIHtcbiAgSXRlbSxcbiAgTGlzdFJlbmRlckl0ZW0sXG4gIExpc3RSZW5kZXJJdGVtSW5mbyxcbiAgU2VwYXJhdG9ycyxcbiAgVmlydHVhbGl6ZWRMaXN0UHJvcHMsXG59IGZyb20gJy4vVmlydHVhbGl6ZWRMaXN0UHJvcHMnO1xuaW1wb3J0IHR5cGUge1xuICBMYXlvdXRDaGFuZ2VFdmVudCxcbiAgU2Nyb2xsRXZlbnQsXG4gIFNjcm9sbFJlc3BvbmRlclR5cGUsXG4gIFN0eWxlUHJvcCxcbiAgVmlld1N0eWxlLFxufSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuXG5pbXBvcnQgY2xhbXAgZnJvbSAnLi4vVXRpbGl0aWVzL2NsYW1wJztcbmltcG9ydCBpbmZvTG9nIGZyb20gJy4uL1V0aWxpdGllcy9pbmZvTG9nJztcbmltcG9ydCB7Q2VsbFJlbmRlck1hc2t9IGZyb20gJy4vQ2VsbFJlbmRlck1hc2snO1xuaW1wb3J0IENoaWxkTGlzdENvbGxlY3Rpb24gZnJvbSAnLi9DaGlsZExpc3RDb2xsZWN0aW9uJztcbmltcG9ydCBGaWxsUmF0ZUhlbHBlciBmcm9tICcuL0ZpbGxSYXRlSGVscGVyJztcbmltcG9ydCBMaXN0TWV0cmljc0FnZ3JlZ2F0b3IgZnJvbSAnLi9MaXN0TWV0cmljc0FnZ3JlZ2F0b3InO1xuaW1wb3J0IFN0YXRlU2FmZVB1cmVDb21wb25lbnQgZnJvbSAnLi9TdGF0ZVNhZmVQdXJlQ29tcG9uZW50JztcbmltcG9ydCBWaWV3YWJpbGl0eUhlbHBlciBmcm9tICcuL1ZpZXdhYmlsaXR5SGVscGVyJztcbmltcG9ydCBDZWxsUmVuZGVyZXIgZnJvbSAnLi9WaXJ0dWFsaXplZExpc3RDZWxsUmVuZGVyZXInO1xuaW1wb3J0IHtcbiAgVmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlcixcbiAgVmlydHVhbGl6ZWRMaXN0Q29udGV4dCxcbiAgVmlydHVhbGl6ZWRMaXN0Q29udGV4dFByb3ZpZGVyLFxufSBmcm9tICcuL1ZpcnR1YWxpemVkTGlzdENvbnRleHQuanMnO1xuaW1wb3J0IHtcbiAgaG9yaXpvbnRhbE9yRGVmYXVsdCxcbiAgaW5pdGlhbE51bVRvUmVuZGVyT3JEZWZhdWx0LFxuICBtYXhUb1JlbmRlclBlckJhdGNoT3JEZWZhdWx0LFxuICBvbkVuZFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQsXG4gIG9uU3RhcnRSZWFjaGVkVGhyZXNob2xkT3JEZWZhdWx0LFxuICB3aW5kb3dTaXplT3JEZWZhdWx0LFxufSBmcm9tICcuL1ZpcnR1YWxpemVkTGlzdFByb3BzJztcbmltcG9ydCB7XG4gIGNvbXB1dGVXaW5kb3dlZFJlbmRlckxpbWl0cyxcbiAga2V5RXh0cmFjdG9yIGFzIGRlZmF1bHRLZXlFeHRyYWN0b3IsXG59IGZyb20gJy4vVmlydHVhbGl6ZVV0aWxzJztcbmltcG9ydCBpbnZhcmlhbnQgZnJvbSAnaW52YXJpYW50JztcbmltcG9ydCBudWxsdGhyb3dzIGZyb20gJ251bGx0aHJvd3MnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtjbG9uZUVsZW1lbnQsIGlzVmFsaWRFbGVtZW50fSBmcm9tICdyZWFjdCc7XG5pbXBvcnQge1xuICBJMThuTWFuYWdlcixcbiAgUGxhdGZvcm0sXG4gIFJlZnJlc2hDb250cm9sLFxuICBTY3JvbGxWaWV3LFxuICBTdHlsZVNoZWV0LFxuICBWaWV3LFxuICBmaW5kTm9kZUhhbmRsZSxcbn0gZnJvbSAncmVhY3QtbmF0aXZlJztcbmltcG9ydCAqIGFzIFJlYWN0TmF0aXZlRmVhdHVyZUZsYWdzIGZyb20gJ3JlYWN0LW5hdGl2ZS9zcmMvcHJpdmF0ZS9mZWF0dXJlZmxhZ3MvUmVhY3ROYXRpdmVGZWF0dXJlRmxhZ3MnO1xuXG5leHBvcnQgdHlwZSB7TGlzdFJlbmRlckl0ZW1JbmZvLCBMaXN0UmVuZGVySXRlbSwgU2VwYXJhdG9yc307XG5cbmNvbnN0IE9OX0VER0VfUkVBQ0hFRF9FUFNJTE9OID0gMC4wMDE7XG5cbmxldCBfdXNlZEluZGV4Rm9yS2V5ID0gZmFsc2U7XG5sZXQgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZTogc3RyaW5nID0gJyc7XG5cbnR5cGUgVmlld2FiaWxpdHlIZWxwZXJDYWxsYmFja1R1cGxlID0ge1xuICB2aWV3YWJpbGl0eUhlbHBlcjogVmlld2FiaWxpdHlIZWxwZXIsXG4gIG9uVmlld2FibGVJdGVtc0NoYW5nZWQ6IChpbmZvOiB7XG4gICAgdmlld2FibGVJdGVtczogQXJyYXk8Vmlld1Rva2VuPixcbiAgICBjaGFuZ2VkOiBBcnJheTxWaWV3VG9rZW4+LFxuICAgIC4uLlxuICB9KSA9PiB2b2lkLFxuICAuLi5cbn07XG5cbnR5cGUgU3RhdGUgPSB7XG4gIHJlbmRlck1hc2s6IENlbGxSZW5kZXJNYXNrLFxuICBjZWxsc0Fyb3VuZFZpZXdwb3J0OiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSxcbiAgLy8gVXNlZCB0byB0cmFjayBpdGVtcyBhZGRlZCBhdCB0aGUgc3RhcnQgb2YgdGhlIGxpc3QgZm9yIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbi5cbiAgZmlyc3RWaXNpYmxlSXRlbUtleTogP3N0cmluZyxcbiAgLy8gV2hlbiA+IDAgdGhlIHNjcm9sbCBwb3NpdGlvbiBhdmFpbGFibGUgaW4gSlMgaXMgY29uc2lkZXJlZCBzdGFsZSBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkLlxuICBwZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQ6IG51bWJlcixcbn07XG5cbmZ1bmN0aW9uIGdldFNjcm9sbGluZ1RocmVzaG9sZCh0aHJlc2hvbGQ6IG51bWJlciwgdmlzaWJsZUxlbmd0aDogbnVtYmVyKSB7XG4gIHJldHVybiAodGhyZXNob2xkICogdmlzaWJsZUxlbmd0aCkgLyAyO1xufVxuXG4vKipcbiAqIEJhc2UgaW1wbGVtZW50YXRpb24gZm9yIHRoZSBtb3JlIGNvbnZlbmllbnQgW2A8RmxhdExpc3Q+YF0oaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9mbGF0bGlzdClcbiAqIGFuZCBbYDxTZWN0aW9uTGlzdD5gXShodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL3NlY3Rpb25saXN0KSBjb21wb25lbnRzLCB3aGljaCBhcmUgYWxzbyBiZXR0ZXJcbiAqIGRvY3VtZW50ZWQuIEluIGdlbmVyYWwsIHRoaXMgc2hvdWxkIG9ubHkgcmVhbGx5IGJlIHVzZWQgaWYgeW91IG5lZWQgbW9yZSBmbGV4aWJpbGl0eSB0aGFuXG4gKiBgRmxhdExpc3RgIHByb3ZpZGVzLCBlLmcuIGZvciB1c2Ugd2l0aCBpbW11dGFibGUgZGF0YSBpbnN0ZWFkIG9mIHBsYWluIGFycmF5cy5cbiAqXG4gKiBWaXJ0dWFsaXphdGlvbiBtYXNzaXZlbHkgaW1wcm92ZXMgbWVtb3J5IGNvbnN1bXB0aW9uIGFuZCBwZXJmb3JtYW5jZSBvZiBsYXJnZSBsaXN0cyBieVxuICogbWFpbnRhaW5pbmcgYSBmaW5pdGUgcmVuZGVyIHdpbmRvdyBvZiBhY3RpdmUgaXRlbXMgYW5kIHJlcGxhY2luZyBhbGwgaXRlbXMgb3V0c2lkZSBvZiB0aGUgcmVuZGVyXG4gKiB3aW5kb3cgd2l0aCBhcHByb3ByaWF0ZWx5IHNpemVkIGJsYW5rIHNwYWNlLiBUaGUgd2luZG93IGFkYXB0cyB0byBzY3JvbGxpbmcgYmVoYXZpb3IsIGFuZCBpdGVtc1xuICogYXJlIHJlbmRlcmVkIGluY3JlbWVudGFsbHkgd2l0aCBsb3ctcHJpIChhZnRlciBhbnkgcnVubmluZyBpbnRlcmFjdGlvbnMpIGlmIHRoZXkgYXJlIGZhciBmcm9tIHRoZVxuICogdmlzaWJsZSBhcmVhLCBvciB3aXRoIGhpLXByaSBvdGhlcndpc2UgdG8gbWluaW1pemUgdGhlIHBvdGVudGlhbCBvZiBzZWVpbmcgYmxhbmsgc3BhY2UuXG4gKlxuICogU29tZSBjYXZlYXRzOlxuICpcbiAqIC0gSW50ZXJuYWwgc3RhdGUgaXMgbm90IHByZXNlcnZlZCB3aGVuIGNvbnRlbnQgc2Nyb2xscyBvdXQgb2YgdGhlIHJlbmRlciB3aW5kb3cuIE1ha2Ugc3VyZSBhbGxcbiAqICAgeW91ciBkYXRhIGlzIGNhcHR1cmVkIGluIHRoZSBpdGVtIGRhdGEgb3IgZXh0ZXJuYWwgc3RvcmVzIGxpa2UgRmx1eCwgUmVkdXgsIG9yIFJlbGF5LlxuICogLSBUaGlzIGlzIGEgYFB1cmVDb21wb25lbnRgIHdoaWNoIG1lYW5zIHRoYXQgaXQgd2lsbCBub3QgcmUtcmVuZGVyIGlmIGBwcm9wc2AgcmVtYWluIHNoYWxsb3ctXG4gKiAgIGVxdWFsLiBNYWtlIHN1cmUgdGhhdCBldmVyeXRoaW5nIHlvdXIgYHJlbmRlckl0ZW1gIGZ1bmN0aW9uIGRlcGVuZHMgb24gaXMgcGFzc2VkIGFzIGEgcHJvcFxuICogICAoZS5nLiBgZXh0cmFEYXRhYCkgdGhhdCBpcyBub3QgYD09PWAgYWZ0ZXIgdXBkYXRlcywgb3RoZXJ3aXNlIHlvdXIgVUkgbWF5IG5vdCB1cGRhdGUgb25cbiAqICAgY2hhbmdlcy4gVGhpcyBpbmNsdWRlcyB0aGUgYGRhdGFgIHByb3AgYW5kIHBhcmVudCBjb21wb25lbnQgc3RhdGUuXG4gKiAtIEluIG9yZGVyIHRvIGNvbnN0cmFpbiBtZW1vcnkgYW5kIGVuYWJsZSBzbW9vdGggc2Nyb2xsaW5nLCBjb250ZW50IGlzIHJlbmRlcmVkIGFzeW5jaHJvbm91c2x5XG4gKiAgIG9mZnNjcmVlbi4gVGhpcyBtZWFucyBpdCdzIHBvc3NpYmxlIHRvIHNjcm9sbCBmYXN0ZXIgdGhhbiB0aGUgZmlsbCByYXRlIGFuZHMgbW9tZW50YXJpbHkgc2VlXG4gKiAgIGJsYW5rIGNvbnRlbnQuIFRoaXMgaXMgYSB0cmFkZW9mZiB0aGF0IGNhbiBiZSBhZGp1c3RlZCB0byBzdWl0IHRoZSBuZWVkcyBvZiBlYWNoIGFwcGxpY2F0aW9uLFxuICogICBhbmQgd2UgYXJlIHdvcmtpbmcgb24gaW1wcm92aW5nIGl0IGJlaGluZCB0aGUgc2NlbmVzLlxuICogLSBCeSBkZWZhdWx0LCB0aGUgbGlzdCBsb29rcyBmb3IgYSBga2V5YCBvciBgaWRgIHByb3Agb24gZWFjaCBpdGVtIGFuZCB1c2VzIHRoYXQgZm9yIHRoZSBSZWFjdCBrZXkuXG4gKiAgIEFsdGVybmF0aXZlbHksIHlvdSBjYW4gcHJvdmlkZSBhIGN1c3RvbSBga2V5RXh0cmFjdG9yYCBwcm9wLlxuICogLSBBcyBhbiBlZmZvcnQgdG8gcmVtb3ZlIGRlZmF1bHRQcm9wcywgdXNlIGhlbHBlciBmdW5jdGlvbnMgd2hlbiByZWZlcmVuY2luZyBjZXJ0YWluIHByb3BzXG4gKlxuICovXG5jbGFzcyBWaXJ0dWFsaXplZExpc3QgZXh0ZW5kcyBTdGF0ZVNhZmVQdXJlQ29tcG9uZW50PFxuICBWaXJ0dWFsaXplZExpc3RQcm9wcyxcbiAgU3RhdGUsXG4+IHtcbiAgc3RhdGljIGNvbnRleHRUeXBlOiB0eXBlb2YgVmlydHVhbGl6ZWRMaXN0Q29udGV4dCA9IFZpcnR1YWxpemVkTGlzdENvbnRleHQ7XG5cbiAgLy8gc2Nyb2xsVG9FbmQgbWF5IGJlIGphbmt5IHdpdGhvdXQgZ2V0SXRlbUxheW91dCBwcm9wXG4gIHNjcm9sbFRvRW5kKHBhcmFtcz86ID97YW5pbWF0ZWQ/OiA/Ym9vbGVhbiwgLi4ufSkge1xuICAgIGNvbnN0IGFuaW1hdGVkID0gcGFyYW1zID8gcGFyYW1zLmFuaW1hdGVkIDogdHJ1ZTtcbiAgICBjb25zdCB2ZXJ5TGFzdCA9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSkgLSAxO1xuICAgIGlmICh2ZXJ5TGFzdCA8IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLl9saXN0TWV0cmljcy5nZXRDZWxsTWV0cmljc0FwcHJveCh2ZXJ5TGFzdCwgdGhpcy5wcm9wcyk7XG4gICAgY29uc3Qgb2Zmc2V0ID0gTWF0aC5tYXgoXG4gICAgICAwLFxuICAgICAgZnJhbWUub2Zmc2V0ICtcbiAgICAgICAgZnJhbWUubGVuZ3RoICtcbiAgICAgICAgdGhpcy5fZm9vdGVyTGVuZ3RoIC1cbiAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoLFxuICAgICk7XG5cbiAgICAvLyBUT0RPOiBjb25zaWRlciB1c2luZyBgcmVmLnNjcm9sbFRvRW5kYCBkaXJlY3RseVxuICAgIHRoaXMuc2Nyb2xsVG9PZmZzZXQoe2FuaW1hdGVkLCBvZmZzZXR9KTtcbiAgfVxuXG4gIC8vIHNjcm9sbFRvSW5kZXggbWF5IGJlIGphbmt5IHdpdGhvdXQgZ2V0SXRlbUxheW91dCBwcm9wXG4gIHNjcm9sbFRvSW5kZXgocGFyYW1zOiB7XG4gICAgYW5pbWF0ZWQ/OiA/Ym9vbGVhbixcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIHZpZXdPZmZzZXQ/OiBudW1iZXIsXG4gICAgdmlld1Bvc2l0aW9uPzogbnVtYmVyLFxuICAgIC4uLlxuICB9KTogJEZsb3dGaXhNZSB7XG4gICAgY29uc3Qge2RhdGEsIGdldEl0ZW1Db3VudCwgZ2V0SXRlbUxheW91dCwgb25TY3JvbGxUb0luZGV4RmFpbGVkfSA9XG4gICAgICB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHthbmltYXRlZCwgaW5kZXgsIHZpZXdPZmZzZXQsIHZpZXdQb3NpdGlvbn0gPSBwYXJhbXM7XG4gICAgaW52YXJpYW50KFxuICAgICAgaW5kZXggPj0gMCxcbiAgICAgIGBzY3JvbGxUb0luZGV4IG91dCBvZiByYW5nZTogcmVxdWVzdGVkIGluZGV4ICR7aW5kZXh9IGJ1dCBtaW5pbXVtIGlzIDBgLFxuICAgICk7XG4gICAgaW52YXJpYW50KFxuICAgICAgZ2V0SXRlbUNvdW50KGRhdGEpID49IDEsXG4gICAgICBgc2Nyb2xsVG9JbmRleCBvdXQgb2YgcmFuZ2U6IGl0ZW0gbGVuZ3RoICR7Z2V0SXRlbUNvdW50KFxuICAgICAgICBkYXRhLFxuICAgICAgKX0gYnV0IG1pbmltdW0gaXMgMWAsXG4gICAgKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICBpbmRleCA8IGdldEl0ZW1Db3VudChkYXRhKSxcbiAgICAgIGBzY3JvbGxUb0luZGV4IG91dCBvZiByYW5nZTogcmVxdWVzdGVkIGluZGV4ICR7aW5kZXh9IGlzIG91dCBvZiAwIHRvICR7XG4gICAgICAgIGdldEl0ZW1Db3VudChkYXRhKSAtIDFcbiAgICAgIH1gLFxuICAgICk7XG4gICAgaWYgKFxuICAgICAgIWdldEl0ZW1MYXlvdXQgJiZcbiAgICAgIGluZGV4ID4gdGhpcy5fbGlzdE1ldHJpY3MuZ2V0SGlnaGVzdE1lYXN1cmVkQ2VsbEluZGV4KClcbiAgICApIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgISFvblNjcm9sbFRvSW5kZXhGYWlsZWQsXG4gICAgICAgICdzY3JvbGxUb0luZGV4IHNob3VsZCBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggZ2V0SXRlbUxheW91dCBvciBvblNjcm9sbFRvSW5kZXhGYWlsZWQsICcgK1xuICAgICAgICAgICdvdGhlcndpc2UgdGhlcmUgaXMgbm8gd2F5IHRvIGtub3cgdGhlIGxvY2F0aW9uIG9mIG9mZnNjcmVlbiBpbmRpY2VzIG9yIGhhbmRsZSBmYWlsdXJlcy4nLFxuICAgICAgKTtcbiAgICAgIG9uU2Nyb2xsVG9JbmRleEZhaWxlZCh7XG4gICAgICAgIGF2ZXJhZ2VJdGVtTGVuZ3RoOiB0aGlzLl9saXN0TWV0cmljcy5nZXRBdmVyYWdlQ2VsbExlbmd0aCgpLFxuICAgICAgICBoaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4OlxuICAgICAgICAgIHRoaXMuX2xpc3RNZXRyaWNzLmdldEhpZ2hlc3RNZWFzdXJlZENlbGxJbmRleCgpLFxuICAgICAgICBpbmRleCxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmcmFtZSA9IHRoaXMuX2xpc3RNZXRyaWNzLmdldENlbGxNZXRyaWNzQXBwcm94KFxuICAgICAgTWF0aC5mbG9vcihpbmRleCksXG4gICAgICB0aGlzLnByb3BzLFxuICAgICk7XG4gICAgY29uc3Qgb2Zmc2V0ID1cbiAgICAgIE1hdGgubWF4KFxuICAgICAgICAwLFxuICAgICAgICB0aGlzLl9saXN0TWV0cmljcy5nZXRDZWxsT2Zmc2V0QXBwcm94KGluZGV4LCB0aGlzLnByb3BzKSAtXG4gICAgICAgICAgKHZpZXdQb3NpdGlvbiB8fCAwKSAqXG4gICAgICAgICAgICAodGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoIC0gZnJhbWUubGVuZ3RoKSxcbiAgICAgICkgLSAodmlld09mZnNldCB8fCAwKTtcblxuICAgIHRoaXMuc2Nyb2xsVG9PZmZzZXQoe29mZnNldCwgYW5pbWF0ZWR9KTtcbiAgfVxuXG4gIC8vIHNjcm9sbFRvSXRlbSBtYXkgYmUgamFua3kgd2l0aG91dCBnZXRJdGVtTGF5b3V0IHByb3AuIFJlcXVpcmVkIGxpbmVhciBzY2FuIHRocm91Z2ggaXRlbXMgLVxuICAvLyB1c2Ugc2Nyb2xsVG9JbmRleCBpbnN0ZWFkIGlmIHBvc3NpYmxlLlxuICBzY3JvbGxUb0l0ZW0ocGFyYW1zOiB7XG4gICAgYW5pbWF0ZWQ/OiA/Ym9vbGVhbixcbiAgICBpdGVtOiBJdGVtLFxuICAgIHZpZXdPZmZzZXQ/OiBudW1iZXIsXG4gICAgdmlld1Bvc2l0aW9uPzogbnVtYmVyLFxuICAgIC4uLlxuICB9KSB7XG4gICAgY29uc3Qge2l0ZW19ID0gcGFyYW1zO1xuICAgIGNvbnN0IHtkYXRhLCBnZXRJdGVtLCBnZXRJdGVtQ291bnR9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBpdGVtQ291bnQgPSBnZXRJdGVtQ291bnQoZGF0YSk7XG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGl0ZW1Db3VudDsgaW5kZXgrKykge1xuICAgICAgaWYgKGdldEl0ZW0oZGF0YSwgaW5kZXgpID09PSBpdGVtKSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsVG9JbmRleCh7Li4ucGFyYW1zLCBpbmRleH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2Nyb2xsIHRvIGEgc3BlY2lmaWMgY29udGVudCBwaXhlbCBvZmZzZXQgaW4gdGhlIGxpc3QuXG4gICAqXG4gICAqIFBhcmFtIGBvZmZzZXRgIGV4cGVjdHMgdGhlIG9mZnNldCB0byBzY3JvbGwgdG8uXG4gICAqIEluIGNhc2Ugb2YgYGhvcml6b250YWxgIGlzIHRydWUsIHRoZSBvZmZzZXQgaXMgdGhlIHgtdmFsdWUsXG4gICAqIGluIGFueSBvdGhlciBjYXNlIHRoZSBvZmZzZXQgaXMgdGhlIHktdmFsdWUuXG4gICAqXG4gICAqIFBhcmFtIGBhbmltYXRlZGAgKGB0cnVlYCBieSBkZWZhdWx0KSBkZWZpbmVzIHdoZXRoZXIgdGhlIGxpc3RcbiAgICogc2hvdWxkIGRvIGFuIGFuaW1hdGlvbiB3aGlsZSBzY3JvbGxpbmcuXG4gICAqL1xuICBzY3JvbGxUb09mZnNldChwYXJhbXM6IHthbmltYXRlZD86ID9ib29sZWFuLCBvZmZzZXQ6IG51bWJlciwgLi4ufSkge1xuICAgIGNvbnN0IHthbmltYXRlZCwgb2Zmc2V0fSA9IHBhcmFtcztcbiAgICBjb25zdCBzY3JvbGxSZWYgPSB0aGlzLl9zY3JvbGxSZWY7XG5cbiAgICBpZiAoc2Nyb2xsUmVmID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc2Nyb2xsUmVmLnNjcm9sbFRvID09IG51bGwpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ05vIHNjcm9sbFRvIG1ldGhvZCBwcm92aWRlZC4gVGhpcyBtYXkgYmUgYmVjYXVzZSB5b3UgaGF2ZSB0d28gbmVzdGVkICcgK1xuICAgICAgICAgICdWaXJ0dWFsaXplZExpc3RzIHdpdGggdGhlIHNhbWUgb3JpZW50YXRpb24sIG9yIGJlY2F1c2UgeW91IGFyZSAnICtcbiAgICAgICAgICAndXNpbmcgYSBjdXN0b20gY29tcG9uZW50IHRoYXQgZG9lcyBub3QgaW1wbGVtZW50IHNjcm9sbFRvLicsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHtob3Jpem9udGFsLCBydGx9ID0gdGhpcy5fb3JpZW50YXRpb24oKTtcbiAgICBpZiAoaG9yaXpvbnRhbCAmJiBydGwgJiYgIXRoaXMuX2xpc3RNZXRyaWNzLmhhc0NvbnRlbnRMZW5ndGgoKSkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnc2Nyb2xsVG9PZmZzZXQgbWF5IG5vdCBiZSBjYWxsZWQgaW4gUlRMIGJlZm9yZSBjb250ZW50IGlzIGxhaWQgb3V0JyxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtY2FsbF1cbiAgICBzY3JvbGxSZWYuc2Nyb2xsVG8oe1xuICAgICAgYW5pbWF0ZWQsXG4gICAgICAuLi50aGlzLl9zY3JvbGxUb1BhcmFtc0Zyb21PZmZzZXQob2Zmc2V0KSxcbiAgICB9KTtcbiAgfVxuXG4gIF9zY3JvbGxUb1BhcmFtc0Zyb21PZmZzZXQob2Zmc2V0OiBudW1iZXIpOiB7eD86IG51bWJlciwgeT86IG51bWJlcn0ge1xuICAgIGNvbnN0IHtob3Jpem9udGFsLCBydGx9ID0gdGhpcy5fb3JpZW50YXRpb24oKTtcbiAgICBpZiAoaG9yaXpvbnRhbCAmJiBydGwpIHtcbiAgICAgIC8vIEFkZCB0aGUgdmlzaWJsZSBsZW5ndGggb2YgdGhlIHNjcm9sbHZpZXcgc28gdGhhdCB0aGUgb2Zmc2V0IGlzIHJpZ2h0LWFsaWduZWRcbiAgICAgIGNvbnN0IGNhcnRPZmZzZXQgPSB0aGlzLl9saXN0TWV0cmljcy5jYXJ0ZXNpYW5PZmZzZXQoXG4gICAgICAgIG9mZnNldCArIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCxcbiAgICAgICk7XG4gICAgICByZXR1cm4gaG9yaXpvbnRhbCA/IHt4OiBjYXJ0T2Zmc2V0fSA6IHt5OiBjYXJ0T2Zmc2V0fTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGhvcml6b250YWwgPyB7eDogb2Zmc2V0fSA6IHt5OiBvZmZzZXR9O1xuICAgIH1cbiAgfVxuXG4gIHJlY29yZEludGVyYWN0aW9uKCkge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0LnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0ID0+IHtcbiAgICAgIHQudmlld2FiaWxpdHlIZWxwZXIucmVjb3JkSW50ZXJhY3Rpb24oKTtcbiAgICB9KTtcbiAgICB0aGlzLl91cGRhdGVWaWV3YWJsZUl0ZW1zKHRoaXMucHJvcHMsIHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydCk7XG4gIH1cblxuICBmbGFzaFNjcm9sbEluZGljYXRvcnMoKSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2Nyb2xsUmVmLmZsYXNoU2Nyb2xsSW5kaWNhdG9ycygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3ZpZGVzIGEgaGFuZGxlIHRvIHRoZSB1bmRlcmx5aW5nIHNjcm9sbCByZXNwb25kZXIuXG4gICAqIE5vdGUgdGhhdCBgdGhpcy5fc2Nyb2xsUmVmYCBtaWdodCBub3QgYmUgYSBgU2Nyb2xsVmlld2AsIHNvIHdlXG4gICAqIG5lZWQgdG8gY2hlY2sgdGhhdCBpdCByZXNwb25kcyB0byBgZ2V0U2Nyb2xsUmVzcG9uZGVyYCBiZWZvcmUgY2FsbGluZyBpdC5cbiAgICovXG4gIGdldFNjcm9sbFJlc3BvbmRlcigpOiA/U2Nyb2xsUmVzcG9uZGVyVHlwZSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiAmJiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVzcG9uZGVyKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbFJlc3BvbmRlcigpO1xuICAgIH1cbiAgfVxuXG4gIGdldFNjcm9sbGFibGVOb2RlKCk6ID9udW1iZXIge1xuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgJiYgdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbGFibGVOb2RlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbGFibGVOb2RlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmaW5kTm9kZUhhbmRsZTwkRmxvd0ZpeE1lPih0aGlzLl9zY3JvbGxSZWYpO1xuICAgIH1cbiAgfVxuXG4gIGdldFNjcm9sbFJlZigpOiA/UmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgU2Nyb2xsVmlldz4ge1xuICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgJiYgdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbFJlZikge1xuICAgICAgLy8gJEZsb3dGaXhNZVtub3QtYS1mdW5jdGlvbl1cbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVmKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxSZWY7XG4gICAgfVxuICB9XG5cbiAgc2V0TmF0aXZlUHJvcHMocHJvcHM6IE9iamVjdCkge1xuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYpIHtcbiAgICAgIHRoaXMuX3Njcm9sbFJlZi5zZXROYXRpdmVQcm9wcyhwcm9wcyk7XG4gICAgfVxuICB9XG5cbiAgX2dldENlbGxLZXkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZXh0Py5jZWxsS2V5IHx8ICdyb290TGlzdCc7XG4gIH1cblxuICAvLyAkRmxvd0ZpeE1lW21pc3NpbmctbG9jYWwtYW5ub3RdXG4gIF9nZXRTY3JvbGxNZXRyaWNzID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9zY3JvbGxNZXRyaWNzO1xuICB9O1xuXG4gIGhhc01vcmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2hhc01vcmU7XG4gIH1cblxuICAvLyAkRmxvd0ZpeE1lW21pc3NpbmctbG9jYWwtYW5ub3RdXG4gIF9nZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5nZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfTtcblxuICBfcmVnaXN0ZXJBc05lc3RlZENoaWxkID0gKGNoaWxkTGlzdDoge1xuICAgIGNlbGxLZXk6IHN0cmluZyxcbiAgICByZWY6IFZpcnR1YWxpemVkTGlzdCxcbiAgfSk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuYWRkKGNoaWxkTGlzdC5yZWYsIGNoaWxkTGlzdC5jZWxsS2V5KTtcbiAgICBpZiAodGhpcy5faGFzSW50ZXJhY3RlZCkge1xuICAgICAgY2hpbGRMaXN0LnJlZi5yZWNvcmRJbnRlcmFjdGlvbigpO1xuICAgIH1cbiAgfTtcblxuICBfdW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQgPSAoY2hpbGRMaXN0OiB7cmVmOiBWaXJ0dWFsaXplZExpc3R9KTogdm9pZCA9PiB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5yZW1vdmUoY2hpbGRMaXN0LnJlZik7XG4gIH07XG5cbiAgc3RhdGU6IFN0YXRlO1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzOiBWaXJ0dWFsaXplZExpc3RQcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLl9jaGVja1Byb3BzKHByb3BzKTtcblxuICAgIHRoaXMuX2ZpbGxSYXRlSGVscGVyID0gbmV3IEZpbGxSYXRlSGVscGVyKHRoaXMuX2xpc3RNZXRyaWNzKTtcblxuICAgIGlmICh0aGlzLnByb3BzLnZpZXdhYmlsaXR5Q29uZmlnQ2FsbGJhY2tQYWlycykge1xuICAgICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMgPSB0aGlzLnByb3BzLnZpZXdhYmlsaXR5Q29uZmlnQ2FsbGJhY2tQYWlycy5tYXAoXG4gICAgICAgIHBhaXIgPT4gKHtcbiAgICAgICAgICB2aWV3YWJpbGl0eUhlbHBlcjogbmV3IFZpZXdhYmlsaXR5SGVscGVyKHBhaXIudmlld2FiaWxpdHlDb25maWcpLFxuICAgICAgICAgIG9uVmlld2FibGVJdGVtc0NoYW5nZWQ6IHBhaXIub25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCxcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB7b25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCwgdmlld2FiaWxpdHlDb25maWd9ID0gdGhpcy5wcm9wcztcbiAgICAgIGlmIChvblZpZXdhYmxlSXRlbXNDaGFuZ2VkKSB7XG4gICAgICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLnB1c2goe1xuICAgICAgICAgIHZpZXdhYmlsaXR5SGVscGVyOiBuZXcgVmlld2FiaWxpdHlIZWxwZXIodmlld2FiaWxpdHlDb25maWcpLFxuICAgICAgICAgIG9uVmlld2FibGVJdGVtc0NoYW5nZWQ6IG9uVmlld2FibGVJdGVtc0NoYW5nZWQsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGluaXRpYWxSZW5kZXJSZWdpb24gPSBWaXJ0dWFsaXplZExpc3QuX2luaXRpYWxSZW5kZXJSZWdpb24ocHJvcHMpO1xuXG4gICAgY29uc3QgbWluSW5kZXhGb3JWaXNpYmxlID1cbiAgICAgIHRoaXMucHJvcHMubWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uPy5taW5JbmRleEZvclZpc2libGUgPz8gMDtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0OiBpbml0aWFsUmVuZGVyUmVnaW9uLFxuICAgICAgcmVuZGVyTWFzazogVmlydHVhbGl6ZWRMaXN0Ll9jcmVhdGVSZW5kZXJNYXNrKHByb3BzLCBpbml0aWFsUmVuZGVyUmVnaW9uKSxcbiAgICAgIGZpcnN0VmlzaWJsZUl0ZW1LZXk6XG4gICAgICAgIHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSkgPiBtaW5JbmRleEZvclZpc2libGVcbiAgICAgICAgICA/IFZpcnR1YWxpemVkTGlzdC5fZ2V0SXRlbUtleSh0aGlzLnByb3BzLCBtaW5JbmRleEZvclZpc2libGUpXG4gICAgICAgICAgOiBudWxsLFxuICAgICAgLy8gV2hlbiB3ZSBoYXZlIGEgbm9uLXplcm8gaW5pdGlhbFNjcm9sbEluZGV4LCB3ZSB3aWxsIHJlY2VpdmUgYVxuICAgICAgLy8gc2Nyb2xsIGV2ZW50IGxhdGVyIHNvIHRoaXMgd2lsbCBwcmV2ZW50IHRoZSB3aW5kb3cgZnJvbSB1cGRhdGluZ1xuICAgICAgLy8gdW50aWwgd2UgZ2V0IGEgdmFsaWQgb2Zmc2V0LlxuICAgICAgcGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50OlxuICAgICAgICB0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCAhPSBudWxsICYmXG4gICAgICAgIHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4ID4gMFxuICAgICAgICAgID8gMVxuICAgICAgICAgIDogMCxcbiAgICB9O1xuICB9XG5cbiAgX2NoZWNrUHJvcHMocHJvcHM6IFZpcnR1YWxpemVkTGlzdFByb3BzKSB7XG4gICAgY29uc3Qge29uU2Nyb2xsLCB3aW5kb3dTaXplLCBnZXRJdGVtQ291bnQsIGRhdGEsIGluaXRpYWxTY3JvbGxJbmRleH0gPVxuICAgICAgcHJvcHM7XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cbiAgICAgICFvblNjcm9sbCB8fCAhb25TY3JvbGwuX19pc05hdGl2ZSxcbiAgICAgICdDb21wb25lbnRzIGJhc2VkIG9uIFZpcnR1YWxpemVkTGlzdCBtdXN0IGJlIHdyYXBwZWQgd2l0aCBBbmltYXRlZC5jcmVhdGVBbmltYXRlZENvbXBvbmVudCAnICtcbiAgICAgICAgJ3RvIHN1cHBvcnQgbmF0aXZlIG9uU2Nyb2xsIGV2ZW50cyB3aXRoIHVzZU5hdGl2ZURyaXZlcicsXG4gICAgKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICB3aW5kb3dTaXplT3JEZWZhdWx0KHdpbmRvd1NpemUpID4gMCxcbiAgICAgICdWaXJ0dWFsaXplZExpc3Q6IFRoZSB3aW5kb3dTaXplIHByb3AgbXVzdCBiZSBwcmVzZW50IGFuZCBzZXQgdG8gYSB2YWx1ZSBncmVhdGVyIHRoYW4gMC4nLFxuICAgICk7XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICBnZXRJdGVtQ291bnQsXG4gICAgICAnVmlydHVhbGl6ZWRMaXN0OiBUaGUgXCJnZXRJdGVtQ291bnRcIiBwcm9wIG11c3QgYmUgcHJvdmlkZWQnLFxuICAgICk7XG5cbiAgICBjb25zdCBpdGVtQ291bnQgPSBnZXRJdGVtQ291bnQoZGF0YSk7XG5cbiAgICBpZiAoXG4gICAgICBpbml0aWFsU2Nyb2xsSW5kZXggIT0gbnVsbCAmJlxuICAgICAgIXRoaXMuX2hhc1RyaWdnZXJlZEluaXRpYWxTY3JvbGxUb0luZGV4ICYmXG4gICAgICAoaW5pdGlhbFNjcm9sbEluZGV4IDwgMCB8fFxuICAgICAgICAoaXRlbUNvdW50ID4gMCAmJiBpbml0aWFsU2Nyb2xsSW5kZXggPj0gaXRlbUNvdW50KSkgJiZcbiAgICAgICF0aGlzLl9oYXNXYXJuZWQuaW5pdGlhbFNjcm9sbEluZGV4XG4gICAgKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGBpbml0aWFsU2Nyb2xsSW5kZXggXCIke2luaXRpYWxTY3JvbGxJbmRleH1cIiBpcyBub3QgdmFsaWQgKGxpc3QgaGFzICR7aXRlbUNvdW50fSBpdGVtcylgLFxuICAgICAgKTtcbiAgICAgIHRoaXMuX2hhc1dhcm5lZC5pbml0aWFsU2Nyb2xsSW5kZXggPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChfX0RFVl9fICYmICF0aGlzLl9oYXNXYXJuZWQuZmxleFdyYXApIHtcbiAgICAgIC8vICRGbG93Rml4TWVbdW5kZXJjb25zdHJhaW5lZC1pbXBsaWNpdC1pbnN0YW50aWF0aW9uXVxuICAgICAgY29uc3QgZmxhdFN0eWxlcyA9IFN0eWxlU2hlZXQuZmxhdHRlbih0aGlzLnByb3BzLmNvbnRlbnRDb250YWluZXJTdHlsZSk7XG4gICAgICBpZiAoZmxhdFN0eWxlcyAhPSBudWxsICYmIGZsYXRTdHlsZXMuZmxleFdyYXAgPT09ICd3cmFwJykge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ2BmbGV4V3JhcDogYHdyYXBgYCBpcyBub3Qgc3VwcG9ydGVkIHdpdGggdGhlIGBWaXJ0dWFsaXplZExpc3RgIGNvbXBvbmVudHMuJyArXG4gICAgICAgICAgICAnQ29uc2lkZXIgdXNpbmcgYG51bUNvbHVtbnNgIHdpdGggYEZsYXRMaXN0YCBpbnN0ZWFkLicsXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX2hhc1dhcm5lZC5mbGV4V3JhcCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIF9maW5kSXRlbUluZGV4V2l0aEtleShcbiAgICBwcm9wczogVmlydHVhbGl6ZWRMaXN0UHJvcHMsXG4gICAga2V5OiBzdHJpbmcsXG4gICAgaGludDogP251bWJlcixcbiAgKTogP251bWJlciB7XG4gICAgY29uc3QgaXRlbUNvdW50ID0gcHJvcHMuZ2V0SXRlbUNvdW50KHByb3BzLmRhdGEpO1xuICAgIGlmIChoaW50ICE9IG51bGwgJiYgaGludCA+PSAwICYmIGhpbnQgPCBpdGVtQ291bnQpIHtcbiAgICAgIGNvbnN0IGN1cktleSA9IFZpcnR1YWxpemVkTGlzdC5fZ2V0SXRlbUtleShwcm9wcywgaGludCk7XG4gICAgICBpZiAoY3VyS2V5ID09PSBrZXkpIHtcbiAgICAgICAgcmV0dXJuIGhpbnQ7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBpdGVtQ291bnQ7IGlpKyspIHtcbiAgICAgIGNvbnN0IGN1cktleSA9IFZpcnR1YWxpemVkTGlzdC5fZ2V0SXRlbUtleShwcm9wcywgaWkpO1xuICAgICAgaWYgKGN1cktleSA9PT0ga2V5KSB7XG4gICAgICAgIHJldHVybiBpaTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBzdGF0aWMgX2dldEl0ZW1LZXkoXG4gICAgcHJvcHM6IHtcbiAgICAgIGRhdGE6IFZpcnR1YWxpemVkTGlzdFByb3BzWydkYXRhJ10sXG4gICAgICBnZXRJdGVtOiBWaXJ0dWFsaXplZExpc3RQcm9wc1snZ2V0SXRlbSddLFxuICAgICAga2V5RXh0cmFjdG9yOiBWaXJ0dWFsaXplZExpc3RQcm9wc1sna2V5RXh0cmFjdG9yJ10sXG4gICAgICAuLi5cbiAgICB9LFxuICAgIGluZGV4OiBudW1iZXIsXG4gICk6IHN0cmluZyB7XG4gICAgY29uc3QgaXRlbSA9IHByb3BzLmdldEl0ZW0ocHJvcHMuZGF0YSwgaW5kZXgpO1xuICAgIHJldHVybiBWaXJ0dWFsaXplZExpc3QuX2tleUV4dHJhY3RvcihpdGVtLCBpbmRleCwgcHJvcHMpO1xuICB9XG5cbiAgc3RhdGljIF9jcmVhdGVSZW5kZXJNYXNrKFxuICAgIHByb3BzOiBWaXJ0dWFsaXplZExpc3RQcm9wcyxcbiAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0OiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSxcbiAgICBhZGRpdGlvbmFsUmVnaW9ucz86ID8kUmVhZE9ubHlBcnJheTx7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfT4sXG4gICk6IENlbGxSZW5kZXJNYXNrIHtcbiAgICBjb25zdCBpdGVtQ291bnQgPSBwcm9wcy5nZXRJdGVtQ291bnQocHJvcHMuZGF0YSk7XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0ID49IDAgJiZcbiAgICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ID49IGNlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3QgLSAxICYmXG4gICAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCA8IGl0ZW1Db3VudCxcbiAgICAgIGBJbnZhbGlkIGNlbGxzIGFyb3VuZCB2aWV3cG9ydCBcIlske2NlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3R9LCAke2NlbGxzQXJvdW5kVmlld3BvcnQubGFzdH1dXCIgd2FzIHBhc3NlZCB0byBWaXJ0dWFsaXplZExpc3QuX2NyZWF0ZVJlbmRlck1hc2tgLFxuICAgICk7XG5cbiAgICBjb25zdCByZW5kZXJNYXNrID0gbmV3IENlbGxSZW5kZXJNYXNrKGl0ZW1Db3VudCk7XG5cbiAgICBpZiAoaXRlbUNvdW50ID4gMCkge1xuICAgICAgY29uc3QgYWxsUmVnaW9ucyA9IFtjZWxsc0Fyb3VuZFZpZXdwb3J0LCAuLi4oYWRkaXRpb25hbFJlZ2lvbnMgPz8gW10pXTtcbiAgICAgIGZvciAoY29uc3QgcmVnaW9uIG9mIGFsbFJlZ2lvbnMpIHtcbiAgICAgICAgcmVuZGVyTWFzay5hZGRDZWxscyhyZWdpb24pO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgaW5pdGlhbGx5IHJlbmRlcmVkIGNlbGxzIGFyZSByZXRhaW5lZCBhcyBwYXJ0IG9mIHRoZVxuICAgICAgLy8gXCJzY3JvbGwtdG8tdG9wXCIgb3B0aW1pemF0aW9uXG4gICAgICBpZiAocHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4ID09IG51bGwgfHwgcHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4IDw9IDApIHtcbiAgICAgICAgY29uc3QgaW5pdGlhbFJlZ2lvbiA9IFZpcnR1YWxpemVkTGlzdC5faW5pdGlhbFJlbmRlclJlZ2lvbihwcm9wcyk7XG4gICAgICAgIHJlbmRlck1hc2suYWRkQ2VsbHMoaW5pdGlhbFJlZ2lvbik7XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBsYXlvdXQgY29vcmRpbmF0ZXMgb2Ygc3RpY2tlciBoZWFkZXJzIG1heSBiZSBvZmYtc2NyZWVuIHdoaWxlIHRoZVxuICAgICAgLy8gYWN0dWFsIGhlYWRlciBpcyBvbi1zY3JlZW4uIEtlZXAgdGhlIG1vc3QgcmVjZW50IGJlZm9yZSB0aGUgdmlld3BvcnRcbiAgICAgIC8vIHJlbmRlcmVkLCBldmVuIGlmIGl0cyBsYXlvdXQgY29vcmRpbmF0ZXMgYXJlIG5vdCBpbiB2aWV3cG9ydC5cbiAgICAgIGNvbnN0IHN0aWNreUluZGljZXNTZXQgPSBuZXcgU2V0KHByb3BzLnN0aWNreUhlYWRlckluZGljZXMpO1xuICAgICAgVmlydHVhbGl6ZWRMaXN0Ll9lbnN1cmVDbG9zZXN0U3RpY2t5SGVhZGVyKFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgc3RpY2t5SW5kaWNlc1NldCxcbiAgICAgICAgcmVuZGVyTWFzayxcbiAgICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydC5maXJzdCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbmRlck1hc2s7XG4gIH1cblxuICBzdGF0aWMgX2luaXRpYWxSZW5kZXJSZWdpb24ocHJvcHM6IFZpcnR1YWxpemVkTGlzdFByb3BzKToge1xuICAgIGZpcnN0OiBudW1iZXIsXG4gICAgbGFzdDogbnVtYmVyLFxuICB9IHtcbiAgICBjb25zdCBpdGVtQ291bnQgPSBwcm9wcy5nZXRJdGVtQ291bnQocHJvcHMuZGF0YSk7XG5cbiAgICBjb25zdCBmaXJzdENlbGxJbmRleCA9IE1hdGgubWF4KFxuICAgICAgMCxcbiAgICAgIE1hdGgubWluKGl0ZW1Db3VudCAtIDEsIE1hdGguZmxvb3IocHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4ID8/IDApKSxcbiAgICApO1xuXG4gICAgY29uc3QgbGFzdENlbGxJbmRleCA9XG4gICAgICBNYXRoLm1pbihcbiAgICAgICAgaXRlbUNvdW50LFxuICAgICAgICBmaXJzdENlbGxJbmRleCArIGluaXRpYWxOdW1Ub1JlbmRlck9yRGVmYXVsdChwcm9wcy5pbml0aWFsTnVtVG9SZW5kZXIpLFxuICAgICAgKSAtIDE7XG5cbiAgICByZXR1cm4ge1xuICAgICAgZmlyc3Q6IGZpcnN0Q2VsbEluZGV4LFxuICAgICAgbGFzdDogbGFzdENlbGxJbmRleCxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIF9lbnN1cmVDbG9zZXN0U3RpY2t5SGVhZGVyKFxuICAgIHByb3BzOiBWaXJ0dWFsaXplZExpc3RQcm9wcyxcbiAgICBzdGlja3lJbmRpY2VzU2V0OiBTZXQ8bnVtYmVyPixcbiAgICByZW5kZXJNYXNrOiBDZWxsUmVuZGVyTWFzayxcbiAgICBjZWxsSWR4OiBudW1iZXIsXG4gICkge1xuICAgIGNvbnN0IHN0aWNreU9mZnNldCA9IHByb3BzLkxpc3RIZWFkZXJDb21wb25lbnQgPyAxIDogMDtcblxuICAgIGZvciAobGV0IGl0ZW1JZHggPSBjZWxsSWR4IC0gMTsgaXRlbUlkeCA+PSAwOyBpdGVtSWR4LS0pIHtcbiAgICAgIGlmIChzdGlja3lJbmRpY2VzU2V0LmhhcyhpdGVtSWR4ICsgc3RpY2t5T2Zmc2V0KSkge1xuICAgICAgICByZW5kZXJNYXNrLmFkZENlbGxzKHtmaXJzdDogaXRlbUlkeCwgbGFzdDogaXRlbUlkeH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfYWRqdXN0Q2VsbHNBcm91bmRWaWV3cG9ydChcbiAgICBwcm9wczogVmlydHVhbGl6ZWRMaXN0UHJvcHMsXG4gICAgY2VsbHNBcm91bmRWaWV3cG9ydDoge2ZpcnN0OiBudW1iZXIsIGxhc3Q6IG51bWJlcn0sXG4gICAgcGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50OiBudW1iZXIsXG4gICk6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9IHtcbiAgICBjb25zdCB7ZGF0YSwgZ2V0SXRlbUNvdW50fSA9IHByb3BzO1xuICAgIGNvbnN0IG9uRW5kUmVhY2hlZFRocmVzaG9sZCA9IG9uRW5kUmVhY2hlZFRocmVzaG9sZE9yRGVmYXVsdChcbiAgICAgIHByb3BzLm9uRW5kUmVhY2hlZFRocmVzaG9sZCxcbiAgICApO1xuICAgIGNvbnN0IHtvZmZzZXQsIHZpc2libGVMZW5ndGh9ID0gdGhpcy5fc2Nyb2xsTWV0cmljcztcbiAgICBjb25zdCBjb250ZW50TGVuZ3RoID0gdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q29udGVudExlbmd0aCgpO1xuICAgIGNvbnN0IGRpc3RhbmNlRnJvbUVuZCA9IGNvbnRlbnRMZW5ndGggLSB2aXNpYmxlTGVuZ3RoIC0gb2Zmc2V0O1xuXG4gICAgLy8gV2FpdCB1bnRpbCB0aGUgc2Nyb2xsIHZpZXcgbWV0cmljcyBoYXZlIGJlZW4gc2V0IHVwLiBBbmQgdW50aWwgdGhlbixcbiAgICAvLyB3ZSB3aWxsIHRydXN0IHRoZSBpbml0aWFsTnVtVG9SZW5kZXIgc3VnZ2VzdGlvblxuICAgIGlmICh2aXNpYmxlTGVuZ3RoIDw9IDAgfHwgY29udGVudExlbmd0aCA8PSAwKSB7XG4gICAgICByZXR1cm4gY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ID49IGdldEl0ZW1Db3VudChkYXRhKVxuICAgICAgICA/IFZpcnR1YWxpemVkTGlzdC5fY29uc3RyYWluVG9JdGVtQ291bnQoY2VsbHNBcm91bmRWaWV3cG9ydCwgcHJvcHMpXG4gICAgICAgIDogY2VsbHNBcm91bmRWaWV3cG9ydDtcbiAgICB9XG5cbiAgICBsZXQgbmV3Q2VsbHNBcm91bmRWaWV3cG9ydDoge2ZpcnN0OiBudW1iZXIsIGxhc3Q6IG51bWJlcn07XG4gICAgaWYgKHByb3BzLmRpc2FibGVWaXJ0dWFsaXphdGlvbikge1xuICAgICAgY29uc3QgcmVuZGVyQWhlYWQgPVxuICAgICAgICBkaXN0YW5jZUZyb21FbmQgPCBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgKiB2aXNpYmxlTGVuZ3RoXG4gICAgICAgICAgPyBtYXhUb1JlbmRlclBlckJhdGNoT3JEZWZhdWx0KHByb3BzLm1heFRvUmVuZGVyUGVyQmF0Y2gpXG4gICAgICAgICAgOiAwO1xuXG4gICAgICBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0ID0ge1xuICAgICAgICBmaXJzdDogMCxcbiAgICAgICAgbGFzdDogTWF0aC5taW4oXG4gICAgICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ICsgcmVuZGVyQWhlYWQsXG4gICAgICAgICAgZ2V0SXRlbUNvdW50KGRhdGEpIC0gMSxcbiAgICAgICAgKSxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIHdlIGhhdmUgYSBwZW5kaW5nIHNjcm9sbCB1cGRhdGUsIHdlIHNob3VsZCBub3QgYWRqdXN0IHRoZSByZW5kZXIgd2luZG93IGFzIGl0XG4gICAgICAvLyBtaWdodCBvdmVycmlkZSB0aGUgY29ycmVjdCB3aW5kb3cuXG4gICAgICBpZiAocGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50ID4gMCkge1xuICAgICAgICByZXR1cm4gY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ID49IGdldEl0ZW1Db3VudChkYXRhKVxuICAgICAgICAgID8gVmlydHVhbGl6ZWRMaXN0Ll9jb25zdHJhaW5Ub0l0ZW1Db3VudChjZWxsc0Fyb3VuZFZpZXdwb3J0LCBwcm9wcylcbiAgICAgICAgICA6IGNlbGxzQXJvdW5kVmlld3BvcnQ7XG4gICAgICB9XG5cbiAgICAgIG5ld0NlbGxzQXJvdW5kVmlld3BvcnQgPSBjb21wdXRlV2luZG93ZWRSZW5kZXJMaW1pdHMoXG4gICAgICAgIHByb3BzLFxuICAgICAgICBtYXhUb1JlbmRlclBlckJhdGNoT3JEZWZhdWx0KHByb3BzLm1heFRvUmVuZGVyUGVyQmF0Y2gpLFxuICAgICAgICB3aW5kb3dTaXplT3JEZWZhdWx0KHByb3BzLndpbmRvd1NpemUpLFxuICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0LFxuICAgICAgICB0aGlzLl9saXN0TWV0cmljcyxcbiAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcyxcbiAgICAgICk7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIG5ld0NlbGxzQXJvdW5kVmlld3BvcnQubGFzdCA8IGdldEl0ZW1Db3VudChkYXRhKSxcbiAgICAgICAgJ2NvbXB1dGVXaW5kb3dlZFJlbmRlckxpbWl0cygpIHNob3VsZCByZXR1cm4gcmFuZ2UgaW4tYm91bmRzJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX25lc3RlZENoaWxkTGlzdHMuc2l6ZSgpID4gMCkge1xuICAgICAgLy8gSWYgc29tZSBjZWxsIGluIHRoZSBuZXcgc3RhdGUgaGFzIGEgY2hpbGQgbGlzdCBpbiBpdCwgd2Ugc2hvdWxkIG9ubHkgcmVuZGVyXG4gICAgICAvLyB1cCB0aHJvdWdoIHRoYXQgaXRlbSwgc28gdGhhdCB3ZSBnaXZlIHRoYXQgbGlzdCBhIGNoYW5jZSB0byByZW5kZXIuXG4gICAgICAvLyBPdGhlcndpc2UgdGhlcmUncyBjaHVybiBmcm9tIG11bHRpcGxlIGNoaWxkIGxpc3RzIG1vdW50aW5nIGFuZCB1bi1tb3VudGluZ1xuICAgICAgLy8gdGhlaXIgaXRlbXMuXG5cbiAgICAgIC8vIFdpbGwgdGhpcyBwcmV2ZW50IHJlbmRlcmluZyBpZiB0aGUgbmVzdGVkIGxpc3QgZG9lc24ndCByZWFsaXplIHRoZSBlbmQ/XG4gICAgICBjb25zdCBjaGlsZElkeCA9IHRoaXMuX2ZpbmRGaXJzdENoaWxkV2l0aE1vcmUoXG4gICAgICAgIG5ld0NlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3QsXG4gICAgICAgIG5ld0NlbGxzQXJvdW5kVmlld3BvcnQubGFzdCxcbiAgICAgICk7XG5cbiAgICAgIG5ld0NlbGxzQXJvdW5kVmlld3BvcnQubGFzdCA9IGNoaWxkSWR4ID8/IG5ld0NlbGxzQXJvdW5kVmlld3BvcnQubGFzdDtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3Q2VsbHNBcm91bmRWaWV3cG9ydDtcbiAgfVxuXG4gIF9maW5kRmlyc3RDaGlsZFdpdGhNb3JlKGZpcnN0OiBudW1iZXIsIGxhc3Q6IG51bWJlcik6IG51bWJlciB8IG51bGwge1xuICAgIGZvciAobGV0IGlpID0gZmlyc3Q7IGlpIDw9IGxhc3Q7IGlpKyspIHtcbiAgICAgIGNvbnN0IGNlbGxLZXlGb3JJbmRleCA9IHRoaXMuX2luZGljZXNUb0tleXMuZ2V0KGlpKTtcbiAgICAgIGlmIChcbiAgICAgICAgY2VsbEtleUZvckluZGV4ICE9IG51bGwgJiZcbiAgICAgICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5hbnlJbkNlbGwoY2VsbEtleUZvckluZGV4LCBjaGlsZExpc3QgPT5cbiAgICAgICAgICBjaGlsZExpc3QuaGFzTW9yZSgpLFxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICB0aGlzLmNvbnRleHQucmVnaXN0ZXJBc05lc3RlZENoaWxkKHtcbiAgICAgICAgcmVmOiB0aGlzLFxuICAgICAgICBjZWxsS2V5OiB0aGlzLmNvbnRleHQuY2VsbEtleSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgdGhpcy5jb250ZXh0LnVucmVnaXN0ZXJBc05lc3RlZENoaWxkKHtyZWY6IHRoaXN9KTtcbiAgICB9XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJUaW1lb3V0SUQpO1xuICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2godHVwbGUgPT4ge1xuICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIuZGlzcG9zZSgpO1xuICAgIH0pO1xuICAgIHRoaXMuX2ZpbGxSYXRlSGVscGVyLmRlYWN0aXZhdGVBbmRGbHVzaCgpO1xuICB9XG5cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhcbiAgICBuZXdQcm9wczogVmlydHVhbGl6ZWRMaXN0UHJvcHMsXG4gICAgcHJldlN0YXRlOiBTdGF0ZSxcbiAgKTogU3RhdGUge1xuICAgIC8vIGZpcnN0IGFuZCBsYXN0IGNvdWxkIGJlIHN0YWxlIChlLmcuIGlmIGEgbmV3LCBzaG9ydGVyIGl0ZW1zIHByb3BzIGlzIHBhc3NlZCBpbiksIHNvIHdlIG1ha2VcbiAgICAvLyBzdXJlIHdlJ3JlIHJlbmRlcmluZyBhIHJlYXNvbmFibGUgcmFuZ2UgaGVyZS5cbiAgICBjb25zdCBpdGVtQ291bnQgPSBuZXdQcm9wcy5nZXRJdGVtQ291bnQobmV3UHJvcHMuZGF0YSk7XG4gICAgaWYgKGl0ZW1Db3VudCA9PT0gcHJldlN0YXRlLnJlbmRlck1hc2subnVtQ2VsbHMoKSkge1xuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICB9XG5cbiAgICBsZXQgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uQWRqdXN0bWVudDogP251bWJlciA9IG51bGw7XG4gICAgY29uc3QgcHJldkZpcnN0VmlzaWJsZUl0ZW1LZXkgPSBwcmV2U3RhdGUuZmlyc3RWaXNpYmxlSXRlbUtleTtcbiAgICBjb25zdCBtaW5JbmRleEZvclZpc2libGUgPVxuICAgICAgbmV3UHJvcHMubWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uPy5taW5JbmRleEZvclZpc2libGUgPz8gMDtcbiAgICBjb25zdCBuZXdGaXJzdFZpc2libGVJdGVtS2V5ID1cbiAgICAgIG5ld1Byb3BzLmdldEl0ZW1Db3VudChuZXdQcm9wcy5kYXRhKSA+IG1pbkluZGV4Rm9yVmlzaWJsZVxuICAgICAgICA/IFZpcnR1YWxpemVkTGlzdC5fZ2V0SXRlbUtleShuZXdQcm9wcywgbWluSW5kZXhGb3JWaXNpYmxlKVxuICAgICAgICA6IG51bGw7XG4gICAgaWYgKFxuICAgICAgbmV3UHJvcHMubWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uICE9IG51bGwgJiZcbiAgICAgIHByZXZGaXJzdFZpc2libGVJdGVtS2V5ICE9IG51bGwgJiZcbiAgICAgIG5ld0ZpcnN0VmlzaWJsZUl0ZW1LZXkgIT0gbnVsbFxuICAgICkge1xuICAgICAgaWYgKG5ld0ZpcnN0VmlzaWJsZUl0ZW1LZXkgIT09IHByZXZGaXJzdFZpc2libGVJdGVtS2V5KSB7XG4gICAgICAgIC8vIEZhc3QgcGF0aCBpZiBpdGVtcyB3ZXJlIGFkZGVkIGF0IHRoZSBzdGFydCBvZiB0aGUgbGlzdC5cbiAgICAgICAgY29uc3QgaGludCA9XG4gICAgICAgICAgaXRlbUNvdW50IC0gcHJldlN0YXRlLnJlbmRlck1hc2subnVtQ2VsbHMoKSArIG1pbkluZGV4Rm9yVmlzaWJsZTtcbiAgICAgICAgY29uc3QgZmlyc3RWaXNpYmxlSXRlbUluZGV4ID0gVmlydHVhbGl6ZWRMaXN0Ll9maW5kSXRlbUluZGV4V2l0aEtleShcbiAgICAgICAgICBuZXdQcm9wcyxcbiAgICAgICAgICBwcmV2Rmlyc3RWaXNpYmxlSXRlbUtleSxcbiAgICAgICAgICBoaW50LFxuICAgICAgICApO1xuICAgICAgICBtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb25BZGp1c3RtZW50ID1cbiAgICAgICAgICBmaXJzdFZpc2libGVJdGVtSW5kZXggIT0gbnVsbFxuICAgICAgICAgICAgPyBmaXJzdFZpc2libGVJdGVtSW5kZXggLSBtaW5JbmRleEZvclZpc2libGVcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbkFkanVzdG1lbnQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGNvbnN0cmFpbmVkQ2VsbHMgPSBWaXJ0dWFsaXplZExpc3QuX2NvbnN0cmFpblRvSXRlbUNvdW50KFxuICAgICAgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uQWRqdXN0bWVudCAhPSBudWxsXG4gICAgICAgID8ge1xuICAgICAgICAgICAgZmlyc3Q6XG4gICAgICAgICAgICAgIHByZXZTdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0ICtcbiAgICAgICAgICAgICAgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uQWRqdXN0bWVudCxcbiAgICAgICAgICAgIGxhc3Q6XG4gICAgICAgICAgICAgIHByZXZTdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgK1xuICAgICAgICAgICAgICBtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb25BZGp1c3RtZW50LFxuICAgICAgICAgIH1cbiAgICAgICAgOiBwcmV2U3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydCxcbiAgICAgIG5ld1Byb3BzLFxuICAgICk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydDogY29uc3RyYWluZWRDZWxscyxcbiAgICAgIHJlbmRlck1hc2s6IFZpcnR1YWxpemVkTGlzdC5fY3JlYXRlUmVuZGVyTWFzayhuZXdQcm9wcywgY29uc3RyYWluZWRDZWxscyksXG4gICAgICBmaXJzdFZpc2libGVJdGVtS2V5OiBuZXdGaXJzdFZpc2libGVJdGVtS2V5LFxuICAgICAgcGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50OlxuICAgICAgICBtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb25BZGp1c3RtZW50ICE9IG51bGxcbiAgICAgICAgICA/IHByZXZTdGF0ZS5wZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQgKyAxXG4gICAgICAgICAgOiBwcmV2U3RhdGUucGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50LFxuICAgIH07XG4gIH1cblxuICBfcHVzaENlbGxzKFxuICAgIGNlbGxzOiBBcnJheTxPYmplY3Q+LFxuICAgIHN0aWNreUhlYWRlckluZGljZXM6IEFycmF5PG51bWJlcj4sXG4gICAgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wczogU2V0PG51bWJlcj4sXG4gICAgZmlyc3Q6IG51bWJlcixcbiAgICBsYXN0OiBudW1iZXIsXG4gICAgaW52ZXJzaW9uU3R5bGU6IFN0eWxlUHJvcDxWaWV3U3R5bGU+LFxuICApIHtcbiAgICBjb25zdCB7XG4gICAgICBDZWxsUmVuZGVyZXJDb21wb25lbnQsXG4gICAgICBJdGVtU2VwYXJhdG9yQ29tcG9uZW50LFxuICAgICAgTGlzdEhlYWRlckNvbXBvbmVudCxcbiAgICAgIExpc3RJdGVtQ29tcG9uZW50LFxuICAgICAgZGF0YSxcbiAgICAgIGRlYnVnLFxuICAgICAgZ2V0SXRlbSxcbiAgICAgIGdldEl0ZW1Db3VudCxcbiAgICAgIGdldEl0ZW1MYXlvdXQsXG4gICAgICBob3Jpem9udGFsLFxuICAgICAgcmVuZGVySXRlbSxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBzdGlja3lPZmZzZXQgPSBMaXN0SGVhZGVyQ29tcG9uZW50ID8gMSA6IDA7XG4gICAgY29uc3QgZW5kID0gZ2V0SXRlbUNvdW50KGRhdGEpIC0gMTtcbiAgICBsZXQgcHJldkNlbGxLZXk7XG4gICAgbGFzdCA9IE1hdGgubWluKGVuZCwgbGFzdCk7XG5cbiAgICBmb3IgKGxldCBpaSA9IGZpcnN0OyBpaSA8PSBsYXN0OyBpaSsrKSB7XG4gICAgICBjb25zdCBpdGVtID0gZ2V0SXRlbShkYXRhLCBpaSk7XG4gICAgICBjb25zdCBrZXkgPSBWaXJ0dWFsaXplZExpc3QuX2tleUV4dHJhY3RvcihpdGVtLCBpaSwgdGhpcy5wcm9wcyk7XG5cbiAgICAgIHRoaXMuX2luZGljZXNUb0tleXMuc2V0KGlpLCBrZXkpO1xuICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuaGFzKGlpICsgc3RpY2t5T2Zmc2V0KSkge1xuICAgICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLnB1c2goY2VsbHMubGVuZ3RoKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc2hvdWxkTGlzdGVuRm9yTGF5b3V0ID1cbiAgICAgICAgZ2V0SXRlbUxheW91dCA9PSBudWxsIHx8IGRlYnVnIHx8IHRoaXMuX2ZpbGxSYXRlSGVscGVyLmVuYWJsZWQoKTtcblxuICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgPENlbGxSZW5kZXJlclxuICAgICAgICAgIENlbGxSZW5kZXJlckNvbXBvbmVudD17Q2VsbFJlbmRlcmVyQ29tcG9uZW50fVxuICAgICAgICAgIEl0ZW1TZXBhcmF0b3JDb21wb25lbnQ9e2lpIDwgZW5kID8gSXRlbVNlcGFyYXRvckNvbXBvbmVudCA6IHVuZGVmaW5lZH1cbiAgICAgICAgICBMaXN0SXRlbUNvbXBvbmVudD17TGlzdEl0ZW1Db21wb25lbnR9XG4gICAgICAgICAgY2VsbEtleT17a2V5fVxuICAgICAgICAgIGhvcml6b250YWw9e2hvcml6b250YWx9XG4gICAgICAgICAgaW5kZXg9e2lpfVxuICAgICAgICAgIGludmVyc2lvblN0eWxlPXtpbnZlcnNpb25TdHlsZX1cbiAgICAgICAgICBpdGVtPXtpdGVtfVxuICAgICAgICAgIGtleT17a2V5fVxuICAgICAgICAgIHByZXZDZWxsS2V5PXtwcmV2Q2VsbEtleX1cbiAgICAgICAgICBvblVwZGF0ZVNlcGFyYXRvcnM9e3RoaXMuX29uVXBkYXRlU2VwYXJhdG9yc31cbiAgICAgICAgICBvbkNlbGxGb2N1c0NhcHR1cmU9e3RoaXMuX29uQ2VsbEZvY3VzQ2FwdHVyZX1cbiAgICAgICAgICBvblVubW91bnQ9e3RoaXMuX29uQ2VsbFVubW91bnR9XG4gICAgICAgICAgcmVmPXtyZWYgPT4ge1xuICAgICAgICAgICAgdGhpcy5fY2VsbFJlZnNba2V5XSA9IHJlZjtcbiAgICAgICAgICB9fVxuICAgICAgICAgIHJlbmRlckl0ZW09e3JlbmRlckl0ZW19XG4gICAgICAgICAgey4uLihzaG91bGRMaXN0ZW5Gb3JMYXlvdXQgJiYge1xuICAgICAgICAgICAgb25DZWxsTGF5b3V0OiB0aGlzLl9vbkNlbGxMYXlvdXQsXG4gICAgICAgICAgfSl9XG4gICAgICAgIC8+LFxuICAgICAgKTtcbiAgICAgIHByZXZDZWxsS2V5ID0ga2V5O1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBfY29uc3RyYWluVG9JdGVtQ291bnQoXG4gICAgY2VsbHM6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9LFxuICAgIHByb3BzOiBWaXJ0dWFsaXplZExpc3RQcm9wcyxcbiAgKToge2ZpcnN0OiBudW1iZXIsIGxhc3Q6IG51bWJlcn0ge1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHByb3BzLmdldEl0ZW1Db3VudChwcm9wcy5kYXRhKTtcbiAgICBjb25zdCBsYXN0UG9zc2libGVDZWxsSW5kZXggPSBpdGVtQ291bnQgLSAxO1xuXG4gICAgLy8gQ29uc3RyYWluaW5nIGBsYXN0YCBtYXkgc2lnbmlmaWNhbnRseSBzaHJpbmsgdGhlIHdpbmRvdy4gQWRqdXN0IGBmaXJzdGBcbiAgICAvLyB0byBleHBhbmQgdGhlIHdpbmRvdyBpZiB0aGUgbmV3IGBsYXN0YCByZXN1bHRzIGluIGEgbmV3IHdpbmRvdyBzbWFsbGVyXG4gICAgLy8gdGhhbiB0aGUgbnVtYmVyIG9mIGNlbGxzIHJlbmRlcmVkIHBlciBiYXRjaC5cbiAgICBjb25zdCBtYXhUb1JlbmRlclBlckJhdGNoID0gbWF4VG9SZW5kZXJQZXJCYXRjaE9yRGVmYXVsdChcbiAgICAgIHByb3BzLm1heFRvUmVuZGVyUGVyQmF0Y2gsXG4gICAgKTtcbiAgICBjb25zdCBtYXhGaXJzdCA9IE1hdGgubWF4KDAsIGxhc3RQb3NzaWJsZUNlbGxJbmRleCAtIG1heFRvUmVuZGVyUGVyQmF0Y2gpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGZpcnN0OiBjbGFtcCgwLCBjZWxscy5maXJzdCwgbWF4Rmlyc3QpLFxuICAgICAgbGFzdDogTWF0aC5taW4obGFzdFBvc3NpYmxlQ2VsbEluZGV4LCBjZWxscy5sYXN0KSxcbiAgICB9O1xuICB9XG5cbiAgX29uVXBkYXRlU2VwYXJhdG9ycyA9IChrZXlzOiBBcnJheTw/c3RyaW5nPiwgbmV3UHJvcHM6IE9iamVjdCkgPT4ge1xuICAgIGtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgY29uc3QgcmVmID0ga2V5ICE9IG51bGwgJiYgdGhpcy5fY2VsbFJlZnNba2V5XTtcbiAgICAgIHJlZiAmJiByZWYudXBkYXRlU2VwYXJhdG9yUHJvcHMobmV3UHJvcHMpO1xuICAgIH0pO1xuICB9O1xuXG4gIF9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKTogYm9vbGVhbiB7XG4gICAgY29uc3QgbmVzdGVkQ29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICByZXR1cm4gISEoXG4gICAgICBuZXN0ZWRDb250ZXh0ICYmXG4gICAgICAhIW5lc3RlZENvbnRleHQuaG9yaXpvbnRhbCA9PT0gaG9yaXpvbnRhbE9yRGVmYXVsdCh0aGlzLnByb3BzLmhvcml6b250YWwpXG4gICAgKTtcbiAgfVxuXG4gIF9nZXRTcGFjZXJLZXkgPSAoaXNWZXJ0aWNhbDogYm9vbGVhbik6IHN0cmluZyA9PlxuICAgIGlzVmVydGljYWwgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG5cbiAgc3RhdGljIF9rZXlFeHRyYWN0b3IoXG4gICAgaXRlbTogSXRlbSxcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIHByb3BzOiB7XG4gICAgICBrZXlFeHRyYWN0b3I/OiA/KGl0ZW06IEl0ZW0sIGluZGV4OiBudW1iZXIpID0+IHN0cmluZyxcbiAgICAgIC4uLlxuICAgIH0sXG4gICk6IHN0cmluZyB7XG4gICAgaWYgKHByb3BzLmtleUV4dHJhY3RvciAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gcHJvcHMua2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4KTtcbiAgICB9XG5cbiAgICBjb25zdCBrZXkgPSBkZWZhdWx0S2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4KTtcbiAgICBpZiAoa2V5ID09PSBTdHJpbmcoaW5kZXgpKSB7XG4gICAgICBfdXNlZEluZGV4Rm9yS2V5ID0gdHJ1ZTtcbiAgICAgIGlmIChpdGVtLnR5cGUgJiYgaXRlbS50eXBlLmRpc3BsYXlOYW1lKSB7XG4gICAgICAgIF9rZXlsZXNzSXRlbUNvbXBvbmVudE5hbWUgPSBpdGVtLnR5cGUuZGlzcGxheU5hbWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBrZXk7XG4gIH1cblxuICBfcmVuZGVyRW1wdHlDb21wb25lbnQoXG4gICAgZWxlbWVudDogRXhhY3RSZWFjdEVsZW1lbnRfREVQUkVDQVRFRDxhbnk+LFxuICAgIGludmVyc2lvblN0eWxlOiBTdHlsZVByb3A8Vmlld1N0eWxlPixcbiAgKTogUmVhY3QuTm9kZSB7XG4gICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIFJlYWN0LkVsZW1lbnQgaW50ZXJuYWwgaW5zcGVjdGlvblxuICAgIGNvbnN0IGlzRnJhZ21lbnQgPSBlbGVtZW50LnR5cGUgPT09IFJlYWN0LkZyYWdtZW50O1xuXG4gICAgaWYgKGlzRnJhZ21lbnQpIHtcbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cblxuICAgIHJldHVybiBjbG9uZUVsZW1lbnQoZWxlbWVudCwge1xuICAgICAgb25MYXlvdXQ6IChldmVudDogTGF5b3V0Q2hhbmdlRXZlbnQpID0+IHtcbiAgICAgICAgdGhpcy5fb25MYXlvdXRFbXB0eShldmVudCk7XG4gICAgICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSBSZWFjdC5FbGVtZW50IGludGVybmFsIGluc3BlY3Rpb25cbiAgICAgICAgaWYgKGVsZW1lbnQucHJvcHMub25MYXlvdXQpIHtcbiAgICAgICAgICBlbGVtZW50LnByb3BzLm9uTGF5b3V0KGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSBSZWFjdC5FbGVtZW50IGludGVybmFsIGluc3BlY3Rpb25cbiAgICAgIHN0eWxlOiBTdHlsZVNoZWV0LmNvbXBvc2UoaW52ZXJzaW9uU3R5bGUsIGVsZW1lbnQucHJvcHMuc3R5bGUpLFxuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCk6IFJlYWN0Lk5vZGUge1xuICAgIHRoaXMuX2NoZWNrUHJvcHModGhpcy5wcm9wcyk7XG4gICAgY29uc3Qge0xpc3RFbXB0eUNvbXBvbmVudCwgTGlzdEZvb3RlckNvbXBvbmVudCwgTGlzdEhlYWRlckNvbXBvbmVudH0gPVxuICAgICAgdGhpcy5wcm9wcztcbiAgICBjb25zdCB7ZGF0YSwgaG9yaXpvbnRhbH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGludmVyc2lvblN0eWxlID0gdGhpcy5wcm9wcy5pbnZlcnRlZFxuICAgICAgPyBob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbClcbiAgICAgICAgPyBzdHlsZXMuaG9yaXpvbnRhbGx5SW52ZXJ0ZWRcbiAgICAgICAgOiBzdHlsZXMudmVydGljYWxseUludmVydGVkXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgY2VsbHM6IEFycmF5PGFueSB8IFJlYWN0Lk5vZGU+ID0gW107XG4gICAgY29uc3Qgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyA9IG5ldyBTZXQodGhpcy5wcm9wcy5zdGlja3lIZWFkZXJJbmRpY2VzKTtcbiAgICBjb25zdCBzdGlja3lIZWFkZXJJbmRpY2VzID0gW107XG5cbiAgICAvLyAxLiBBZGQgY2VsbCBmb3IgTGlzdEhlYWRlckNvbXBvbmVudFxuICAgIGlmIChMaXN0SGVhZGVyQ29tcG9uZW50KSB7XG4gICAgICBpZiAoc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcy5oYXMoMCkpIHtcbiAgICAgICAgc3RpY2t5SGVhZGVySW5kaWNlcy5wdXNoKDApO1xuICAgICAgfVxuICAgICAgY29uc3QgZWxlbWVudCA9IGlzVmFsaWRFbGVtZW50KExpc3RIZWFkZXJDb21wb25lbnQpID8gKFxuICAgICAgICBMaXN0SGVhZGVyQ29tcG9uZW50XG4gICAgICApIDogKFxuICAgICAgICAvLyAkRmxvd0ZpeE1lW25vdC1hLWNvbXBvbmVudF1cbiAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZS1hcmddXG4gICAgICAgIDxMaXN0SGVhZGVyQ29tcG9uZW50IC8+XG4gICAgICApO1xuICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgPFZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXJcbiAgICAgICAgICBjZWxsS2V5PXt0aGlzLl9nZXRDZWxsS2V5KCkgKyAnLWhlYWRlcid9XG4gICAgICAgICAga2V5PVwiJGhlYWRlclwiPlxuICAgICAgICAgIDxWaWV3XG4gICAgICAgICAgICAvLyBXZSBleHBlY3QgdGhhdCBoZWFkZXIgY29tcG9uZW50IHdpbGwgYmUgYSBzaW5nbGUgbmF0aXZlIHZpZXcgc28gbWFrZSBpdFxuICAgICAgICAgICAgLy8gbm90IGNvbGxhcHNhYmxlIHRvIGF2b2lkIHRoaXMgdmlldyBiZWluZyBmbGF0dGVuZWQgYW5kIG1ha2UgdGhpcyBhc3N1bXB0aW9uXG4gICAgICAgICAgICAvLyBubyBsb25nZXIgdHJ1ZS5cbiAgICAgICAgICAgIGNvbGxhcHNhYmxlPXtmYWxzZX1cbiAgICAgICAgICAgIG9uTGF5b3V0PXt0aGlzLl9vbkxheW91dEhlYWRlcn1cbiAgICAgICAgICAgIHN0eWxlPXtTdHlsZVNoZWV0LmNvbXBvc2UoXG4gICAgICAgICAgICAgIGludmVyc2lvblN0eWxlLFxuICAgICAgICAgICAgICB0aGlzLnByb3BzLkxpc3RIZWFkZXJDb21wb25lbnRTdHlsZSxcbiAgICAgICAgICAgICl9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlXSAtIFR5cGluZyBSZWFjdE5hdGl2ZUNvbXBvbmVudCByZXZlYWxlZCBlcnJvcnNcbiAgICAgICAgICAgICAgZWxlbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvVmlldz5cbiAgICAgICAgPC9WaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyPixcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gMmEuIEFkZCBhIGNlbGwgZm9yIExpc3RFbXB0eUNvbXBvbmVudCBpZiBhcHBsaWNhYmxlXG4gICAgY29uc3QgaXRlbUNvdW50ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQoZGF0YSk7XG4gICAgaWYgKGl0ZW1Db3VudCA9PT0gMCAmJiBMaXN0RW1wdHlDb21wb25lbnQpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQ6IEV4YWN0UmVhY3RFbGVtZW50X0RFUFJFQ0FURUQ8YW55PiA9ICgoaXNWYWxpZEVsZW1lbnQoXG4gICAgICAgIExpc3RFbXB0eUNvbXBvbmVudCxcbiAgICAgICkgPyAoXG4gICAgICAgIExpc3RFbXB0eUNvbXBvbmVudFxuICAgICAgKSA6IChcbiAgICAgICAgLy8gJEZsb3dGaXhNZVtub3QtYS1jb21wb25lbnRdXG4gICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGUtYXJnXVxuICAgICAgICA8TGlzdEVtcHR5Q29tcG9uZW50IC8+XG4gICAgICApKTogYW55KTtcbiAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgIDxWaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyXG4gICAgICAgICAgY2VsbEtleT17dGhpcy5fZ2V0Q2VsbEtleSgpICsgJy1lbXB0eSd9XG4gICAgICAgICAga2V5PVwiJGVtcHR5XCI+XG4gICAgICAgICAge3RoaXMuX3JlbmRlckVtcHR5Q29tcG9uZW50KGVsZW1lbnQsIGludmVyc2lvblN0eWxlKX1cbiAgICAgICAgPC9WaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyPixcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gMmIuIEFkZCBjZWxscyBhbmQgc3BhY2VycyBmb3IgZWFjaCBpdGVtXG4gICAgaWYgKGl0ZW1Db3VudCA+IDApIHtcbiAgICAgIF91c2VkSW5kZXhGb3JLZXkgPSBmYWxzZTtcbiAgICAgIF9rZXlsZXNzSXRlbUNvbXBvbmVudE5hbWUgPSAnJztcbiAgICAgIGNvbnN0IHNwYWNlcktleSA9IHRoaXMuX2dldFNwYWNlcktleSghaG9yaXpvbnRhbCk7XG5cbiAgICAgIGNvbnN0IHJlbmRlclJlZ2lvbnMgPSB0aGlzLnN0YXRlLnJlbmRlck1hc2suZW51bWVyYXRlUmVnaW9ucygpO1xuICAgICAgY29uc3QgbGFzdFJlZ2lvbiA9IHJlbmRlclJlZ2lvbnNbcmVuZGVyUmVnaW9ucy5sZW5ndGggLSAxXTtcbiAgICAgIGNvbnN0IGxhc3RTcGFjZXIgPSBsYXN0UmVnaW9uPy5pc1NwYWNlciA/IGxhc3RSZWdpb24gOiBudWxsO1xuXG4gICAgICBmb3IgKGNvbnN0IHNlY3Rpb24gb2YgcmVuZGVyUmVnaW9ucykge1xuICAgICAgICBpZiAoc2VjdGlvbi5pc1NwYWNlcikge1xuICAgICAgICAgIC8vIExlZ2FjeSBiZWhhdmlvciBpcyB0byBhdm9pZCBzcGFjZXJzIHdoZW4gdmlydHVhbGl6YXRpb24gaXNcbiAgICAgICAgICAvLyBkaXNhYmxlZCAoaW5jbHVkaW5nIGhlYWQgc3BhY2VycyBvbiBpbml0aWFsIHJlbmRlcikuXG4gICAgICAgICAgaWYgKHRoaXMucHJvcHMuZGlzYWJsZVZpcnR1YWxpemF0aW9uKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBXaXRob3V0IGdldEl0ZW1MYXlvdXQsIHdlIGxpbWl0IG91ciB0YWlsIHNwYWNlciB0byB0aGUgX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXggdG9cbiAgICAgICAgICAvLyBwcmV2ZW50IHRoZSB1c2VyIGZvciBoeXBlcnNjcm9sbGluZyBpbnRvIHVuLW1lYXN1cmVkIGFyZWEgYmVjYXVzZSBvdGhlcndpc2UgY29udGVudCB3aWxsXG4gICAgICAgICAgLy8gbGlrZWx5IGp1bXAgYXJvdW5kIGFzIGl0IHJlbmRlcnMgaW4gYWJvdmUgdGhlIHZpZXdwb3J0LlxuICAgICAgICAgIGNvbnN0IGlzTGFzdFNwYWNlciA9IHNlY3Rpb24gPT09IGxhc3RTcGFjZXI7XG4gICAgICAgICAgY29uc3QgY29uc3RyYWluVG9NZWFzdXJlZCA9IGlzTGFzdFNwYWNlciAmJiAhdGhpcy5wcm9wcy5nZXRJdGVtTGF5b3V0O1xuICAgICAgICAgIGNvbnN0IGxhc3QgPSBjb25zdHJhaW5Ub01lYXN1cmVkXG4gICAgICAgICAgICA/IGNsYW1wKFxuICAgICAgICAgICAgICAgIHNlY3Rpb24uZmlyc3QgLSAxLFxuICAgICAgICAgICAgICAgIHNlY3Rpb24ubGFzdCxcbiAgICAgICAgICAgICAgICB0aGlzLl9saXN0TWV0cmljcy5nZXRIaWdoZXN0TWVhc3VyZWRDZWxsSW5kZXgoKSxcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBzZWN0aW9uLmxhc3Q7XG5cbiAgICAgICAgICBjb25zdCBmaXJzdE1ldHJpY3MgPSB0aGlzLl9saXN0TWV0cmljcy5nZXRDZWxsTWV0cmljc0FwcHJveChcbiAgICAgICAgICAgIHNlY3Rpb24uZmlyc3QsXG4gICAgICAgICAgICB0aGlzLnByb3BzLFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgbGFzdE1ldHJpY3MgPSB0aGlzLl9saXN0TWV0cmljcy5nZXRDZWxsTWV0cmljc0FwcHJveChcbiAgICAgICAgICAgIGxhc3QsXG4gICAgICAgICAgICB0aGlzLnByb3BzLFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3Qgc3BhY2VyU2l6ZSA9XG4gICAgICAgICAgICBsYXN0TWV0cmljcy5vZmZzZXQgKyBsYXN0TWV0cmljcy5sZW5ndGggLSBmaXJzdE1ldHJpY3Mub2Zmc2V0O1xuICAgICAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAgICBrZXk9e2Akc3BhY2VyLSR7c2VjdGlvbi5maXJzdH1gfVxuICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlXVxuICAgICAgICAgICAgICBzdHlsZT17e1tzcGFjZXJLZXldOiBzcGFjZXJTaXplfX1cbiAgICAgICAgICAgIC8+LFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fcHVzaENlbGxzKFxuICAgICAgICAgICAgY2VsbHMsXG4gICAgICAgICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLFxuICAgICAgICAgICAgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyxcbiAgICAgICAgICAgIHNlY3Rpb24uZmlyc3QsXG4gICAgICAgICAgICBzZWN0aW9uLmxhc3QsXG4gICAgICAgICAgICBpbnZlcnNpb25TdHlsZSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5faGFzV2FybmVkLmtleXMgJiYgX3VzZWRJbmRleEZvcktleSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdDogbWlzc2luZyBrZXlzIGZvciBpdGVtcywgbWFrZSBzdXJlIHRvIHNwZWNpZnkgYSBrZXkgb3IgaWQgcHJvcGVydHkgb24gZWFjaCAnICtcbiAgICAgICAgICAgICdpdGVtIG9yIHByb3ZpZGUgYSBjdXN0b20ga2V5RXh0cmFjdG9yLicsXG4gICAgICAgICAgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5faGFzV2FybmVkLmtleXMgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIDMuIEFkZCBjZWxsIGZvciBMaXN0Rm9vdGVyQ29tcG9uZW50XG4gICAgaWYgKExpc3RGb290ZXJDb21wb25lbnQpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBpc1ZhbGlkRWxlbWVudChMaXN0Rm9vdGVyQ29tcG9uZW50KSA/IChcbiAgICAgICAgTGlzdEZvb3RlckNvbXBvbmVudFxuICAgICAgKSA6IChcbiAgICAgICAgLy8gJEZsb3dGaXhNZVtub3QtYS1jb21wb25lbnRdXG4gICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGUtYXJnXVxuICAgICAgICA8TGlzdEZvb3RlckNvbXBvbmVudCAvPlxuICAgICAgKTtcbiAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgIDxWaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyXG4gICAgICAgICAgY2VsbEtleT17dGhpcy5fZ2V0Rm9vdGVyQ2VsbEtleSgpfVxuICAgICAgICAgIGtleT1cIiRmb290ZXJcIj5cbiAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAgb25MYXlvdXQ9e3RoaXMuX29uTGF5b3V0Rm9vdGVyfVxuICAgICAgICAgICAgc3R5bGU9e1N0eWxlU2hlZXQuY29tcG9zZShcbiAgICAgICAgICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuTGlzdEZvb3RlckNvbXBvbmVudFN0eWxlLFxuICAgICAgICAgICAgKX0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdIC0gVHlwaW5nIFJlYWN0TmF0aXZlQ29tcG9uZW50IHJldmVhbGVkIGVycm9yc1xuICAgICAgICAgICAgICBlbGVtZW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgPC9WaWV3PlxuICAgICAgICA8L1ZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXI+LFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyA0LiBSZW5kZXIgdGhlIFNjcm9sbFZpZXdcbiAgICBjb25zdCBzY3JvbGxQcm9wcyA9IHtcbiAgICAgIC4uLnRoaXMucHJvcHMsXG4gICAgICBvbkNvbnRlbnRTaXplQ2hhbmdlOiB0aGlzLl9vbkNvbnRlbnRTaXplQ2hhbmdlLFxuICAgICAgb25MYXlvdXQ6IHRoaXMuX29uTGF5b3V0LFxuICAgICAgb25TY3JvbGw6IHRoaXMuX29uU2Nyb2xsLFxuICAgICAgb25TY3JvbGxCZWdpbkRyYWc6IHRoaXMuX29uU2Nyb2xsQmVnaW5EcmFnLFxuICAgICAgb25TY3JvbGxFbmREcmFnOiB0aGlzLl9vblNjcm9sbEVuZERyYWcsXG4gICAgICBvbk1vbWVudHVtU2Nyb2xsQmVnaW46IHRoaXMuX29uTW9tZW50dW1TY3JvbGxCZWdpbixcbiAgICAgIG9uTW9tZW50dW1TY3JvbGxFbmQ6IHRoaXMuX29uTW9tZW50dW1TY3JvbGxFbmQsXG4gICAgICAvLyBpT1MvbWFjT1MgcmVxdWlyZXMgYSBub24temVybyBzY3JvbGxFdmVudFRocm90dGxlIHRvIGZpcmUgbW9yZSB0aGFuIGFcbiAgICAgIC8vIHNpbmdsZSBub3RpZmljYXRpb24gd2hpbGUgc2Nyb2xsaW5nLiBUaGlzIHdpbGwgb3RoZXJ3aXNlIG5vLW9wLlxuICAgICAgc2Nyb2xsRXZlbnRUaHJvdHRsZTogdGhpcy5wcm9wcy5zY3JvbGxFdmVudFRocm90dGxlID8/IDAuMDAwMSxcbiAgICAgIGludmVydFN0aWNreUhlYWRlcnM6XG4gICAgICAgIHRoaXMucHJvcHMuaW52ZXJ0U3RpY2t5SGVhZGVycyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyB0aGlzLnByb3BzLmludmVydFN0aWNreUhlYWRlcnNcbiAgICAgICAgICA6IHRoaXMucHJvcHMuaW52ZXJ0ZWQsXG4gICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLFxuICAgICAgc3R5bGU6IGludmVyc2lvblN0eWxlXG4gICAgICAgID8gW2ludmVyc2lvblN0eWxlLCB0aGlzLnByb3BzLnN0eWxlXVxuICAgICAgICA6IHRoaXMucHJvcHMuc3R5bGUsXG4gICAgICBpc0ludmVydGVkVmlydHVhbGl6ZWRMaXN0OiB0aGlzLnByb3BzLmludmVydGVkLFxuICAgICAgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uOlxuICAgICAgICB0aGlzLnByb3BzLm1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbiAhPSBudWxsXG4gICAgICAgICAgPyB7XG4gICAgICAgICAgICAgIC4uLnRoaXMucHJvcHMubWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uLFxuICAgICAgICAgICAgICAvLyBBZGp1c3QgaW5kZXggdG8gYWNjb3VudCBmb3IgTGlzdEhlYWRlckNvbXBvbmVudC5cbiAgICAgICAgICAgICAgbWluSW5kZXhGb3JWaXNpYmxlOlxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMubWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uLm1pbkluZGV4Rm9yVmlzaWJsZSArXG4gICAgICAgICAgICAgICAgKHRoaXMucHJvcHMuTGlzdEhlYWRlckNvbXBvbmVudCA/IDEgOiAwKSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICB9O1xuXG4gICAgdGhpcy5faGFzTW9yZSA9IHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0IDwgaXRlbUNvdW50IC0gMTtcblxuICAgIGNvbnN0IGlubmVyUmV0ID0gKFxuICAgICAgPFZpcnR1YWxpemVkTGlzdENvbnRleHRQcm92aWRlclxuICAgICAgICB2YWx1ZT17e1xuICAgICAgICAgIGNlbGxLZXk6IG51bGwsXG4gICAgICAgICAgZ2V0U2Nyb2xsTWV0cmljczogdGhpcy5fZ2V0U2Nyb2xsTWV0cmljcyxcbiAgICAgICAgICBob3Jpem9udGFsOiBob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbCksXG4gICAgICAgICAgZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZjogdGhpcy5fZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZixcbiAgICAgICAgICByZWdpc3RlckFzTmVzdGVkQ2hpbGQ6IHRoaXMuX3JlZ2lzdGVyQXNOZXN0ZWRDaGlsZCxcbiAgICAgICAgICB1bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZDogdGhpcy5fdW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQsXG4gICAgICAgIH19PlxuICAgICAgICB7Y2xvbmVFbGVtZW50KFxuICAgICAgICAgIChcbiAgICAgICAgICAgIHRoaXMucHJvcHMucmVuZGVyU2Nyb2xsQ29tcG9uZW50IHx8XG4gICAgICAgICAgICB0aGlzLl9kZWZhdWx0UmVuZGVyU2Nyb2xsQ29tcG9uZW50XG4gICAgICAgICAgKShcbiAgICAgICAgICAgIC8vICRGbG93RXhwZWN0ZWRFcnJvcltwcm9wLW1pc3NpbmddIHNjcm9sbFByb3BzIGlzIGEgc3VwZXJzZXQgb2YgU2Nyb2xsVmlld1Byb3BzXG4gICAgICAgICAgICBzY3JvbGxQcm9wcyxcbiAgICAgICAgICApIGFzIEV4YWN0UmVhY3RFbGVtZW50X0RFUFJFQ0FURUQ8YW55PixcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZWY6IHRoaXMuX2NhcHR1cmVTY3JvbGxSZWYsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjZWxscyxcbiAgICAgICAgKX1cbiAgICAgIDwvVmlydHVhbGl6ZWRMaXN0Q29udGV4dFByb3ZpZGVyPlxuICAgICk7XG4gICAgbGV0IHJldDogUmVhY3QuTm9kZSA9IGlubmVyUmV0O1xuICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICByZXQgPSAoXG4gICAgICAgIDxTY3JvbGxWaWV3LkNvbnRleHQuQ29uc3VtZXI+XG4gICAgICAgICAge3Njcm9sbENvbnRleHQgPT4ge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBzY3JvbGxDb250ZXh0ICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgIXNjcm9sbENvbnRleHQuaG9yaXpvbnRhbCA9PT1cbiAgICAgICAgICAgICAgICAhaG9yaXpvbnRhbE9yRGVmYXVsdCh0aGlzLnByb3BzLmhvcml6b250YWwpICYmXG4gICAgICAgICAgICAgICF0aGlzLl9oYXNXYXJuZWQubmVzdGluZyAmJlxuICAgICAgICAgICAgICB0aGlzLmNvbnRleHQgPT0gbnVsbCAmJlxuICAgICAgICAgICAgICB0aGlzLnByb3BzLnNjcm9sbEVuYWJsZWQgIT09IGZhbHNlXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAnVmlydHVhbGl6ZWRMaXN0cyBzaG91bGQgbmV2ZXIgYmUgbmVzdGVkIGluc2lkZSBwbGFpbiBTY3JvbGxWaWV3cyB3aXRoIHRoZSBzYW1lICcgK1xuICAgICAgICAgICAgICAgICAgJ29yaWVudGF0aW9uIGJlY2F1c2UgaXQgY2FuIGJyZWFrIHdpbmRvd2luZyBhbmQgb3RoZXIgZnVuY3Rpb25hbGl0eSAtIHVzZSBhbm90aGVyICcgK1xuICAgICAgICAgICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdC1iYWNrZWQgY29udGFpbmVyIGluc3RlYWQuJyxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgdGhpcy5faGFzV2FybmVkLm5lc3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGlubmVyUmV0O1xuICAgICAgICAgIH19XG4gICAgICAgIDwvU2Nyb2xsVmlldy5Db250ZXh0LkNvbnN1bWVyPlxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucHJvcHMuZGVidWcpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxWaWV3IHN0eWxlPXtzdHlsZXMuZGVidWd9PlxuICAgICAgICAgIHtyZXR9XG4gICAgICAgICAge3RoaXMuX3JlbmRlckRlYnVnT3ZlcmxheSgpfVxuICAgICAgICA8L1ZpZXc+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHM6IFZpcnR1YWxpemVkTGlzdFByb3BzKSB7XG4gICAgY29uc3Qge2RhdGEsIGV4dHJhRGF0YSwgZ2V0SXRlbUxheW91dH0gPSB0aGlzLnByb3BzO1xuICAgIGlmIChkYXRhICE9PSBwcmV2UHJvcHMuZGF0YSB8fCBleHRyYURhdGEgIT09IHByZXZQcm9wcy5leHRyYURhdGEpIHtcbiAgICAgIC8vIGNsZWFyIHRoZSB2aWV3YWJsZUluZGljZXMgY2FjaGUgdG8gYWxzbyB0cmlnZ2VyXG4gICAgICAvLyB0aGUgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCBjYWxsYmFjayB3aXRoIHRoZSBuZXcgZGF0YVxuICAgICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0dXBsZSA9PiB7XG4gICAgICAgIHR1cGxlLnZpZXdhYmlsaXR5SGVscGVyLnJlc2V0Vmlld2FibGVJbmRpY2VzKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLy8gVGhlIGB0aGlzLl9oaVByaUluUHJvZ3Jlc3NgIGlzIGd1YXJhbnRlZWluZyBhIGhpUHJpIGNlbGwgdXBkYXRlIHdpbGwgb25seSBoYXBwZW5cbiAgICAvLyBvbmNlIHBlciBmaWJlciB1cGRhdGUuIFRoZSBgX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZWAgd2lsbCBzZXQgaXQgdG8gdHJ1ZVxuICAgIC8vIGlmIGEgaGlQcmkgdXBkYXRlIG5lZWRzIHRvIHBlcmZvcm0uIElmIGBjb21wb25lbnREaWRVcGRhdGVgIGlzIHRyaWdnZXJlZCB3aXRoXG4gICAgLy8gYHRoaXMuX2hpUHJpSW5Qcm9ncmVzcz10cnVlYCwgbWVhbnMgaXQncyB0cmlnZ2VyZWQgYnkgdGhlIGhpUHJpIHVwZGF0ZS4gVGhlXG4gICAgLy8gYF9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGVgIHdpbGwgY2hlY2sgdGhpcyBjb25kaXRpb24gYW5kIG5vdCBwZXJmb3JtXG4gICAgLy8gYW5vdGhlciBoaVByaSB1cGRhdGUuXG4gICAgY29uc3QgaGlQcmlJblByb2dyZXNzID0gdGhpcy5faGlQcmlJblByb2dyZXNzO1xuICAgIHRoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuICAgIC8vIE1ha2Ugc3VyZSBzZXR0aW5nIGB0aGlzLl9oaVByaUluUHJvZ3Jlc3NgIGJhY2sgdG8gZmFsc2UgYWZ0ZXIgYGNvbXBvbmVudERpZFVwZGF0ZWBcbiAgICAvLyBpcyB0cmlnZ2VyZWQgd2l0aCBgdGhpcy5faGlQcmlJblByb2dyZXNzID0gdHJ1ZWBcbiAgICBpZiAoaGlQcmlJblByb2dyZXNzKSB7XG4gICAgICB0aGlzLl9oaVByaUluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBXZSBvbmx5IGNhbGwgYG9uRW5kUmVhY2hlZGAgYWZ0ZXIgd2UgcmVuZGVyIHRoZSBsYXN0IGNlbGwsIGJ1dCB3aGVuXG4gICAgLy8gZ2V0SXRlbUxheW91dCBpcyBwcmVzZW50LCB3ZSBjYW4gc2Nyb2xsIHBhc3QgdGhlIGxhc3QgcmVuZGVyZWQgY2VsbCwgYW5kXG4gICAgLy8gbmV2ZXIgdHJpZ2dlciBhIG5ldyBsYXlvdXQgb3IgYm91bmRzIGNoYW5nZSwgc28gd2UgbmVlZCB0byBjaGVjayBhZ2FpblxuICAgIC8vIGFmdGVyIHJlbmRlcmluZyBtb3JlIGNlbGxzLlxuICAgIGlmIChnZXRJdGVtTGF5b3V0ICE9IG51bGwpIHtcbiAgICAgIHRoaXMuX21heWJlQ2FsbE9uRWRnZVJlYWNoZWQoKTtcbiAgICB9XG4gIH1cblxuICBfY2VsbFJlZnM6IHtbc3RyaW5nXTogbnVsbCB8IENlbGxSZW5kZXJlcjxhbnk+fSA9IHt9O1xuICBfZmlsbFJhdGVIZWxwZXI6IEZpbGxSYXRlSGVscGVyO1xuICBfbGlzdE1ldHJpY3M6IExpc3RNZXRyaWNzQWdncmVnYXRvciA9IG5ldyBMaXN0TWV0cmljc0FnZ3JlZ2F0b3IoKTtcbiAgX2Zvb3Rlckxlbmd0aCA9IDA7XG4gIC8vIFVzZWQgZm9yIHByZXZlbnRpbmcgc2Nyb2xsVG9JbmRleCBmcm9tIGJlaW5nIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyBmb3IgaW5pdGlhbFNjcm9sbEluZGV4XG4gIF9oYXNUcmlnZ2VyZWRJbml0aWFsU2Nyb2xsVG9JbmRleCA9IGZhbHNlO1xuICBfaGFzSW50ZXJhY3RlZCA9IGZhbHNlO1xuICBfaGFzTW9yZSA9IGZhbHNlO1xuICBfaGFzV2FybmVkOiB7W3N0cmluZ106IGJvb2xlYW59ID0ge307XG4gIF9oZWFkZXJMZW5ndGggPSAwO1xuICBfaGlQcmlJblByb2dyZXNzOiBib29sZWFuID0gZmFsc2U7IC8vIGZsYWcgdG8gcHJldmVudCBpbmZpbml0ZSBoaVByaSBjZWxsIGxpbWl0IHVwZGF0ZVxuICBfaW5kaWNlc1RvS2V5czogTWFwPG51bWJlciwgc3RyaW5nPiA9IG5ldyBNYXAoKTtcbiAgX2xhc3RGb2N1c2VkQ2VsbEtleTogP3N0cmluZyA9IG51bGw7XG4gIF9uZXN0ZWRDaGlsZExpc3RzOiBDaGlsZExpc3RDb2xsZWN0aW9uPFZpcnR1YWxpemVkTGlzdD4gPVxuICAgIG5ldyBDaGlsZExpc3RDb2xsZWN0aW9uKCk7XG4gIF9vZmZzZXRGcm9tUGFyZW50VmlydHVhbGl6ZWRMaXN0OiBudW1iZXIgPSAwO1xuICBfcGVuZGluZ1ZpZXdhYmlsaXR5VXBkYXRlOiBib29sZWFuID0gZmFsc2U7XG4gIF9wcmV2UGFyZW50T2Zmc2V0OiBudW1iZXIgPSAwO1xuICBfc2Nyb2xsTWV0cmljczoge1xuICAgIGRPZmZzZXQ6IG51bWJlcixcbiAgICBkdDogbnVtYmVyLFxuICAgIG9mZnNldDogbnVtYmVyLFxuICAgIHRpbWVzdGFtcDogbnVtYmVyLFxuICAgIHZlbG9jaXR5OiBudW1iZXIsXG4gICAgdmlzaWJsZUxlbmd0aDogbnVtYmVyLFxuICAgIHpvb21TY2FsZTogbnVtYmVyLFxuICB9ID0ge1xuICAgIGRPZmZzZXQ6IDAsXG4gICAgZHQ6IDEwLFxuICAgIG9mZnNldDogMCxcbiAgICB0aW1lc3RhbXA6IDAsXG4gICAgdmVsb2NpdHk6IDAsXG4gICAgdmlzaWJsZUxlbmd0aDogMCxcbiAgICB6b29tU2NhbGU6IDEsXG4gIH07XG4gIF9zY3JvbGxSZWY6ID9SZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBTY3JvbGxWaWV3PiA9IG51bGw7XG4gIF9zZW50U3RhcnRGb3JDb250ZW50TGVuZ3RoID0gMDtcbiAgX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoID0gMDtcbiAgX3VwZGF0ZUNlbGxzVG9SZW5kZXJUaW1lb3V0SUQ6ID9UaW1lb3V0SUQgPSBudWxsO1xuICBfdmlld2FiaWxpdHlUdXBsZXM6IEFycmF5PFZpZXdhYmlsaXR5SGVscGVyQ2FsbGJhY2tUdXBsZT4gPSBbXTtcblxuICBfY2FwdHVyZVNjcm9sbFJlZiA9IChyZWY6ID9SZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBTY3JvbGxWaWV3PikgPT4ge1xuICAgIHRoaXMuX3Njcm9sbFJlZiA9IHJlZjtcbiAgfTtcblxuICBfY29tcHV0ZUJsYW5rbmVzcygpIHtcbiAgICB0aGlzLl9maWxsUmF0ZUhlbHBlci5jb21wdXRlQmxhbmtuZXNzKFxuICAgICAgdGhpcy5wcm9wcyxcbiAgICAgIHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydCxcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MsXG4gICAgKTtcbiAgfVxuXG4gIC8qICRGbG93Rml4TWVbbWlzc2luZy1sb2NhbC1hbm5vdF0gVGhlIHR5cGUgYW5ub3RhdGlvbihzKSByZXF1aXJlZCBieSBGbG93J3NcbiAgICogTFRJIHVwZGF0ZSBjb3VsZCBub3QgYmUgYWRkZWQgdmlhIGNvZGVtb2QgKi9cbiAgX2RlZmF1bHRSZW5kZXJTY3JvbGxDb21wb25lbnQgPSBwcm9wcyA9PiB7XG4gICAgY29uc3Qgb25SZWZyZXNoID0gcHJvcHMub25SZWZyZXNoO1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgLy8gUHJldmVudCBWaXJ0dWFsaXplZExpc3QuX29uQ29udGVudFNpemVDaGFuZ2UgZnJvbSBiZWluZyB0cmlnZ2VyZWQgYnkgYSBidWJibGluZyBvbkNvbnRlbnRTaXplQ2hhbmdlIGV2ZW50LlxuICAgICAgLy8gVGhpcyBjb3VsZCBsZWFkIHRvIGludGVybmFsIGluY29uc2lzdGVuY2llcyB3aXRoaW4gVmlydHVhbGl6ZWRMaXN0LlxuICAgICAgY29uc3Qge29uQ29udGVudFNpemVDaGFuZ2UsIC4uLm90aGVyUHJvcHN9ID0gcHJvcHM7XG4gICAgICByZXR1cm4gPFZpZXcgey4uLm90aGVyUHJvcHN9IC8+O1xuICAgIH0gZWxzZSBpZiAob25SZWZyZXNoKSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIHR5cGVvZiBwcm9wcy5yZWZyZXNoaW5nID09PSAnYm9vbGVhbicsXG4gICAgICAgICdgcmVmcmVzaGluZ2AgcHJvcCBtdXN0IGJlIHNldCBhcyBhIGJvb2xlYW4gaW4gb3JkZXIgdG8gdXNlIGBvblJlZnJlc2hgLCBidXQgZ290IGAnICtcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShwcm9wcy5yZWZyZXNoaW5nID8/ICd1bmRlZmluZWQnKSArXG4gICAgICAgICAgJ2AnLFxuICAgICAgKTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSBJbnZhbGlkIHByb3AgdXNhZ2VcbiAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdXNlXVxuICAgICAgICA8U2Nyb2xsVmlld1xuICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgICByZWZyZXNoQ29udHJvbD17XG4gICAgICAgICAgICBwcm9wcy5yZWZyZXNoQ29udHJvbCA9PSBudWxsID8gKFxuICAgICAgICAgICAgICA8UmVmcmVzaENvbnRyb2xcbiAgICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlXVxuICAgICAgICAgICAgICAgIHJlZnJlc2hpbmc9e3Byb3BzLnJlZnJlc2hpbmd9XG4gICAgICAgICAgICAgICAgb25SZWZyZXNoPXtvblJlZnJlc2h9XG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NWaWV3T2Zmc2V0PXtwcm9wcy5wcm9ncmVzc1ZpZXdPZmZzZXR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICBwcm9wcy5yZWZyZXNoQ29udHJvbFxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSBJbnZhbGlkIHByb3AgdXNhZ2VcbiAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXVzZV1cbiAgICAgIHJldHVybiA8U2Nyb2xsVmlldyB7Li4ucHJvcHN9IC8+O1xuICAgIH1cbiAgfTtcblxuICBfb25DZWxsTGF5b3V0ID0gKFxuICAgIGU6IExheW91dENoYW5nZUV2ZW50LFxuICAgIGNlbGxLZXk6IHN0cmluZyxcbiAgICBjZWxsSW5kZXg6IG51bWJlcixcbiAgKTogdm9pZCA9PiB7XG4gICAgY29uc3QgbGF5b3V0SGFzQ2hhbmdlZCA9IHRoaXMuX2xpc3RNZXRyaWNzLm5vdGlmeUNlbGxMYXlvdXQoe1xuICAgICAgY2VsbEluZGV4LFxuICAgICAgY2VsbEtleSxcbiAgICAgIGxheW91dDogZS5uYXRpdmVFdmVudC5sYXlvdXQsXG4gICAgICBvcmllbnRhdGlvbjogdGhpcy5fb3JpZW50YXRpb24oKSxcbiAgICB9KTtcblxuICAgIGlmIChsYXlvdXRIYXNDaGFuZ2VkKSB7XG4gICAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgICB9XG5cbiAgICB0aGlzLl90cmlnZ2VyUmVtZWFzdXJlRm9yQ2hpbGRMaXN0c0luQ2VsbChjZWxsS2V5KTtcbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyh0aGlzLnByb3BzLCB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQpO1xuICB9O1xuXG4gIF9vbkNlbGxGb2N1c0NhcHR1cmUgPSAoY2VsbEtleTogc3RyaW5nKSA9PiB7XG4gICAgdGhpcy5fbGFzdEZvY3VzZWRDZWxsS2V5ID0gY2VsbEtleTtcbiAgICBpZiAoUmVhY3ROYXRpdmVGZWF0dXJlRmxhZ3MuZGVmZXJGbGF0TGlzdEZvY3VzQ2hhbmdlUmVuZGVyVXBkYXRlKCkpIHtcbiAgICAgIC8vIFNjaGVkdWxlIHRoZSBjZWxscyB0byByZW5kZXIgdXBkYXRlIHRoZSBzYW1lIHdheSB3ZSBoYW5kbGUgc2Nyb2xsIG9yIGxheW91dCBldmVudHMuXG4gICAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlcigpO1xuICAgIH1cbiAgfTtcblxuICBfb25DZWxsVW5tb3VudCA9IChjZWxsS2V5OiBzdHJpbmcpID0+IHtcbiAgICBkZWxldGUgdGhpcy5fY2VsbFJlZnNbY2VsbEtleV07XG4gICAgdGhpcy5fbGlzdE1ldHJpY3Mubm90aWZ5Q2VsbFVubW91bnRlZChjZWxsS2V5KTtcbiAgfTtcblxuICBfdHJpZ2dlclJlbWVhc3VyZUZvckNoaWxkTGlzdHNJbkNlbGwoY2VsbEtleTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoSW5DZWxsKGNlbGxLZXksIGNoaWxkTGlzdCA9PiB7XG4gICAgICBjaGlsZExpc3QubWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCgpO1xuICAgIH0pO1xuICB9XG5cbiAgbWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCgpOiB2b2lkIHtcbiAgICAvLyBUT0RPIChUMzU1NzQ1MzgpOiBmaW5kTm9kZUhhbmRsZSBzb21ldGltZXMgY3Jhc2hlcyB3aXRoIFwiVW5hYmxlIHRvIGZpbmRcbiAgICAvLyBub2RlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnRcIiBkdXJpbmcgc2Nyb2xsaW5nXG4gICAgdHJ5IHtcbiAgICAgIGlmICghdGhpcy5fc2Nyb2xsUmVmKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIFdlIGFyZSBhc3N1bWluZyB0aGF0IGdldE91dGVybW9zdFBhcmVudExpc3RSZWYoKS5nZXRTY3JvbGxSZWYoKVxuICAgICAgLy8gaXMgYSBub24tbnVsbCByZWZlcmVuY2UgdG8gYSBTY3JvbGxWaWV3XG4gICAgICB0aGlzLl9zY3JvbGxSZWYubWVhc3VyZUxheW91dChcbiAgICAgICAgdGhpcy5jb250ZXh0LmdldE91dGVybW9zdFBhcmVudExpc3RSZWYoKS5nZXRTY3JvbGxSZWYoKSxcbiAgICAgICAgKHgsIHksIHdpZHRoLCBoZWlnaHQpID0+IHtcbiAgICAgICAgICB0aGlzLl9vZmZzZXRGcm9tUGFyZW50VmlydHVhbGl6ZWRMaXN0ID0gdGhpcy5fc2VsZWN0T2Zmc2V0KHt4LCB5fSk7XG4gICAgICAgICAgdGhpcy5fbGlzdE1ldHJpY3Mubm90aWZ5TGlzdENvbnRlbnRMYXlvdXQoe1xuICAgICAgICAgICAgbGF5b3V0OiB7d2lkdGgsIGhlaWdodH0sXG4gICAgICAgICAgICBvcmllbnRhdGlvbjogdGhpcy5fb3JpZW50YXRpb24oKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBzY3JvbGxNZXRyaWNzID0gdGhpcy5fY29udmVydFBhcmVudFNjcm9sbE1ldHJpY3MoXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2V0U2Nyb2xsTWV0cmljcygpLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBjb25zdCBtZXRyaWNzQ2hhbmdlZCA9XG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggIT09IHNjcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCB8fFxuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQgIT09IHNjcm9sbE1ldHJpY3Mub2Zmc2V0O1xuXG4gICAgICAgICAgaWYgKG1ldHJpY3NDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggPSBzY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGg7XG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldCA9IHNjcm9sbE1ldHJpY3Mub2Zmc2V0O1xuXG4gICAgICAgICAgICAvLyBJZiBtZXRyaWNzIG9mIHRoZSBzY3JvbGxWaWV3IGNoYW5nZWQsIHRoZW4gd2UgdHJpZ2dlcmVkIHJlbWVhc3VyZSBmb3IgY2hpbGQgbGlzdFxuICAgICAgICAgICAgLy8gdG8gZW5zdXJlIFZpcnR1YWxpemVkTGlzdCBoYXMgdGhlIHJpZ2h0IGluZm9ybWF0aW9uLlxuICAgICAgICAgICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGNoaWxkTGlzdCA9PiB7XG4gICAgICAgICAgICAgIGNoaWxkTGlzdC5tZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yID0+IHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBcIlZpcnR1YWxpemVkTGlzdDogRW5jb3VudGVyZWQgYW4gZXJyb3Igd2hpbGUgbWVhc3VyaW5nIGEgbGlzdCdzXCIgK1xuICAgICAgICAgICAgICAnIG9mZnNldCBmcm9tIGl0cyBjb250YWluaW5nIFZpcnR1YWxpemVkTGlzdC4nLFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdtZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0IHRocmV3IGFuIGVycm9yJyxcbiAgICAgICAgZXJyb3Iuc3RhY2ssXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIF9vbkxheW91dCA9IChlOiBMYXlvdXRDaGFuZ2VFdmVudCkgPT4ge1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgLy8gTmVlZCB0byBhZGp1c3Qgb3VyIHNjcm9sbCBtZXRyaWNzIHRvIGJlIHJlbGF0aXZlIHRvIG91ciBjb250YWluaW5nXG4gICAgICAvLyBWaXJ0dWFsaXplZExpc3QgYmVmb3JlIHdlIGNhbiBtYWtlIGNsYWltcyBhYm91dCBsaXN0IGl0ZW0gdmlld2FiaWxpdHlcbiAgICAgIHRoaXMubWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoXG4gICAgICAgIGUubmF0aXZlRXZlbnQubGF5b3V0LFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vbkxheW91dCAmJiB0aGlzLnByb3BzLm9uTGF5b3V0KGUpO1xuICAgIHRoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuICAgIHRoaXMuX21heWJlQ2FsbE9uRWRnZVJlYWNoZWQoKTtcbiAgfTtcblxuICBfb25MYXlvdXRFbXB0eSA9IChlOiBMYXlvdXRDaGFuZ2VFdmVudCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25MYXlvdXQgJiYgdGhpcy5wcm9wcy5vbkxheW91dChlKTtcbiAgfTtcblxuICBfZ2V0Rm9vdGVyQ2VsbEtleSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9nZXRDZWxsS2V5KCkgKyAnLWZvb3Rlcic7XG4gIH1cblxuICBfb25MYXlvdXRGb290ZXIgPSAoZTogTGF5b3V0Q2hhbmdlRXZlbnQpID0+IHtcbiAgICB0aGlzLl90cmlnZ2VyUmVtZWFzdXJlRm9yQ2hpbGRMaXN0c0luQ2VsbCh0aGlzLl9nZXRGb290ZXJDZWxsS2V5KCkpO1xuICAgIHRoaXMuX2Zvb3Rlckxlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChlLm5hdGl2ZUV2ZW50LmxheW91dCk7XG4gIH07XG5cbiAgX29uTGF5b3V0SGVhZGVyID0gKGU6IExheW91dENoYW5nZUV2ZW50KSA9PiB7XG4gICAgdGhpcy5faGVhZGVyTGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKGUubmF0aXZlRXZlbnQubGF5b3V0KTtcbiAgfTtcblxuICAvLyAkRmxvd0ZpeE1lW21pc3NpbmctbG9jYWwtYW5ub3RdXG4gIF9yZW5kZXJEZWJ1Z092ZXJsYXkoKSB7XG4gICAgY29uc3Qgbm9ybWFsaXplID1cbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCAvXG4gICAgICAodGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q29udGVudExlbmd0aCgpIHx8IDEpO1xuICAgIGNvbnN0IGZyYW1lc0luTGF5b3V0ID0gW107XG4gICAgY29uc3QgaXRlbUNvdW50ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKTtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgaXRlbUNvdW50OyBpaSsrKSB7XG4gICAgICBjb25zdCBmcmFtZSA9IHRoaXMuX2xpc3RNZXRyaWNzLmdldENlbGxNZXRyaWNzQXBwcm94KGlpLCB0aGlzLnByb3BzKTtcbiAgICAgIGlmIChmcmFtZS5pc01vdW50ZWQpIHtcbiAgICAgICAgZnJhbWVzSW5MYXlvdXQucHVzaChmcmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHdpbmRvd1RvcCA9IHRoaXMuX2xpc3RNZXRyaWNzLmdldENlbGxNZXRyaWNzQXBwcm94KFxuICAgICAgdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0LFxuICAgICAgdGhpcy5wcm9wcyxcbiAgICApLm9mZnNldDtcbiAgICBjb25zdCBmcmFtZUxhc3QgPSB0aGlzLl9saXN0TWV0cmljcy5nZXRDZWxsTWV0cmljc0FwcHJveChcbiAgICAgIHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0LFxuICAgICAgdGhpcy5wcm9wcyxcbiAgICApO1xuICAgIGNvbnN0IHdpbmRvd0xlbiA9IGZyYW1lTGFzdC5vZmZzZXQgKyBmcmFtZUxhc3QubGVuZ3RoIC0gd2luZG93VG9wO1xuICAgIGNvbnN0IHZpc1RvcCA9IHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0O1xuICAgIGNvbnN0IHZpc0xlbiA9IHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aDtcblxuICAgIHJldHVybiAoXG4gICAgICA8VmlldyBzdHlsZT17W3N0eWxlcy5kZWJ1Z092ZXJsYXlCYXNlLCBzdHlsZXMuZGVidWdPdmVybGF5XX0+XG4gICAgICAgIHtmcmFtZXNJbkxheW91dC5tYXAoKGYsIGlpKSA9PiAoXG4gICAgICAgICAgPFZpZXdcbiAgICAgICAgICAgIGtleT17J2YnICsgaWl9XG4gICAgICAgICAgICBzdHlsZT17W1xuICAgICAgICAgICAgICBzdHlsZXMuZGVidWdPdmVybGF5QmFzZSxcbiAgICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUZyYW1lLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdG9wOiBmLm9mZnNldCAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGYubGVuZ3RoICogbm9ybWFsaXplLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXX1cbiAgICAgICAgICAvPlxuICAgICAgICApKX1cbiAgICAgICAgPFZpZXdcbiAgICAgICAgICBzdHlsZT17W1xuICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUJhc2UsXG4gICAgICAgICAgICBzdHlsZXMuZGVidWdPdmVybGF5RnJhbWVMYXN0LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0b3A6IHdpbmRvd1RvcCAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgICAgaGVpZ2h0OiB3aW5kb3dMZW4gKiBub3JtYWxpemUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF19XG4gICAgICAgIC8+XG4gICAgICAgIDxWaWV3XG4gICAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICAgIHN0eWxlcy5kZWJ1Z092ZXJsYXlCYXNlLFxuICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUZyYW1lVmlzLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0b3A6IHZpc1RvcCAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgICAgaGVpZ2h0OiB2aXNMZW4gKiBub3JtYWxpemUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF19XG4gICAgICAgIC8+XG4gICAgICA8L1ZpZXc+XG4gICAgKTtcbiAgfVxuXG4gIF9zZWxlY3RMZW5ndGgoXG4gICAgbWV0cmljczogJFJlYWRPbmx5PHtcbiAgICAgIGhlaWdodDogbnVtYmVyLFxuICAgICAgd2lkdGg6IG51bWJlcixcbiAgICAgIC4uLlxuICAgIH0+LFxuICApOiBudW1iZXIge1xuICAgIHJldHVybiAhaG9yaXpvbnRhbE9yRGVmYXVsdCh0aGlzLnByb3BzLmhvcml6b250YWwpXG4gICAgICA/IG1ldHJpY3MuaGVpZ2h0XG4gICAgICA6IG1ldHJpY3Mud2lkdGg7XG4gIH1cblxuICBfc2VsZWN0T2Zmc2V0KHt4LCB5fTogJFJlYWRPbmx5PHt4OiBudW1iZXIsIHk6IG51bWJlciwgLi4ufT4pOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9vcmllbnRhdGlvbigpLmhvcml6b250YWwgPyB4IDogeTtcbiAgfVxuXG4gIF9vcmllbnRhdGlvbigpOiBMaXN0T3JpZW50YXRpb24ge1xuICAgIHJldHVybiB7XG4gICAgICBob3Jpem9udGFsOiBob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbCksXG4gICAgICBydGw6IEkxOG5NYW5hZ2VyLmlzUlRMLFxuICAgIH07XG4gIH1cblxuICBfbWF5YmVDYWxsT25FZGdlUmVhY2hlZCgpIHtcbiAgICBjb25zdCB7XG4gICAgICBkYXRhLFxuICAgICAgZ2V0SXRlbUNvdW50LFxuICAgICAgb25TdGFydFJlYWNoZWQsXG4gICAgICBvblN0YXJ0UmVhY2hlZFRocmVzaG9sZCxcbiAgICAgIG9uRW5kUmVhY2hlZCxcbiAgICAgIG9uRW5kUmVhY2hlZFRocmVzaG9sZCxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICAvLyBXYWl0IHVudGlsIHdlIGhhdmUgcmVhbCBtZXRyaWNzXG4gICAgaWYgKFxuICAgICAgIXRoaXMuX2xpc3RNZXRyaWNzLmhhc0NvbnRlbnRMZW5ndGgoKSB8fFxuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoID09PSAwXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSWYgd2UgaGF2ZSBhbnkgcGVuZGluZyBzY3JvbGwgdXBkYXRlcyBpdCBtZWFucyB0aGF0IHRoZSBzY3JvbGwgbWV0cmljc1xuICAgIC8vIGFyZSBvdXQgb2YgZGF0ZSBhbmQgd2Ugc2hvdWxkIG5vdCBjYWxsIGFueSBvZiB0aGUgZWRnZSByZWFjaGVkIGNhbGxiYWNrcy5cbiAgICBpZiAodGhpcy5zdGF0ZS5wZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQgPiAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qge3Zpc2libGVMZW5ndGgsIG9mZnNldH0gPSB0aGlzLl9zY3JvbGxNZXRyaWNzO1xuICAgIGxldCBkaXN0YW5jZUZyb21TdGFydCA9IG9mZnNldDtcbiAgICBsZXQgZGlzdGFuY2VGcm9tRW5kID1cbiAgICAgIHRoaXMuX2xpc3RNZXRyaWNzLmdldENvbnRlbnRMZW5ndGgoKSAtIHZpc2libGVMZW5ndGggLSBvZmZzZXQ7XG5cbiAgICAvLyBFc3BlY2lhbGx5IHdoZW4gb0VSVCBpcyB6ZXJvIGl0J3MgbmVjZXNzYXJ5IHRvICdmbG9vcicgdmVyeSBzbWFsbCBkaXN0YW5jZSB2YWx1ZXMgdG8gYmUgMFxuICAgIC8vIHNpbmNlIGRlYm91bmNpbmcgY2F1c2VzIHVzIHRvIG5vdCBmaXJlIHRoaXMgZXZlbnQgZm9yIGV2ZXJ5IHNpbmdsZSBcInBpeGVsXCIgd2Ugc2Nyb2xsIGFuZCBjYW4gdGh1c1xuICAgIC8vIGJlIGF0IHRoZSBlZGdlIG9mIHRoZSBsaXN0IHdpdGggYSBkaXN0YW5jZSBhcHByb3hpbWF0aW5nIDAgYnV0IG5vdCBxdWl0ZSB0aGVyZS5cbiAgICBpZiAoZGlzdGFuY2VGcm9tU3RhcnQgPCBPTl9FREdFX1JFQUNIRURfRVBTSUxPTikge1xuICAgICAgZGlzdGFuY2VGcm9tU3RhcnQgPSAwO1xuICAgIH1cbiAgICBpZiAoZGlzdGFuY2VGcm9tRW5kIDwgT05fRURHRV9SRUFDSEVEX0VQU0lMT04pIHtcbiAgICAgIGRpc3RhbmNlRnJvbUVuZCA9IDA7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogVDEyMTE3MjE3MiBMb29rIGludG8gd2h5IHdlJ3JlIFwiZGVmYXVsdGluZ1wiIHRvIGEgdGhyZXNob2xkIG9mIDJweFxuICAgIC8vIHdoZW4gb0VSVCBpcyBub3QgcHJlc2VudCAoZGlmZmVyZW50IGZyb20gMiB2aWV3cG9ydHMgdXNlZCBlbHNld2hlcmUpXG4gICAgY29uc3QgREVGQVVMVF9USFJFU0hPTERfUFggPSAyO1xuXG4gICAgY29uc3Qgc3RhcnRUaHJlc2hvbGQgPVxuICAgICAgb25TdGFydFJlYWNoZWRUaHJlc2hvbGQgIT0gbnVsbFxuICAgICAgICA/IG9uU3RhcnRSZWFjaGVkVGhyZXNob2xkICogdmlzaWJsZUxlbmd0aFxuICAgICAgICA6IERFRkFVTFRfVEhSRVNIT0xEX1BYO1xuICAgIGNvbnN0IGVuZFRocmVzaG9sZCA9XG4gICAgICBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgIT0gbnVsbFxuICAgICAgICA/IG9uRW5kUmVhY2hlZFRocmVzaG9sZCAqIHZpc2libGVMZW5ndGhcbiAgICAgICAgOiBERUZBVUxUX1RIUkVTSE9MRF9QWDtcbiAgICBjb25zdCBpc1dpdGhpblN0YXJ0VGhyZXNob2xkID0gZGlzdGFuY2VGcm9tU3RhcnQgPD0gc3RhcnRUaHJlc2hvbGQ7XG4gICAgY29uc3QgaXNXaXRoaW5FbmRUaHJlc2hvbGQgPSBkaXN0YW5jZUZyb21FbmQgPD0gZW5kVGhyZXNob2xkO1xuXG4gICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhlIHVzZXIganVzdCBzY3JvbGxlZCB3aXRoaW4gdGhlIGVuZCB0aHJlc2hvbGRcbiAgICAvLyBhbmQgY2FsbCBvbkVuZFJlYWNoZWQgb25seSBvbmNlIGZvciBhIGdpdmVuIGNvbnRlbnQgbGVuZ3RoLFxuICAgIC8vIGFuZCBvbmx5IGlmIG9uU3RhcnRSZWFjaGVkIGlzIG5vdCBiZWluZyBleGVjdXRlZFxuICAgIGlmIChcbiAgICAgIG9uRW5kUmVhY2hlZCAmJlxuICAgICAgdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPT09IGdldEl0ZW1Db3VudChkYXRhKSAtIDEgJiZcbiAgICAgIGlzV2l0aGluRW5kVGhyZXNob2xkICYmXG4gICAgICB0aGlzLl9saXN0TWV0cmljcy5nZXRDb250ZW50TGVuZ3RoKCkgIT09IHRoaXMuX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoXG4gICAgKSB7XG4gICAgICB0aGlzLl9zZW50RW5kRm9yQ29udGVudExlbmd0aCA9IHRoaXMuX2xpc3RNZXRyaWNzLmdldENvbnRlbnRMZW5ndGgoKTtcbiAgICAgIG9uRW5kUmVhY2hlZCh7ZGlzdGFuY2VGcm9tRW5kfSk7XG4gICAgfVxuXG4gICAgLy8gTmV4dCBjaGVjayBpZiB0aGUgdXNlciBqdXN0IHNjcm9sbGVkIHdpdGhpbiB0aGUgc3RhcnQgdGhyZXNob2xkXG4gICAgLy8gYW5kIGNhbGwgb25TdGFydFJlYWNoZWQgb25seSBvbmNlIGZvciBhIGdpdmVuIGNvbnRlbnQgbGVuZ3RoLFxuICAgIC8vIGFuZCBvbmx5IGlmIG9uRW5kUmVhY2hlZCBpcyBub3QgYmVpbmcgZXhlY3V0ZWRcbiAgICBpZiAoXG4gICAgICBvblN0YXJ0UmVhY2hlZCAhPSBudWxsICYmXG4gICAgICB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3QgPT09IDAgJiZcbiAgICAgIGlzV2l0aGluU3RhcnRUaHJlc2hvbGQgJiZcbiAgICAgIHRoaXMuX2xpc3RNZXRyaWNzLmdldENvbnRlbnRMZW5ndGgoKSAhPT0gdGhpcy5fc2VudFN0YXJ0Rm9yQ29udGVudExlbmd0aFxuICAgICkge1xuICAgICAgdGhpcy5fc2VudFN0YXJ0Rm9yQ29udGVudExlbmd0aCA9IHRoaXMuX2xpc3RNZXRyaWNzLmdldENvbnRlbnRMZW5ndGgoKTtcbiAgICAgIG9uU3RhcnRSZWFjaGVkKHtkaXN0YW5jZUZyb21TdGFydH0pO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSB1c2VyIHNjcm9sbHMgYXdheSBmcm9tIHRoZSBzdGFydCBvciBlbmQgYW5kIGJhY2sgYWdhaW4sXG4gICAgLy8gY2F1c2Ugb25TdGFydFJlYWNoZWQgb3Igb25FbmRSZWFjaGVkIHRvIGJlIHRyaWdnZXJlZCBhZ2FpblxuICAgIGlmICghaXNXaXRoaW5TdGFydFRocmVzaG9sZCkge1xuICAgICAgdGhpcy5fc2VudFN0YXJ0Rm9yQ29udGVudExlbmd0aCA9IDA7XG4gICAgfVxuICAgIGlmICghaXNXaXRoaW5FbmRUaHJlc2hvbGQpIHtcbiAgICAgIHRoaXMuX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoID0gMDtcbiAgICB9XG4gIH1cblxuICBfb25Db250ZW50U2l6ZUNoYW5nZSA9ICh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xuICAgIHRoaXMuX2xpc3RNZXRyaWNzLm5vdGlmeUxpc3RDb250ZW50TGF5b3V0KHtcbiAgICAgIGxheW91dDoge3dpZHRoLCBoZWlnaHR9LFxuICAgICAgb3JpZW50YXRpb246IHRoaXMuX29yaWVudGF0aW9uKCksXG4gICAgfSk7XG5cbiAgICB0aGlzLl9tYXliZVNjcm9sbFRvSW5pdGlhbFNjcm9sbEluZGV4KHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgaWYgKHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlKHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgICB0aGlzLl9tYXliZUNhbGxPbkVkZ2VSZWFjaGVkKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNjcm9sbCB0byBhIHNwZWNpZmllZCBgaW5pdGlhbFNjcm9sbEluZGV4YCBwcm9wIGFmdGVyIHRoZSBTY3JvbGxWaWV3XG4gICAqIGNvbnRlbnQgaGFzIGJlZW4gbGFpZCBvdXQsIGlmIGl0IGlzIHN0aWxsIHZhbGlkLiBPbmx5IGEgc2luZ2xlIHNjcm9sbCBpc1xuICAgKiB0cmlnZ2VyZWQgdGhyb3VnaG91dCB0aGUgbGlmZXRpbWUgb2YgdGhlIGxpc3QuXG4gICAqL1xuICBfbWF5YmVTY3JvbGxUb0luaXRpYWxTY3JvbGxJbmRleChcbiAgICBjb250ZW50V2lkdGg6IG51bWJlcixcbiAgICBjb250ZW50SGVpZ2h0OiBudW1iZXIsXG4gICkge1xuICAgIGlmIChcbiAgICAgIGNvbnRlbnRXaWR0aCA+IDAgJiZcbiAgICAgIGNvbnRlbnRIZWlnaHQgPiAwICYmXG4gICAgICB0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCAhPSBudWxsICYmXG4gICAgICB0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCA+IDAgJiZcbiAgICAgICF0aGlzLl9oYXNUcmlnZ2VyZWRJbml0aWFsU2Nyb2xsVG9JbmRleFxuICAgICkge1xuICAgICAgaWYgKHRoaXMucHJvcHMuY29udGVudE9mZnNldCA9PSBudWxsKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCA8XG4gICAgICAgICAgdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLnNjcm9sbFRvSW5kZXgoe1xuICAgICAgICAgICAgYW5pbWF0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgaW5kZXg6IG51bGx0aHJvd3ModGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXgpLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2Nyb2xsVG9FbmQoe2FuaW1hdGVkOiBmYWxzZX0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLl9oYXNUcmlnZ2VyZWRJbml0aWFsU2Nyb2xsVG9JbmRleCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgLyogVHJhbnNsYXRlcyBtZXRyaWNzIGZyb20gYSBzY3JvbGwgZXZlbnQgaW4gYSBwYXJlbnQgVmlydHVhbGl6ZWRMaXN0IGludG9cbiAgICogY29vcmRpbmF0ZXMgcmVsYXRpdmUgdG8gdGhlIGNoaWxkIGxpc3QuXG4gICAqL1xuICBfY29udmVydFBhcmVudFNjcm9sbE1ldHJpY3MgPSAobWV0cmljczoge1xuICAgIHZpc2libGVMZW5ndGg6IG51bWJlcixcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICAuLi5cbiAgfSk6ICRGbG93Rml4TWUgPT4ge1xuICAgIC8vIE9mZnNldCBvZiB0aGUgdG9wIG9mIHRoZSBuZXN0ZWQgbGlzdCByZWxhdGl2ZSB0byB0aGUgdG9wIG9mIGl0cyBwYXJlbnQncyB2aWV3cG9ydFxuICAgIGNvbnN0IG9mZnNldCA9IG1ldHJpY3Mub2Zmc2V0IC0gdGhpcy5fb2Zmc2V0RnJvbVBhcmVudFZpcnR1YWxpemVkTGlzdDtcbiAgICAvLyBDaGlsZCdzIHZpc2libGUgbGVuZ3RoIGlzIHRoZSBzYW1lIGFzIGl0cyBwYXJlbnQnc1xuICAgIGNvbnN0IHZpc2libGVMZW5ndGggPSBtZXRyaWNzLnZpc2libGVMZW5ndGg7XG4gICAgY29uc3QgZE9mZnNldCA9IG9mZnNldCAtIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0O1xuICAgIGNvbnN0IGNvbnRlbnRMZW5ndGggPSB0aGlzLl9saXN0TWV0cmljcy5nZXRDb250ZW50TGVuZ3RoKCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdmlzaWJsZUxlbmd0aCxcbiAgICAgIGNvbnRlbnRMZW5ndGgsXG4gICAgICBvZmZzZXQsXG4gICAgICBkT2Zmc2V0LFxuICAgIH07XG4gIH07XG5cbiAgdW5zdGFibGVfb25TY3JvbGwoZTogT2JqZWN0KSB7XG4gICAgdGhpcy5fb25TY3JvbGwoZSk7XG4gIH1cblxuICBfb25TY3JvbGwgPSAoZTogT2JqZWN0KSA9PiB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGNoaWxkTGlzdCA9PiB7XG4gICAgICBjaGlsZExpc3QuX29uU2Nyb2xsKGUpO1xuICAgIH0pO1xuICAgIGlmICh0aGlzLnByb3BzLm9uU2Nyb2xsKSB7XG4gICAgICB0aGlzLnByb3BzLm9uU2Nyb2xsKGUpO1xuICAgIH1cbiAgICBjb25zdCB0aW1lc3RhbXAgPSBlLnRpbWVTdGFtcDtcbiAgICBsZXQgdmlzaWJsZUxlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChlLm5hdGl2ZUV2ZW50LmxheW91dE1lYXN1cmVtZW50KTtcbiAgICBsZXQgY29udGVudExlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChlLm5hdGl2ZUV2ZW50LmNvbnRlbnRTaXplKTtcbiAgICBsZXQgb2Zmc2V0ID0gdGhpcy5fb2Zmc2V0RnJvbVNjcm9sbEV2ZW50KGUpO1xuICAgIGxldCBkT2Zmc2V0ID0gb2Zmc2V0IC0gdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG5cbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIGlmICh0aGlzLl9saXN0TWV0cmljcy5nZXRDb250ZW50TGVuZ3RoKCkgPT09IDApIHtcbiAgICAgICAgLy8gSWdub3JlIHNjcm9sbCBldmVudHMgdW50aWwgb25MYXlvdXQgaGFzIGJlZW4gY2FsbGVkIGFuZCB3ZVxuICAgICAgICAvLyBrbm93IG91ciBvZmZzZXQgZnJvbSBvdXIgb2Zmc2V0IGZyb20gb3VyIHBhcmVudFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAoe3Zpc2libGVMZW5ndGgsIGNvbnRlbnRMZW5ndGgsIG9mZnNldCwgZE9mZnNldH0gPVxuICAgICAgICB0aGlzLl9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyh7XG4gICAgICAgICAgdmlzaWJsZUxlbmd0aCxcbiAgICAgICAgICBvZmZzZXQsXG4gICAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBjb25zdCBkdCA9IHRoaXMuX3Njcm9sbE1ldHJpY3MudGltZXN0YW1wXG4gICAgICA/IE1hdGgubWF4KDEsIHRpbWVzdGFtcCAtIHRoaXMuX3Njcm9sbE1ldHJpY3MudGltZXN0YW1wKVxuICAgICAgOiAxO1xuICAgIGNvbnN0IHZlbG9jaXR5ID0gZE9mZnNldCAvIGR0O1xuXG4gICAgaWYgKFxuICAgICAgZHQgPiA1MDAgJiZcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MuZHQgPiA1MDAgJiZcbiAgICAgIGNvbnRlbnRMZW5ndGggPiA1ICogdmlzaWJsZUxlbmd0aCAmJlxuICAgICAgIXRoaXMuX2hhc1dhcm5lZC5wZXJmXG4gICAgKSB7XG4gICAgICBpbmZvTG9nKFxuICAgICAgICAnVmlydHVhbGl6ZWRMaXN0OiBZb3UgaGF2ZSBhIGxhcmdlIGxpc3QgdGhhdCBpcyBzbG93IHRvIHVwZGF0ZSAtIG1ha2Ugc3VyZSB5b3VyICcgK1xuICAgICAgICAgICdyZW5kZXJJdGVtIGZ1bmN0aW9uIHJlbmRlcnMgY29tcG9uZW50cyB0aGF0IGZvbGxvdyBSZWFjdCBwZXJmb3JtYW5jZSBiZXN0IHByYWN0aWNlcyAnICtcbiAgICAgICAgICAnbGlrZSBQdXJlQ29tcG9uZW50LCBzaG91bGRDb21wb25lbnRVcGRhdGUsIGV0Yy4nLFxuICAgICAgICB7ZHQsIHByZXZEdDogdGhpcy5fc2Nyb2xsTWV0cmljcy5kdCwgY29udGVudExlbmd0aH0sXG4gICAgICApO1xuICAgICAgdGhpcy5faGFzV2FybmVkLnBlcmYgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIEZvciBpbnZhbGlkIG5lZ2F0aXZlIHZhbHVlcyAody8gUlRMKSwgc2V0IHRoaXMgdG8gMS5cbiAgICBjb25zdCB6b29tU2NhbGUgPSBlLm5hdGl2ZUV2ZW50Lnpvb21TY2FsZSA8IDAgPyAxIDogZS5uYXRpdmVFdmVudC56b29tU2NhbGU7XG4gICAgdGhpcy5fc2Nyb2xsTWV0cmljcyA9IHtcbiAgICAgIGR0LFxuICAgICAgZE9mZnNldCxcbiAgICAgIG9mZnNldCxcbiAgICAgIHRpbWVzdGFtcCxcbiAgICAgIHZlbG9jaXR5LFxuICAgICAgdmlzaWJsZUxlbmd0aCxcbiAgICAgIHpvb21TY2FsZSxcbiAgICB9O1xuICAgIGlmICh0aGlzLnN0YXRlLnBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudCA+IDApIHtcbiAgICAgIHRoaXMuc2V0U3RhdGU8J3BlbmRpbmdTY3JvbGxVcGRhdGVDb3VudCc+KHN0YXRlID0+ICh7XG4gICAgICAgIHBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudDogc3RhdGUucGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50IC0gMSxcbiAgICAgIH0pKTtcbiAgICB9XG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyh0aGlzLnByb3BzLCB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQpO1xuICAgIGlmICghdGhpcy5wcm9wcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9tYXliZUNhbGxPbkVkZ2VSZWFjaGVkKCk7XG4gICAgaWYgKHZlbG9jaXR5ICE9PSAwKSB7XG4gICAgICB0aGlzLl9maWxsUmF0ZUhlbHBlci5hY3RpdmF0ZSgpO1xuICAgIH1cbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gIH07XG5cbiAgX29mZnNldEZyb21TY3JvbGxFdmVudChlOiBTY3JvbGxFdmVudCk6IG51bWJlciB7XG4gICAgY29uc3Qge2NvbnRlbnRPZmZzZXQsIGNvbnRlbnRTaXplLCBsYXlvdXRNZWFzdXJlbWVudH0gPSBlLm5hdGl2ZUV2ZW50O1xuICAgIGNvbnN0IHtob3Jpem9udGFsLCBydGx9ID0gdGhpcy5fb3JpZW50YXRpb24oKTtcbiAgICBpZiAoaG9yaXpvbnRhbCAmJiBydGwpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMuX3NlbGVjdExlbmd0aChjb250ZW50U2l6ZSkgLVxuICAgICAgICAodGhpcy5fc2VsZWN0T2Zmc2V0KGNvbnRlbnRPZmZzZXQpICtcbiAgICAgICAgICB0aGlzLl9zZWxlY3RMZW5ndGgobGF5b3V0TWVhc3VyZW1lbnQpKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuX3NlbGVjdE9mZnNldChjb250ZW50T2Zmc2V0KTtcbiAgICB9XG4gIH1cblxuICBfc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCkge1xuICAgIC8vIE9ubHkgdHJpZ2dlciBoaWdoLXByaW9yaXR5IHVwZGF0ZXMgaWYgd2UndmUgYWN0dWFsbHkgcmVuZGVyZWQgY2VsbHMsXG4gICAgLy8gYW5kIHdpdGggdGhhdCBzaXplIGVzdGltYXRlLCBhY2N1cmF0ZWx5IGNvbXB1dGUgaG93IG1hbnkgY2VsbHMgd2Ugc2hvdWxkIHJlbmRlci5cbiAgICAvLyBPdGhlcndpc2UsIGl0IHdvdWxkIGp1c3QgcmVuZGVyIGFzIG1hbnkgY2VsbHMgYXMgaXQgY2FuIChvZiB6ZXJvIGRpbWVuc2lvbiksXG4gICAgLy8gZWFjaCB0aW1lIHRocm91Z2ggYXR0ZW1wdGluZyB0byByZW5kZXIgbW9yZSAobGltaXRlZCBieSBtYXhUb1JlbmRlclBlckJhdGNoKSxcbiAgICAvLyBzdGFydmluZyB0aGUgcmVuZGVyZXIgZnJvbSBhY3R1YWxseSBsYXlpbmcgb3V0IHRoZSBvYmplY3RzIGFuZCBjb21wdXRpbmcgX2F2ZXJhZ2VDZWxsTGVuZ3RoLlxuICAgIC8vIElmIHRoaXMgaXMgdHJpZ2dlcmVkIGluIGFuIGBjb21wb25lbnREaWRVcGRhdGVgIGZvbGxvd2VkIGJ5IGEgaGlQcmkgY2VsbFRvUmVuZGVyVXBkYXRlXG4gICAgLy8gV2Ugc2hvdWxkbid0IGRvIGFub3RoZXIgaGlwcmkgY2VsbFRvUmVuZGVyVXBkYXRlXG4gICAgaWYgKFxuICAgICAgKHRoaXMuX2xpc3RNZXRyaWNzLmdldEF2ZXJhZ2VDZWxsTGVuZ3RoKCkgPiAwIHx8XG4gICAgICAgIHRoaXMucHJvcHMuZ2V0SXRlbUxheW91dCAhPSBudWxsKSAmJlxuICAgICAgdGhpcy5fc2hvdWxkUmVuZGVyV2l0aFByaW9yaXR5KCkgJiZcbiAgICAgICF0aGlzLl9oaVByaUluUHJvZ3Jlc3NcbiAgICApIHtcbiAgICAgIHRoaXMuX2hpUHJpSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAvLyBEb24ndCB3b3JyeSBhYm91dCBpbnRlcmFjdGlvbnMgd2hlbiBzY3JvbGxpbmcgcXVpY2tseTsgZm9jdXMgb24gZmlsbGluZyBjb250ZW50IGFzIGZhc3RcbiAgICAgIC8vIGFzIHBvc3NpYmxlLlxuICAgICAgaWYgKHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJUaW1lb3V0SUQgIT0gbnVsbCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlclRpbWVvdXRJRCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJUaW1lb3V0SUQgPSBudWxsO1xuICAgICAgfVxuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlcigpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlclRpbWVvdXRJRCA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJUaW1lb3V0SUQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyVGltZW91dElEID0gbnVsbDtcbiAgICAgICAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyKCk7XG4gICAgICAgIH0sIHRoaXMucHJvcHMudXBkYXRlQ2VsbHNCYXRjaGluZ1BlcmlvZCA/PyA1MCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX3Nob3VsZFJlbmRlcldpdGhQcmlvcml0eSgpOiBib29sZWFuIHtcbiAgICBjb25zdCB7Zmlyc3QsIGxhc3R9ID0gdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0O1xuICAgIGNvbnN0IHtvZmZzZXQsIHZpc2libGVMZW5ndGgsIHZlbG9jaXR5fSA9IHRoaXMuX3Njcm9sbE1ldHJpY3M7XG4gICAgY29uc3QgaXRlbUNvdW50ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKTtcbiAgICBsZXQgaGlQcmkgPSBmYWxzZTtcbiAgICBjb25zdCBvblN0YXJ0UmVhY2hlZFRocmVzaG9sZCA9IG9uU3RhcnRSZWFjaGVkVGhyZXNob2xkT3JEZWZhdWx0KFxuICAgICAgdGhpcy5wcm9wcy5vblN0YXJ0UmVhY2hlZFRocmVzaG9sZCxcbiAgICApO1xuICAgIGNvbnN0IG9uRW5kUmVhY2hlZFRocmVzaG9sZCA9IG9uRW5kUmVhY2hlZFRocmVzaG9sZE9yRGVmYXVsdChcbiAgICAgIHRoaXMucHJvcHMub25FbmRSZWFjaGVkVGhyZXNob2xkLFxuICAgICk7XG4gICAgLy8gTWFyayBhcyBoaWdoIHByaW9yaXR5IGlmIHdlJ3JlIGNsb3NlIHRvIHRoZSBzdGFydCBvZiB0aGUgZmlyc3QgaXRlbVxuICAgIC8vIEJ1dCBvbmx5IGlmIHRoZXJlIGFyZSBpdGVtcyBiZWZvcmUgdGhlIGZpcnN0IHJlbmRlcmVkIGl0ZW1cbiAgICBpZiAoZmlyc3QgPiAwKSB7XG4gICAgICBjb25zdCBkaXN0VG9wID1cbiAgICAgICAgb2Zmc2V0IC1cbiAgICAgICAgdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q2VsbE1ldHJpY3NBcHByb3goZmlyc3QsIHRoaXMucHJvcHMpLm9mZnNldDtcbiAgICAgIGhpUHJpID1cbiAgICAgICAgZGlzdFRvcCA8IDAgfHxcbiAgICAgICAgKHZlbG9jaXR5IDwgLTIgJiZcbiAgICAgICAgICBkaXN0VG9wIDxcbiAgICAgICAgICAgIGdldFNjcm9sbGluZ1RocmVzaG9sZChvblN0YXJ0UmVhY2hlZFRocmVzaG9sZCwgdmlzaWJsZUxlbmd0aCkpO1xuICAgIH1cbiAgICAvLyBNYXJrIGFzIGhpZ2ggcHJpb3JpdHkgaWYgd2UncmUgY2xvc2UgdG8gdGhlIGVuZCBvZiB0aGUgbGFzdCBpdGVtXG4gICAgLy8gQnV0IG9ubHkgaWYgdGhlcmUgYXJlIGl0ZW1zIGFmdGVyIHRoZSBsYXN0IHJlbmRlcmVkIGl0ZW1cbiAgICBpZiAoIWhpUHJpICYmIGxhc3QgPj0gMCAmJiBsYXN0IDwgaXRlbUNvdW50IC0gMSkge1xuICAgICAgY29uc3QgZGlzdEJvdHRvbSA9XG4gICAgICAgIHRoaXMuX2xpc3RNZXRyaWNzLmdldENlbGxNZXRyaWNzQXBwcm94KGxhc3QsIHRoaXMucHJvcHMpLm9mZnNldCAtXG4gICAgICAgIChvZmZzZXQgKyB2aXNpYmxlTGVuZ3RoKTtcbiAgICAgIGhpUHJpID1cbiAgICAgICAgZGlzdEJvdHRvbSA8IDAgfHxcbiAgICAgICAgKHZlbG9jaXR5ID4gMiAmJlxuICAgICAgICAgIGRpc3RCb3R0b20gPFxuICAgICAgICAgICAgZ2V0U2Nyb2xsaW5nVGhyZXNob2xkKG9uRW5kUmVhY2hlZFRocmVzaG9sZCwgdmlzaWJsZUxlbmd0aCkpO1xuICAgIH1cblxuICAgIHJldHVybiBoaVByaTtcbiAgfVxuXG4gIHVuc3RhYmxlX29uU2Nyb2xsQmVnaW5EcmFnKGU6IFNjcm9sbEV2ZW50KSB7XG4gICAgdGhpcy5fb25TY3JvbGxCZWdpbkRyYWcoZSk7XG4gIH1cblxuICBfb25TY3JvbGxCZWdpbkRyYWcgPSAoZTogU2Nyb2xsRXZlbnQpOiB2b2lkID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5fb25TY3JvbGxCZWdpbkRyYWcoZSk7XG4gICAgfSk7XG4gICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0dXBsZSA9PiB7XG4gICAgICB0dXBsZS52aWV3YWJpbGl0eUhlbHBlci5yZWNvcmRJbnRlcmFjdGlvbigpO1xuICAgIH0pO1xuICAgIHRoaXMuX2hhc0ludGVyYWN0ZWQgPSB0cnVlO1xuICAgIHRoaXMucHJvcHMub25TY3JvbGxCZWdpbkRyYWcgJiYgdGhpcy5wcm9wcy5vblNjcm9sbEJlZ2luRHJhZyhlKTtcbiAgfTtcblxuICB1bnN0YWJsZV9vblNjcm9sbEVuZERyYWcoZTogU2Nyb2xsRXZlbnQpIHtcbiAgICB0aGlzLl9vblNjcm9sbEVuZERyYWcoZSk7XG4gIH1cblxuICBfb25TY3JvbGxFbmREcmFnID0gKGU6IFNjcm9sbEV2ZW50KTogdm9pZCA9PiB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGNoaWxkTGlzdCA9PiB7XG4gICAgICBjaGlsZExpc3QuX29uU2Nyb2xsRW5kRHJhZyhlKTtcbiAgICB9KTtcbiAgICBjb25zdCB7dmVsb2NpdHl9ID0gZS5uYXRpdmVFdmVudDtcbiAgICBpZiAodmVsb2NpdHkpIHtcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmVsb2NpdHkgPSB0aGlzLl9zZWxlY3RPZmZzZXQodmVsb2NpdHkpO1xuICAgIH1cbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gICAgdGhpcy5wcm9wcy5vblNjcm9sbEVuZERyYWcgJiYgdGhpcy5wcm9wcy5vblNjcm9sbEVuZERyYWcoZSk7XG4gIH07XG5cbiAgdW5zdGFibGVfb25Nb21lbnR1bVNjcm9sbEJlZ2luKGU6IFNjcm9sbEV2ZW50KSB7XG4gICAgdGhpcy5fb25Nb21lbnR1bVNjcm9sbEJlZ2luKGUpO1xuICB9XG5cbiAgX29uTW9tZW50dW1TY3JvbGxCZWdpbiA9IChlOiBTY3JvbGxFdmVudCk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0Ll9vbk1vbWVudHVtU2Nyb2xsQmVnaW4oZSk7XG4gICAgfSk7XG4gICAgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsQmVnaW4gJiYgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsQmVnaW4oZSk7XG4gIH07XG5cbiAgdW5zdGFibGVfb25Nb21lbnR1bVNjcm9sbEVuZChlOiBTY3JvbGxFdmVudCkge1xuICAgIHRoaXMuX29uTW9tZW50dW1TY3JvbGxFbmQoZSk7XG4gIH1cblxuICBfb25Nb21lbnR1bVNjcm9sbEVuZCA9IChlOiBTY3JvbGxFdmVudCk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0Ll9vbk1vbWVudHVtU2Nyb2xsRW5kKGUpO1xuICAgIH0pO1xuICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmVsb2NpdHkgPSAwO1xuICAgIHRoaXMuX2NvbXB1dGVCbGFua25lc3MoKTtcbiAgICB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxFbmQgJiYgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsRW5kKGUpO1xuICB9O1xuXG4gIF91cGRhdGVDZWxsc1RvUmVuZGVyID0gKCkgPT4ge1xuICAgIHRoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXModGhpcy5wcm9wcywgdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0KTtcblxuICAgIHRoaXMuc2V0U3RhdGU8J2NlbGxzQXJvdW5kVmlld3BvcnQnIHwgJ3JlbmRlck1hc2snPigoc3RhdGUsIHByb3BzKSA9PiB7XG4gICAgICBjb25zdCBjZWxsc0Fyb3VuZFZpZXdwb3J0ID0gdGhpcy5fYWRqdXN0Q2VsbHNBcm91bmRWaWV3cG9ydChcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQsXG4gICAgICAgIHN0YXRlLnBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudCxcbiAgICAgICk7XG4gICAgICBjb25zdCByZW5kZXJNYXNrID0gVmlydHVhbGl6ZWRMaXN0Ll9jcmVhdGVSZW5kZXJNYXNrKFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydCxcbiAgICAgICAgdGhpcy5fZ2V0Tm9uVmlld3BvcnRSZW5kZXJSZWdpb25zKHByb3BzKSxcbiAgICAgICk7XG5cbiAgICAgIGlmIChcbiAgICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydC5maXJzdCA9PT0gc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5maXJzdCAmJlxuICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPT09IHN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCAmJlxuICAgICAgICByZW5kZXJNYXNrLmVxdWFscyhzdGF0ZS5yZW5kZXJNYXNrKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge2NlbGxzQXJvdW5kVmlld3BvcnQsIHJlbmRlck1hc2t9O1xuICAgIH0pO1xuICB9O1xuXG4gIF9jcmVhdGVWaWV3VG9rZW4gPSAoXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBpc1ZpZXdhYmxlOiBib29sZWFuLFxuICAgIHByb3BzOiBDZWxsTWV0cmljUHJvcHMsXG4gICAgLy8gJEZsb3dGaXhNZVttaXNzaW5nLWxvY2FsLWFubm90XVxuICApID0+IHtcbiAgICBjb25zdCB7ZGF0YSwgZ2V0SXRlbX0gPSBwcm9wcztcbiAgICBjb25zdCBpdGVtID0gZ2V0SXRlbShkYXRhLCBpbmRleCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGluZGV4LFxuICAgICAgaXRlbSxcbiAgICAgIGtleTogVmlydHVhbGl6ZWRMaXN0Ll9rZXlFeHRyYWN0b3IoaXRlbSwgaW5kZXgsIHByb3BzKSxcbiAgICAgIGlzVmlld2FibGUsXG4gICAgfTtcbiAgfTtcblxuICBfX2dldExpc3RNZXRyaWNzKCk6IExpc3RNZXRyaWNzQWdncmVnYXRvciB7XG4gICAgcmV0dXJuIHRoaXMuX2xpc3RNZXRyaWNzO1xuICB9XG5cbiAgX2dldE5vblZpZXdwb3J0UmVuZGVyUmVnaW9ucyA9IChcbiAgICBwcm9wczogQ2VsbE1ldHJpY1Byb3BzLFxuICApOiAkUmVhZE9ubHlBcnJheTx7XG4gICAgZmlyc3Q6IG51bWJlcixcbiAgICBsYXN0OiBudW1iZXIsXG4gIH0+ID0+IHtcbiAgICAvLyBLZWVwIGEgdmlld3BvcnQncyB3b3J0aCBvZiBjb250ZW50IGFyb3VuZCB0aGUgbGFzdCBmb2N1c2VkIGNlbGwgdG8gYWxsb3dcbiAgICAvLyByYW5kb20gbmF2aWdhdGlvbiBhcm91bmQgaXQgd2l0aG91dCBhbnkgYmxhbmtpbmcuIEUuZy4gdGFiYmluZyBmcm9tIG9uZVxuICAgIC8vIGZvY3VzZWQgaXRlbSBvdXQgb2Ygdmlld3BvcnQgdG8gYW5vdGhlci5cbiAgICBpZiAoXG4gICAgICAhKHRoaXMuX2xhc3RGb2N1c2VkQ2VsbEtleSAmJiB0aGlzLl9jZWxsUmVmc1t0aGlzLl9sYXN0Rm9jdXNlZENlbGxLZXldKVxuICAgICkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGNvbnN0IGxhc3RGb2N1c2VkQ2VsbFJlbmRlcmVyID0gdGhpcy5fY2VsbFJlZnNbdGhpcy5fbGFzdEZvY3VzZWRDZWxsS2V5XTtcbiAgICBjb25zdCBmb2N1c2VkQ2VsbEluZGV4ID0gbGFzdEZvY3VzZWRDZWxsUmVuZGVyZXIucHJvcHMuaW5kZXg7XG4gICAgY29uc3QgaXRlbUNvdW50ID0gcHJvcHMuZ2V0SXRlbUNvdW50KHByb3BzLmRhdGEpO1xuXG4gICAgLy8gVGhlIGxhc3QgY2VsbCB3ZSByZW5kZXJlZCBtYXkgYmUgYXQgYSBuZXcgaW5kZXguIEJhaWwgaWYgd2UgZG9uJ3Qga25vd1xuICAgIC8vIHdoZXJlIGl0IGlzLlxuICAgIGlmIChcbiAgICAgIGZvY3VzZWRDZWxsSW5kZXggPj0gaXRlbUNvdW50IHx8XG4gICAgICBWaXJ0dWFsaXplZExpc3QuX2dldEl0ZW1LZXkocHJvcHMsIGZvY3VzZWRDZWxsSW5kZXgpICE9PVxuICAgICAgICB0aGlzLl9sYXN0Rm9jdXNlZENlbGxLZXlcbiAgICApIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBsZXQgZmlyc3QgPSBmb2N1c2VkQ2VsbEluZGV4O1xuICAgIGxldCBoZWlnaHRPZkNlbGxzQmVmb3JlRm9jdXNlZCA9IDA7XG4gICAgZm9yIChcbiAgICAgIGxldCBpID0gZmlyc3QgLSAxO1xuICAgICAgaSA+PSAwICYmIGhlaWdodE9mQ2VsbHNCZWZvcmVGb2N1c2VkIDwgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuICAgICAgaS0tXG4gICAgKSB7XG4gICAgICBmaXJzdC0tO1xuICAgICAgaGVpZ2h0T2ZDZWxsc0JlZm9yZUZvY3VzZWQgKz0gdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q2VsbE1ldHJpY3NBcHByb3goXG4gICAgICAgIGksXG4gICAgICAgIHByb3BzLFxuICAgICAgKS5sZW5ndGg7XG4gICAgfVxuXG4gICAgbGV0IGxhc3QgPSBmb2N1c2VkQ2VsbEluZGV4O1xuICAgIGxldCBoZWlnaHRPZkNlbGxzQWZ0ZXJGb2N1c2VkID0gMDtcbiAgICBmb3IgKFxuICAgICAgbGV0IGkgPSBsYXN0ICsgMTtcbiAgICAgIGkgPCBpdGVtQ291bnQgJiZcbiAgICAgIGhlaWdodE9mQ2VsbHNBZnRlckZvY3VzZWQgPCB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGg7XG4gICAgICBpKytcbiAgICApIHtcbiAgICAgIGxhc3QrKztcbiAgICAgIGhlaWdodE9mQ2VsbHNBZnRlckZvY3VzZWQgKz0gdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q2VsbE1ldHJpY3NBcHByb3goXG4gICAgICAgIGksXG4gICAgICAgIHByb3BzLFxuICAgICAgKS5sZW5ndGg7XG4gICAgfVxuXG4gICAgcmV0dXJuIFt7Zmlyc3QsIGxhc3R9XTtcbiAgfTtcblxuICBfdXBkYXRlVmlld2FibGVJdGVtcyhcbiAgICBwcm9wczogQ2VsbE1ldHJpY1Byb3BzLFxuICAgIGNlbGxzQXJvdW5kVmlld3BvcnQ6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9LFxuICApIHtcbiAgICAvLyBJZiB3ZSBoYXZlIGFueSBwZW5kaW5nIHNjcm9sbCB1cGRhdGVzIGl0IG1lYW5zIHRoYXQgdGhlIHNjcm9sbCBtZXRyaWNzXG4gICAgLy8gYXJlIG91dCBvZiBkYXRlIGFuZCB3ZSBzaG91bGQgbm90IGNhbGwgYW55IG9mIHRoZSB2aXNpYmlsaXR5IGNhbGxiYWNrcy5cbiAgICBpZiAodGhpcy5zdGF0ZS5wZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQgPiAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2godHVwbGUgPT4ge1xuICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIub25VcGRhdGUoXG4gICAgICAgIHByb3BzLFxuICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldCxcbiAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoLFxuICAgICAgICB0aGlzLl9saXN0TWV0cmljcyxcbiAgICAgICAgdGhpcy5fY3JlYXRlVmlld1Rva2VuLFxuICAgICAgICB0dXBsZS5vblZpZXdhYmxlSXRlbXNDaGFuZ2VkLFxuICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0LFxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxufVxuXG5jb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gIHZlcnRpY2FsbHlJbnZlcnRlZDpcbiAgICBQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnXG4gICAgICA/IHt0cmFuc2Zvcm06IFt7c2NhbGU6IC0xfV19XG4gICAgICA6IHt0cmFuc2Zvcm06IFt7c2NhbGVZOiAtMX1dfSxcbiAgaG9yaXpvbnRhbGx5SW52ZXJ0ZWQ6IHtcbiAgICB0cmFuc2Zvcm06IFt7c2NhbGVYOiAtMX1dLFxuICB9LFxuICBkZWJ1Zzoge1xuICAgIGZsZXg6IDEsXG4gIH0sXG4gIGRlYnVnT3ZlcmxheUJhc2U6IHtcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICB0b3A6IDAsXG4gICAgcmlnaHQ6IDAsXG4gIH0sXG4gIGRlYnVnT3ZlcmxheToge1xuICAgIGJvdHRvbTogMCxcbiAgICB3aWR0aDogMjAsXG4gICAgYm9yZGVyQ29sb3I6ICdibHVlJyxcbiAgICBib3JkZXJXaWR0aDogMSxcbiAgfSxcbiAgZGVidWdPdmVybGF5RnJhbWU6IHtcbiAgICBsZWZ0OiAwLFxuICAgIGJhY2tncm91bmRDb2xvcjogJ29yYW5nZScsXG4gIH0sXG4gIGRlYnVnT3ZlcmxheUZyYW1lTGFzdDoge1xuICAgIGxlZnQ6IDAsXG4gICAgYm9yZGVyQ29sb3I6ICdncmVlbicsXG4gICAgYm9yZGVyV2lkdGg6IDIsXG4gIH0sXG4gIGRlYnVnT3ZlcmxheUZyYW1lVmlzOiB7XG4gICAgbGVmdDogMCxcbiAgICBib3JkZXJDb2xvcjogJ3JlZCcsXG4gICAgYm9yZGVyV2lkdGg6IDIsXG4gIH0sXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgVmlydHVhbGl6ZWRMaXN0O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBMkJBLElBQUFBLE1BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFFBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLGVBQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLG9CQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxlQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSyxzQkFBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU0sdUJBQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFPLGtCQUFBLEdBQUFSLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBUSw0QkFBQSxHQUFBVCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVMsdUJBQUEsR0FBQVQsT0FBQTtBQUtBLElBQUFVLHFCQUFBLEdBQUFWLE9BQUE7QUFRQSxJQUFBVyxnQkFBQSxHQUFBWCxPQUFBO0FBSUEsSUFBQVksVUFBQSxHQUFB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