{"version":3,"names":["_react","require","_useNetwork2","_interopRequireDefault","DEFAULT_ONLINE_DURATION","useNetworkBanner","_ref","arguments","length","undefined","_ref$duration","duration","_useNetwork","useNetwork","isOnline","isOffline","isLowQuality","networkQuality","_useState","useState","_useState2","_slicedToArray2","default","showOnlineBanner","setShowOnlineBanner","timeoutRef","useRef","wasOnlineRef","useEffect","current","clearTimeout","setTimeout","_default","exports"],"sources":["useNetworkBanner.js"],"sourcesContent":["/**\r\n * useNetworkBanner Hook\r\n * Provides transient online banner visibility on reconnect.\r\n * File: useNetworkBanner.js\r\n */\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport useNetwork from './useNetwork';\r\n\r\nconst DEFAULT_ONLINE_DURATION = 4000;\r\n\r\nconst useNetworkBanner = ({ duration = DEFAULT_ONLINE_DURATION } = {}) => {\r\n  const { isOnline, isOffline, isLowQuality, networkQuality } = useNetwork();\r\n  const [showOnlineBanner, setShowOnlineBanner] = useState(false);\r\n  const timeoutRef = useRef(null);\r\n  const wasOnlineRef = useRef(isOnline);\r\n\r\n  useEffect(() => {\r\n    if (isOnline && !wasOnlineRef.current) {\r\n      setShowOnlineBanner(true);\r\n      if (timeoutRef.current) {\r\n        clearTimeout(timeoutRef.current);\r\n      }\r\n      timeoutRef.current = setTimeout(() => {\r\n        setShowOnlineBanner(false);\r\n        timeoutRef.current = null;\r\n      }, duration);\r\n    }\r\n\r\n    if (!isOnline) {\r\n      setShowOnlineBanner(false);\r\n      if (timeoutRef.current) {\r\n        clearTimeout(timeoutRef.current);\r\n        timeoutRef.current = null;\r\n      }\r\n    }\r\n\r\n    wasOnlineRef.current = isOnline;\r\n  }, [duration, isOnline]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (timeoutRef.current) {\r\n        clearTimeout(timeoutRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return {\r\n    isOnline,\r\n    isOffline,\r\n    isLowQuality,\r\n    networkQuality,\r\n    showOnlineBanner,\r\n  };\r\n};\r\n\r\nexport default useNetworkBanner;\r\n"],"mappings":";;;;;;AAKA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,YAAA,GAAAC,sBAAA,CAAAF,OAAA;AAEA,IAAMG,uBAAuB,GAAG,IAAI;AAEpC,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA,EAAoD;EAAA,IAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAP,CAAC,CAAC;IAAAG,aAAA,GAAAJ,IAAA,CAAzCK,QAAQ;IAARA,QAAQ,GAAAD,aAAA,cAAGN,uBAAuB,GAAAM,aAAA;EAC5D,IAAAE,WAAA,GAA8D,IAAAC,oBAAU,EAAC,CAAC;IAAlEC,QAAQ,GAAAF,WAAA,CAARE,QAAQ;IAAEC,SAAS,GAAAH,WAAA,CAATG,SAAS;IAAEC,YAAY,GAAAJ,WAAA,CAAZI,YAAY;IAAEC,cAAc,GAAAL,WAAA,CAAdK,cAAc;EACzD,IAAAC,SAAA,GAAgD,IAAAC,eAAQ,EAAC,KAAK,CAAC;IAAAC,UAAA,OAAAC,eAAA,CAAAC,OAAA,EAAAJ,SAAA;IAAxDK,gBAAgB,GAAAH,UAAA;IAAEI,mBAAmB,GAAAJ,UAAA;EAC5C,IAAMK,UAAU,GAAG,IAAAC,aAAM,EAAC,IAAI,CAAC;EAC/B,IAAMC,YAAY,GAAG,IAAAD,aAAM,EAACZ,QAAQ,CAAC;EAErC,IAAAc,gBAAS,EAAC,YAAM;IACd,IAAId,QAAQ,IAAI,CAACa,YAAY,CAACE,OAAO,EAAE;MACrCL,mBAAmB,CAAC,IAAI,CAAC;MACzB,IAAIC,UAAU,CAACI,OAAO,EAAE;QACtBC,YAAY,CAACL,UAAU,CAACI,OAAO,CAAC;MAClC;MACAJ,UAAU,CAACI,OAAO,GAAGE,UAAU,CAAC,YAAM;QACpCP,mBAAmB,CAAC,KAAK,CAAC;QAC1BC,UAAU,CAACI,OAAO,GAAG,IAAI;MAC3B,CAAC,EAAElB,QAAQ,CAAC;IACd;IAEA,IAAI,CAACG,QAAQ,EAAE;MACbU,mBAAmB,CAAC,KAAK,CAAC;MAC1B,IAAIC,UAAU,CAACI,OAAO,EAAE;QACtBC,YAAY,CAACL,UAAU,CAACI,OAAO,CAAC;QAChCJ,UAAU,CAACI,OAAO,GAAG,IAAI;MAC3B;IACF;IAEAF,YAAY,CAACE,OAAO,GAAGf,QAAQ;EACjC,CAAC,EAAE,CAACH,QAAQ,EAAEG,QAAQ,CAAC,CAAC;EAExB,IAAAc,gBAAS,EAAC,YAAM;IACd,OAAO,YAAM;MACX,IAAIH,UAAU,CAACI,OAAO,EAAE;QACtBC,YAAY,CAACL,UAAU,CAACI,OAAO,CAAC;MAClC;IACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IACLf,QAAQ,EAARA,QAAQ;IACRC,SAAS,EAATA,SAAS;IACTC,YAAY,EAAZA,YAAY;IACZC,cAAc,EAAdA,cAAc;IACdM,gBAAgB,EAAhBA;EACF,CAAC;AACH,CAAC;AAAC,IAAAS,QAAA,GAAAC,OAAA,CAAAX,OAAA,GAEajB,gBAAgB","ignoreList":[]}