0f51a5de73993d69afe737807b8b5327
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.normalizeError = exports.handleError = void 0;
var _en = _interopRequireDefault(require("../i18n/locales/en.json"));
var _logging = require("../logging");
var getNestedValue = function getNestedValue(obj, path) {
  return String(path).split('.').reduce(function (current, key) {
    return current && current[key] !== undefined ? current[key] : undefined;
  }, obj);
};
var getSafeMessageForCode = function getSafeMessageForCode(code) {
  return getNestedValue(_en.default, `errors.codes.${code}`) || getNestedValue(_en.default, 'errors.codes.UNKNOWN_ERROR') || 'UNKNOWN_ERROR';
};
var extractErrorCode = function extractErrorCode(message) {
  if (!message || typeof message !== 'string') {
    return 'UNKNOWN_ERROR';
  }
  if (message.startsWith('errors.')) {
    var parts = message.split('.');
    var lastPart = parts[parts.length - 1];
    return lastPart.toUpperCase().replace(/-/g, '_');
  }
  var messageLower = message.toLowerCase();
  if (messageLower.includes('invalid credential')) {
    return 'INVALID_CREDENTIALS';
  }
  if (messageLower.includes('authentication required') || messageLower.includes('unauthorized')) {
    return 'UNAUTHORIZED';
  }
  if (messageLower.includes('access denied') || messageLower.includes('forbidden') || messageLower.includes('insufficient permission')) {
    return 'FORBIDDEN';
  }
  if (messageLower.includes('multiple tenant') || messageLower.includes('tenant selection')) {
    return 'MULTIPLE_TENANTS';
  }
  return 'UNKNOWN_ERROR';
};
var normalizeError = exports.normalizeError = function normalizeError(error) {
  var _error$message;
  if (!error) {
    var _safeMessage = getSafeMessageForCode('UNKNOWN_ERROR');
    return {
      code: 'UNKNOWN_ERROR',
      message: _safeMessage,
      safeMessage: _safeMessage,
      severity: 'error'
    };
  }
  if (error.code && typeof error.code === 'string' && error.code !== 'UNKNOWN_ERROR') {
    return error;
  }
  if (error.name === 'NetworkError' || (_error$message = error.message) != null && _error$message.includes('network') || typeof error.message === 'string' && error.message.toLowerCase().includes('failed to fetch')) {
    var _safeMessage2 = getSafeMessageForCode('NETWORK_ERROR');
    return {
      code: 'NETWORK_ERROR',
      message: _safeMessage2,
      safeMessage: _safeMessage2,
      severity: 'warning'
    };
  }
  if (error.status || error.statusCode) {
    var status = error.status || error.statusCode;
    var extractedCode = error.message ? extractErrorCode(error.message) : null;
    if (status === 401) {
      var _code = extractedCode || 'UNAUTHORIZED';
      var _safeMessage3 = getSafeMessageForCode(_code);
      var _rawMessage = error.message || _safeMessage3;
      return {
        code: _code,
        message: _rawMessage,
        safeMessage: _safeMessage3,
        severity: 'error'
      };
    }
    if (status === 403) {
      var _code2 = extractedCode || 'FORBIDDEN';
      var _safeMessage4 = getSafeMessageForCode(_code2);
      var _rawMessage2 = error.message || _safeMessage4;
      return {
        code: _code2,
        message: _rawMessage2,
        safeMessage: _safeMessage4,
        severity: 'error'
      };
    }
    if (status >= 500) {
      var _code3 = extractedCode || 'SERVER_ERROR';
      var _safeMessage5 = getSafeMessageForCode(_code3);
      var _rawMessage3 = error.message || _safeMessage5;
      return {
        code: _code3,
        message: _rawMessage3,
        safeMessage: _safeMessage5,
        severity: 'error'
      };
    }
    if (extractedCode && extractedCode !== 'UNKNOWN_ERROR') {
      var _safeMessage6 = getSafeMessageForCode(extractedCode);
      var _rawMessage4 = error.message || _safeMessage6;
      return {
        code: extractedCode,
        message: _rawMessage4,
        safeMessage: _safeMessage6,
        severity: 'error'
      };
    }
  }
  var code = error.code || (error.message ? extractErrorCode(error.message) : 'UNKNOWN_ERROR');
  var safeMessage = getSafeMessageForCode(code);
  var rawMessage = typeof error.message === 'string' && error.message.trim() ? error.message.trim() : safeMessage;
  return {
    code: code,
    message: rawMessage,
    safeMessage: safeMessage,
    severity: error.severity || 'error'
  };
};
var handleError = exports.handleError = function handleError(error) {
  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var normalized = normalizeError(error);
  _logging.logger.error('Handled error', {
    code: normalized.code,
    severity: normalized.severity,
    context: context && typeof context === 'object' ? context : {}
  });
  return normalized;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9sb2dnaW5nIiwiZ2V0TmVzdGVkVmFsdWUiLCJvYmoiLCJwYXRoIiwiU3RyaW5nIiwic3BsaXQiLCJyZWR1Y2UiLCJjdXJyZW50Iiwia2V5IiwidW5kZWZpbmVkIiwiZ2V0U2FmZU1lc3NhZ2VGb3JDb2RlIiwiY29kZSIsImVuIiwiZXh0cmFjdEVycm9yQ29kZSIsIm1lc3NhZ2UiLCJzdGFydHNXaXRoIiwicGFydHMiLCJsYXN0UGFydCIsImxlbmd0aCIsInRvVXBwZXJDYXNlIiwicmVwbGFjZSIsIm1lc3NhZ2VMb3dlciIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJub3JtYWxpemVFcnJvciIsImV4cG9ydHMiLCJlcnJvciIsIl9lcnJvciRtZXNzYWdlIiwic2FmZU1lc3NhZ2UiLCJzZXZlcml0eSIsIm5hbWUiLCJzdGF0dXMiLCJzdGF0dXNDb2RlIiwiZXh0cmFjdGVkQ29kZSIsInJhd01lc3NhZ2UiLCJ0cmltIiwiaGFuZGxlRXJyb3IiLCJjb250ZXh0IiwiYXJndW1lbnRzIiwibm9ybWFsaXplZCIsImxvZ2dlciJdLCJzb3VyY2VzIjpbImVycm9yLmhhbmRsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEVycm9yIEhhbmRsZXJcclxuICogTm9ybWFsaXplcyBlcnJvcnMgdG8gZG9tYWluLXNhZmUgb2JqZWN0c1xyXG4gKiBGaWxlOiBlcnJvci5oYW5kbGVyLmpzXHJcbiAqL1xyXG5pbXBvcnQgZW4gZnJvbSAnQGkxOG4vbG9jYWxlcy9lbi5qc29uJztcclxuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnQGxvZ2dpbmcnO1xyXG5cclxuY29uc3QgZ2V0TmVzdGVkVmFsdWUgPSAob2JqLCBwYXRoKSA9PiB7XHJcbiAgcmV0dXJuIFN0cmluZyhwYXRoKVxyXG4gICAgLnNwbGl0KCcuJylcclxuICAgIC5yZWR1Y2UoKGN1cnJlbnQsIGtleSkgPT4gKGN1cnJlbnQgJiYgY3VycmVudFtrZXldICE9PSB1bmRlZmluZWQgPyBjdXJyZW50W2tleV0gOiB1bmRlZmluZWQpLCBvYmopO1xyXG59O1xyXG5cclxuY29uc3QgZ2V0U2FmZU1lc3NhZ2VGb3JDb2RlID0gKGNvZGUpID0+IHtcclxuICByZXR1cm4gKFxyXG4gICAgZ2V0TmVzdGVkVmFsdWUoZW4sIGBlcnJvcnMuY29kZXMuJHtjb2RlfWApIHx8XHJcbiAgICBnZXROZXN0ZWRWYWx1ZShlbiwgJ2Vycm9ycy5jb2Rlcy5VTktOT1dOX0VSUk9SJykgfHxcclxuICAgICdVTktOT1dOX0VSUk9SJ1xyXG4gICk7XHJcbn07XHJcblxyXG4vKipcclxuICogRXh0cmFjdCBlcnJvciBjb2RlIGZyb20gYmFja2VuZCBtZXNzYWdlXHJcbiAqIEJhY2tlbmQgbWF5IHNlbmQgdHJhbnNsYXRpb24ga2V5cyBsaWtlIFwiZXJyb3JzLmF1dGguaW52YWxpZF9jcmVkZW50aWFsc1wiXHJcbiAqIG9yIGFscmVhZHkgdHJhbnNsYXRlZCBtZXNzYWdlcyBsaWtlIFwiSW52YWxpZCBjcmVkZW50aWFsc1wiXHJcbiAqL1xyXG5jb25zdCBleHRyYWN0RXJyb3JDb2RlID0gKG1lc3NhZ2UpID0+IHtcclxuICBpZiAoIW1lc3NhZ2UgfHwgdHlwZW9mIG1lc3NhZ2UgIT09ICdzdHJpbmcnKSB7XHJcbiAgICByZXR1cm4gJ1VOS05PV05fRVJST1InO1xyXG4gIH1cclxuXHJcbiAgLy8gSWYgbWVzc2FnZSBpcyBhIHRyYW5zbGF0aW9uIGtleSAoc3RhcnRzIHdpdGggXCJlcnJvcnMuXCIpXHJcbiAgaWYgKG1lc3NhZ2Uuc3RhcnRzV2l0aCgnZXJyb3JzLicpKSB7XHJcbiAgICAvLyBFeHRyYWN0IHRoZSBsYXN0IHBhcnQgYXMgY29kZVxyXG4gICAgLy8gXCJlcnJvcnMuYXV0aC5pbnZhbGlkX2NyZWRlbnRpYWxzXCIgLT4gXCJJTlZBTElEX0NSRURFTlRJQUxTXCJcclxuICAgIC8vIFwiZXJyb3JzLmF1dGgubXVsdGlwbGVfdGVuYW50c1wiIC0+IFwiTVVMVElQTEVfVEVOQU5UU1wiXHJcbiAgICBjb25zdCBwYXJ0cyA9IG1lc3NhZ2Uuc3BsaXQoJy4nKTtcclxuICAgIGNvbnN0IGxhc3RQYXJ0ID0gcGFydHNbcGFydHMubGVuZ3RoIC0gMV07XHJcbiAgICAvLyBDb252ZXJ0IHNuYWtlX2Nhc2UgdG8gVVBQRVJfU05BS0VfQ0FTRVxyXG4gICAgcmV0dXJuIGxhc3RQYXJ0LnRvVXBwZXJDYXNlKCkucmVwbGFjZSgvLS9nLCAnXycpO1xyXG4gIH1cclxuXHJcbiAgLy8gTWFwIGNvbW1vbiB0cmFuc2xhdGVkIG1lc3NhZ2VzIHRvIGNvZGVzXHJcbiAgY29uc3QgbWVzc2FnZUxvd2VyID0gbWVzc2FnZS50b0xvd2VyQ2FzZSgpO1xyXG4gIGlmIChtZXNzYWdlTG93ZXIuaW5jbHVkZXMoJ2ludmFsaWQgY3JlZGVudGlhbCcpKSB7XHJcbiAgICByZXR1cm4gJ0lOVkFMSURfQ1JFREVOVElBTFMnO1xyXG4gIH1cclxuICBpZiAobWVzc2FnZUxvd2VyLmluY2x1ZGVzKCdhdXRoZW50aWNhdGlvbiByZXF1aXJlZCcpIHx8IG1lc3NhZ2VMb3dlci5pbmNsdWRlcygndW5hdXRob3JpemVkJykpIHtcclxuICAgIHJldHVybiAnVU5BVVRIT1JJWkVEJztcclxuICB9XHJcbiAgaWYgKG1lc3NhZ2VMb3dlci5pbmNsdWRlcygnYWNjZXNzIGRlbmllZCcpIHx8IG1lc3NhZ2VMb3dlci5pbmNsdWRlcygnZm9yYmlkZGVuJykgfHwgbWVzc2FnZUxvd2VyLmluY2x1ZGVzKCdpbnN1ZmZpY2llbnQgcGVybWlzc2lvbicpKSB7XHJcbiAgICByZXR1cm4gJ0ZPUkJJRERFTic7XHJcbiAgfVxyXG4gIGlmIChtZXNzYWdlTG93ZXIuaW5jbHVkZXMoJ211bHRpcGxlIHRlbmFudCcpIHx8IG1lc3NhZ2VMb3dlci5pbmNsdWRlcygndGVuYW50IHNlbGVjdGlvbicpKSB7XHJcbiAgICByZXR1cm4gJ01VTFRJUExFX1RFTkFOVFMnO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuICdVTktOT1dOX0VSUk9SJztcclxufTtcclxuXHJcbmNvbnN0IG5vcm1hbGl6ZUVycm9yID0gKGVycm9yKSA9PiB7XHJcbiAgaWYgKCFlcnJvcikge1xyXG4gICAgY29uc3Qgc2FmZU1lc3NhZ2UgPSBnZXRTYWZlTWVzc2FnZUZvckNvZGUoJ1VOS05PV05fRVJST1InKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGNvZGU6ICdVTktOT1dOX0VSUk9SJyxcclxuICAgICAgbWVzc2FnZTogc2FmZU1lc3NhZ2UsXHJcbiAgICAgIHNhZmVNZXNzYWdlLFxyXG4gICAgICBzZXZlcml0eTogJ2Vycm9yJyxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBJZiBlcnJvciBpcyBhbHJlYWR5IG5vcm1hbGl6ZWQgKGhhcyBjb2RlIHByb3BlcnR5KSwgcmV0dXJuIGFzLWlzXHJcbiAgaWYgKGVycm9yLmNvZGUgJiYgdHlwZW9mIGVycm9yLmNvZGUgPT09ICdzdHJpbmcnICYmIGVycm9yLmNvZGUgIT09ICdVTktOT1dOX0VSUk9SJykge1xyXG4gICAgcmV0dXJuIGVycm9yO1xyXG4gIH1cclxuXHJcbiAgLy8gTmV0d29yayBlcnJvcnMgKGJyb3dzZXIgb2Z0ZW4gdGhyb3dzIFR5cGVFcnJvciB3aXRoIFwiRmFpbGVkIHRvIGZldGNoXCIpXHJcbiAgaWYgKFxyXG4gICAgZXJyb3IubmFtZSA9PT0gJ05ldHdvcmtFcnJvcicgfHxcclxuICAgIGVycm9yLm1lc3NhZ2U/LmluY2x1ZGVzKCduZXR3b3JrJykgfHxcclxuICAgICh0eXBlb2YgZXJyb3IubWVzc2FnZSA9PT0gJ3N0cmluZycgJiYgZXJyb3IubWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdmYWlsZWQgdG8gZmV0Y2gnKSlcclxuICApIHtcclxuICAgIGNvbnN0IHNhZmVNZXNzYWdlID0gZ2V0U2FmZU1lc3NhZ2VGb3JDb2RlKCdORVRXT1JLX0VSUk9SJyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBjb2RlOiAnTkVUV09SS19FUlJPUicsXHJcbiAgICAgIG1lc3NhZ2U6IHNhZmVNZXNzYWdlLFxyXG4gICAgICBzYWZlTWVzc2FnZSxcclxuICAgICAgc2V2ZXJpdHk6ICd3YXJuaW5nJyxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBBUEkgZXJyb3JzXHJcbiAgaWYgKGVycm9yLnN0YXR1cyB8fCBlcnJvci5zdGF0dXNDb2RlKSB7XHJcbiAgICBjb25zdCBzdGF0dXMgPSBlcnJvci5zdGF0dXMgfHwgZXJyb3Iuc3RhdHVzQ29kZTtcclxuICAgIFxyXG4gICAgLy8gRXh0cmFjdCBlcnJvciBjb2RlIGZyb20gYmFja2VuZCBtZXNzYWdlIGlmIGF2YWlsYWJsZVxyXG4gICAgY29uc3QgZXh0cmFjdGVkQ29kZSA9IGVycm9yLm1lc3NhZ2UgPyBleHRyYWN0RXJyb3JDb2RlKGVycm9yLm1lc3NhZ2UpIDogbnVsbDtcclxuICAgIFxyXG4gICAgaWYgKHN0YXR1cyA9PT0gNDAxKSB7XHJcbiAgICAgIC8vIFByZWZlciBJTlZBTElEX0NSRURFTlRJQUxTIGZvciBsb2dpbiBlcnJvcnMsIFVOQVVUSE9SSVpFRCBmb3IgZ2VuZXJhbCBhdXRoIGVycm9yc1xyXG4gICAgICBjb25zdCBjb2RlID0gZXh0cmFjdGVkQ29kZSB8fCAnVU5BVVRIT1JJWkVEJztcclxuICAgICAgY29uc3Qgc2FmZU1lc3NhZ2UgPSBnZXRTYWZlTWVzc2FnZUZvckNvZGUoY29kZSk7XHJcbiAgICAgIGNvbnN0IHJhd01lc3NhZ2UgPSBlcnJvci5tZXNzYWdlIHx8IHNhZmVNZXNzYWdlO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGNvZGUsXHJcbiAgICAgICAgbWVzc2FnZTogcmF3TWVzc2FnZSxcclxuICAgICAgICBzYWZlTWVzc2FnZSxcclxuICAgICAgICBzZXZlcml0eTogJ2Vycm9yJyxcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIGlmIChzdGF0dXMgPT09IDQwMykge1xyXG4gICAgICBjb25zdCBjb2RlID0gZXh0cmFjdGVkQ29kZSB8fCAnRk9SQklEREVOJztcclxuICAgICAgY29uc3Qgc2FmZU1lc3NhZ2UgPSBnZXRTYWZlTWVzc2FnZUZvckNvZGUoY29kZSk7XHJcbiAgICAgIGNvbnN0IHJhd01lc3NhZ2UgPSBlcnJvci5tZXNzYWdlIHx8IHNhZmVNZXNzYWdlO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGNvZGUsXHJcbiAgICAgICAgbWVzc2FnZTogcmF3TWVzc2FnZSxcclxuICAgICAgICBzYWZlTWVzc2FnZSxcclxuICAgICAgICBzZXZlcml0eTogJ2Vycm9yJyxcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIGlmIChzdGF0dXMgPj0gNTAwKSB7XHJcbiAgICAgIGNvbnN0IGNvZGUgPSBleHRyYWN0ZWRDb2RlIHx8ICdTRVJWRVJfRVJST1InO1xyXG4gICAgICBjb25zdCBzYWZlTWVzc2FnZSA9IGdldFNhZmVNZXNzYWdlRm9yQ29kZShjb2RlKTtcclxuICAgICAgY29uc3QgcmF3TWVzc2FnZSA9IGVycm9yLm1lc3NhZ2UgfHwgc2FmZU1lc3NhZ2U7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgY29kZSxcclxuICAgICAgICBtZXNzYWdlOiByYXdNZXNzYWdlLFxyXG4gICAgICAgIHNhZmVNZXNzYWdlLFxyXG4gICAgICAgIHNldmVyaXR5OiAnZXJyb3InLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBGb3Igb3RoZXIgc3RhdHVzIGNvZGVzLCB1c2UgZXh0cmFjdGVkIGNvZGUgb3IgZGVmYXVsdFxyXG4gICAgaWYgKGV4dHJhY3RlZENvZGUgJiYgZXh0cmFjdGVkQ29kZSAhPT0gJ1VOS05PV05fRVJST1InKSB7XHJcbiAgICAgIGNvbnN0IHNhZmVNZXNzYWdlID0gZ2V0U2FmZU1lc3NhZ2VGb3JDb2RlKGV4dHJhY3RlZENvZGUpO1xyXG4gICAgICBjb25zdCByYXdNZXNzYWdlID0gZXJyb3IubWVzc2FnZSB8fCBzYWZlTWVzc2FnZTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBjb2RlOiBleHRyYWN0ZWRDb2RlLFxyXG4gICAgICAgIG1lc3NhZ2U6IHJhd01lc3NhZ2UsXHJcbiAgICAgICAgc2FmZU1lc3NhZ2UsXHJcbiAgICAgICAgc2V2ZXJpdHk6ICdlcnJvcicsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBFeHRyYWN0IGNvZGUgZnJvbSBtZXNzYWdlIGlmIG5vIGV4cGxpY2l0IGNvZGUgcHJvdmlkZWRcclxuICBjb25zdCBjb2RlID0gZXJyb3IuY29kZSB8fCAoZXJyb3IubWVzc2FnZSA/IGV4dHJhY3RFcnJvckNvZGUoZXJyb3IubWVzc2FnZSkgOiAnVU5LTk9XTl9FUlJPUicpO1xyXG4gIGNvbnN0IHNhZmVNZXNzYWdlID0gZ2V0U2FmZU1lc3NhZ2VGb3JDb2RlKGNvZGUpO1xyXG4gIGNvbnN0IHJhd01lc3NhZ2UgPVxyXG4gICAgdHlwZW9mIGVycm9yLm1lc3NhZ2UgPT09ICdzdHJpbmcnICYmIGVycm9yLm1lc3NhZ2UudHJpbSgpXHJcbiAgICAgID8gZXJyb3IubWVzc2FnZS50cmltKClcclxuICAgICAgOiBzYWZlTWVzc2FnZTtcclxuXHJcbiAgLy8gRGVmYXVsdFxyXG4gIHJldHVybiB7XHJcbiAgICBjb2RlLFxyXG4gICAgbWVzc2FnZTogcmF3TWVzc2FnZSxcclxuICAgIHNhZmVNZXNzYWdlLFxyXG4gICAgc2V2ZXJpdHk6IGVycm9yLnNldmVyaXR5IHx8ICdlcnJvcicsXHJcbiAgfTtcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZUVycm9yID0gKGVycm9yLCBjb250ZXh0ID0ge30pID0+IHtcclxuICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplRXJyb3IoZXJyb3IpO1xyXG4gIGxvZ2dlci5lcnJvcignSGFuZGxlZCBlcnJvcicsIHtcclxuICAgIGNvZGU6IG5vcm1hbGl6ZWQuY29kZSxcclxuICAgIHNldmVyaXR5OiBub3JtYWxpemVkLnNldmVyaXR5LFxyXG4gICAgY29udGV4dDogY29udGV4dCAmJiB0eXBlb2YgY29udGV4dCA9PT0gJ29iamVjdCcgPyBjb250ZXh0IDoge30sXHJcbiAgfSk7XHJcbiAgcmV0dXJuIG5vcm1hbGl6ZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgeyBub3JtYWxpemVFcnJvciwgaGFuZGxlRXJyb3IgfTtcclxuXHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFLQSxJQUFBQSxHQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxRQUFBLEdBQUFELE9BQUE7QUFFQSxJQUFNRSxjQUFjLEdBQUcsU0FBakJBLGNBQWNBLENBQUlDLEdBQUcsRUFBRUMsSUFBSSxFQUFLO0VBQ3BDLE9BQU9DLE1BQU0sQ0FBQ0QsSUFBSSxDQUFDLENBQ2hCRSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQ1ZDLE1BQU0sQ0FBQyxVQUFDQyxPQUFPLEVBQUVDLEdBQUc7SUFBQSxPQUFNRCxPQUFPLElBQUlBLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLEtBQUtDLFNBQVMsR0FBR0YsT0FBTyxDQUFDQyxHQUFHLENBQUMsR0FBR0MsU0FBUztFQUFBLENBQUMsRUFBRVAsR0FBRyxDQUFDO0FBQ3RHLENBQUM7QUFFRCxJQUFNUSxxQkFBcUIsR0FBRyxTQUF4QkEscUJBQXFCQSxDQUFJQyxJQUFJLEVBQUs7RUFDdEMsT0FDRVYsY0FBYyxDQUFDVyxXQUFFLEVBQUUsZ0JBQWdCRCxJQUFJLEVBQUUsQ0FBQyxJQUMxQ1YsY0FBYyxDQUFDVyxXQUFFLEVBQUUsNEJBQTRCLENBQUMsSUFDaEQsZUFBZTtBQUVuQixDQUFDO0FBT0QsSUFBTUMsZ0JBQWdCLEdBQUcsU0FBbkJBLGdCQUFnQkEsQ0FBSUMsT0FBTyxFQUFLO0VBQ3BDLElBQUksQ0FBQ0EsT0FBTyxJQUFJLE9BQU9BLE9BQU8sS0FBSyxRQUFRLEVBQUU7SUFDM0MsT0FBTyxlQUFlO0VBQ3hCO0VBR0EsSUFBSUEsT0FBTyxDQUFDQyxVQUFVLENBQUMsU0FBUyxDQUFDLEVBQUU7SUFJakMsSUFBTUMsS0FBSyxHQUFHRixPQUFPLENBQUNULEtBQUssQ0FBQyxHQUFHLENBQUM7SUFDaEMsSUFBTVks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