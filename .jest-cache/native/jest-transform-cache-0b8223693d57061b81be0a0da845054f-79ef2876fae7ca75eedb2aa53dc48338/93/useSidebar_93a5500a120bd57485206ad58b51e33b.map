{"version":3,"names":["React","useRouter","usePathname","useAuth","cov_1rv7wfkv1d","s","useSidebar","_ref","arguments","length","undefined","b","_ref$items","items","f","router","pathname","_ref2","user","isAuthenticated","_ref3","useState","_ref4","_slicedToArray","expandedSections","setExpandedSections","userRole","role","isItemActive","item","href","startsWith","isItemVisible","roles","includes","toggleSection","sectionId","prev","Object","assign","_defineProperty","handleItemPress","push","onPress","filteredItems","useMemo","filter"],"sources":["useSidebar.js"],"sourcesContent":["/**\r\n * useSidebar Hook\r\n * Shared logic for Sidebar component\r\n * File: useSidebar.js\r\n */\r\nimport React from 'react';\r\nimport { useRouter, usePathname } from 'expo-router';\r\nimport { useAuth } from '@hooks';\r\n\r\n/**\r\n * Sidebar hook\r\n * @param {Object} options - Hook options\r\n * @param {Array} options.items - Navigation items\r\n * @returns {Object} Sidebar state and handlers\r\n */\r\nconst useSidebar = ({ items = [] } = {}) => {\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const { user, isAuthenticated } = useAuth();\r\n  const [expandedSections, setExpandedSections] = React.useState({});\r\n\r\n  const userRole = user?.role || 'buyer';\r\n\r\n  const isItemActive = (item) => {\r\n    if (!item.href) return false;\r\n    return pathname === item.href || pathname.startsWith(item.href + '/');\r\n  };\r\n\r\n  const isItemVisible = (item) => {\r\n    // Check role-based visibility\r\n    if (item.roles && item.roles.length > 0) {\r\n      if (!isAuthenticated) return false;\r\n      return item.roles.includes(userRole);\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const toggleSection = (sectionId) => {\r\n    setExpandedSections((prev) => ({\r\n      ...prev,\r\n      [sectionId]: !prev[sectionId],\r\n    }));\r\n  };\r\n\r\n  const handleItemPress = (item) => {\r\n    if (item.href) {\r\n      router.push(item.href);\r\n    }\r\n    if (item.onPress) {\r\n      item.onPress(item);\r\n    }\r\n  };\r\n\r\n  const filteredItems = React.useMemo(() => {\r\n    return items.filter(isItemVisible);\r\n  }, [items, userRole, isAuthenticated]);\r\n\r\n  return {\r\n    userRole,\r\n    isAuthenticated,\r\n    pathname,\r\n    expandedSections,\r\n    filteredItems,\r\n    isItemActive,\r\n    toggleSection,\r\n    handleItemPress,\r\n  };\r\n};\r\n\r\nexport default useSidebar;\r\n\r\n"],"mappings":"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","ignoreList":[]}