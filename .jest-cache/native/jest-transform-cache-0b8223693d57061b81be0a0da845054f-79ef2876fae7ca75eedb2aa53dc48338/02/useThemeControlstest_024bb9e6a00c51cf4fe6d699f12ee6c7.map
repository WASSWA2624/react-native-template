{"version":3,"names":["_getJestObj","mock","useI18n","t","key","locale","async","setItem","jest","fn","_interopRequireDefault","require","default","_react","_reactTestRenderer","_reactRedux","_toolkit","_rootReducer","_useThemeControls","_types","_storage","_jsxRuntime","_require","act","TestRenderer","createStore","preloadedState","configureStore","reducer","rootReducer","renderHook","hook","_ref","arguments","length","undefined","initialState","result","store","HookHarness","hookResult","Object","assign","renderer","create","jsx","Provider","children","current","rerender","update","describe","beforeEach","clearAllMocks","it","_renderHook","useThemeControls","ui","theme","THEME_MODES","DARK","isLoading","expect","toBe","options","toHaveLength","value","LIGHT","_renderHook2","_renderHook3","setTheme","getState","asyncStorage","toHaveBeenCalledWith","_renderHook4","not","toHaveBeenCalled","_renderHook5"],"sources":["useThemeControls.test.js"],"sourcesContent":["/**\r\n * useThemeControls Hook Tests\r\n * File: useThemeControls.test.js\r\n */\r\nimport React from 'react';\r\nimport TestRenderer from 'react-test-renderer';\r\nimport { Provider } from 'react-redux';\r\nimport { configureStore } from '@reduxjs/toolkit';\r\nimport rootReducer from '@store/rootReducer';\r\nimport useThemeControls from '@platform/components/navigation/ThemeControls/useThemeControls';\r\nimport { THEME_MODES } from '@platform/components/navigation/ThemeControls/types';\r\nimport { async as asyncStorage } from '@services/storage';\r\n\r\nconst act = TestRenderer.act;\r\n\r\njest.mock('@hooks', () => ({\r\n  useI18n: () => ({\r\n    t: (key) => key,\r\n    locale: 'en',\r\n  }),\r\n}));\r\n\r\njest.mock('@services/storage', () => ({\r\n  async: {\r\n    setItem: jest.fn(),\r\n  },\r\n}));\r\n\r\nconst createStore = (preloadedState) =>\r\n  configureStore({\r\n    reducer: rootReducer,\r\n    preloadedState,\r\n  });\r\n\r\nconst renderHook = (hook, { initialState } = {}) => {\r\n  const result = {};\r\n  const store = createStore(initialState);\r\n\r\n  const HookHarness = () => {\r\n    const hookResult = hook();\r\n    Object.assign(result, hookResult);\r\n    return null;\r\n  };\r\n\r\n  let renderer;\r\n  act(() => {\r\n    renderer = TestRenderer.create(\r\n      <Provider store={store}>\r\n        <HookHarness />\r\n      </Provider>\r\n    );\r\n  });\r\n\r\n  return {\r\n    result: { current: result },\r\n    store,\r\n    rerender: () => {\r\n      act(() => {\r\n        renderer.update(\r\n          <Provider store={store}>\r\n            <HookHarness />\r\n          </Provider>\r\n        );\r\n      });\r\n    },\r\n  };\r\n};\r\n\r\ndescribe('useThemeControls', () => {\r\n  beforeEach(() => {\r\n    jest.clearAllMocks();\r\n  });\r\n\r\n  it('returns theme options and resolved theme', () => {\r\n    const { result } = renderHook(useThemeControls, {\r\n      initialState: {\r\n        ui: { theme: THEME_MODES.DARK, locale: 'en', isLoading: false },\r\n      },\r\n    });\r\n\r\n    expect(result.current.theme).toBe(THEME_MODES.DARK);\r\n    expect(result.current.options).toHaveLength(3);\r\n    expect(result.current.options[0].value).toBe(THEME_MODES.LIGHT);\r\n  });\r\n\r\n  it('falls back to light theme when state is invalid', () => {\r\n    const { result } = renderHook(useThemeControls, {\r\n      initialState: {\r\n        ui: { theme: 'invalid', locale: 'en', isLoading: false },\r\n      },\r\n    });\r\n\r\n    expect(result.current.theme).toBe(THEME_MODES.LIGHT);\r\n  });\r\n\r\n  it('persists and dispatches when setting a valid theme', () => {\r\n    const { result, store } = renderHook(useThemeControls, {\r\n      initialState: {\r\n        ui: { theme: THEME_MODES.LIGHT, locale: 'en', isLoading: false },\r\n      },\r\n    });\r\n\r\n    act(() => {\r\n      result.current.setTheme(THEME_MODES.DARK);\r\n    });\r\n\r\n    expect(store.getState().ui.theme).toBe(THEME_MODES.DARK);\r\n    expect(asyncStorage.setItem).toHaveBeenCalledWith('theme_preference', THEME_MODES.DARK);\r\n  });\r\n\r\n  it('ignores invalid theme values', () => {\r\n    const { result, store } = renderHook(useThemeControls, {\r\n      initialState: {\r\n        ui: { theme: THEME_MODES.LIGHT, locale: 'en', isLoading: false },\r\n      },\r\n    });\r\n\r\n    act(() => {\r\n      result.current.setTheme('invalid-value');\r\n    });\r\n\r\n    expect(store.getState().ui.theme).toBe(THEME_MODES.LIGHT);\r\n    expect(asyncStorage.setItem).not.toHaveBeenCalled();\r\n  });\r\n\r\n  it('avoids persisting when theme is unchanged', () => {\r\n    const { result, store } = renderHook(useThemeControls, {\r\n      initialState: {\r\n        ui: { theme: THEME_MODES.LIGHT, locale: 'en', isLoading: false },\r\n      },\r\n    });\r\n\r\n    act(() => {\r\n      result.current.setTheme(THEME_MODES.LIGHT);\r\n    });\r\n\r\n    expect(store.getState().ui.theme).toBe(THEME_MODES.LIGHT);\r\n    expect(asyncStorage.setItem).not.toHaveBeenCalled();\r\n  });\r\n});\r\n"],"mappings":"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","ignoreList":[]}