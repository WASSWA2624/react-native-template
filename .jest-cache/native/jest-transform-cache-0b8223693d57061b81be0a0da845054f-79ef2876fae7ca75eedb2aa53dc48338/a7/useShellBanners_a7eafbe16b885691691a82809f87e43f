5839c162531766abaf665e741385ebf1
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = require("react");
var _useI18n2 = _interopRequireDefault(require("./useI18n"));
var _useNetworkBanner2 = _interopRequireDefault(require("./useNetworkBanner"));
var _feature = require("../config/feature.flags");
var _shellBanners = require("../utils/shellBanners");
var useShellBanners = function useShellBanners() {
  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
    maintenanceMode = _ref.maintenanceMode,
    maintenanceMessage = _ref.maintenanceMessage;
  var _useI18n = (0, _useI18n2.default)(),
    t = _useI18n.t;
  var _useNetworkBanner = (0, _useNetworkBanner2.default)(),
    isOffline = _useNetworkBanner.isOffline,
    isLowQuality = _useNetworkBanner.isLowQuality,
    showOnlineBanner = _useNetworkBanner.showOnlineBanner;
  var isMaintenanceMode = maintenanceMode != null ? maintenanceMode : _feature.MAINTENANCE_MODE;
  var maintenanceText = maintenanceMessage != null ? maintenanceMessage : _feature.MAINTENANCE_MESSAGE;
  return (0, _react.useMemo)(function () {
    var banners = [];
    if (isMaintenanceMode) {
      banners.push({
        id: 'maintenance',
        variant: _shellBanners.BANNER_VARIANTS.MAINTENANCE,
        title: t('shell.banners.maintenance.title'),
        message: maintenanceText || t('shell.banners.maintenance.message'),
        accessibilityLabel: t('shell.banners.maintenance.accessibilityLabel')
      });
    }
    if (isOffline) {
      banners.push({
        id: 'offline',
        variant: _shellBanners.BANNER_VARIANTS.OFFLINE,
        title: t('shell.banners.offline.title'),
        message: t('shell.banners.offline.message'),
        accessibilityLabel: t('shell.banners.offline.accessibilityLabel')
      });
    }
    if (isLowQuality) {
      banners.push({
        id: 'low-quality',
        variant: _shellBanners.BANNER_VARIANTS.LOW_QUALITY,
        title: t('shell.banners.lowQuality.title'),
        message: t('shell.banners.lowQuality.message'),
        accessibilityLabel: t('shell.banners.lowQuality.accessibilityLabel')
      });
    }
    if (showOnlineBanner) {
      banners.push({
        id: 'online',
        variant: _shellBanners.BANNER_VARIANTS.ONLINE,
        title: t('shell.banners.online.title'),
        message: t('shell.banners.online.message'),
        accessibilityLabel: t('shell.banners.online.accessibilityLabel')
      });
    }
    return banners;
  }, [isLowQuality, isMaintenanceMode, isOffline, maintenanceText, showOnlineBanner, t]);
};
var _default = exports.default = useShellBanners;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX3VzZUkxOG4yIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl91c2VOZXR3b3JrQmFubmVyMiIsIl9mZWF0dXJlIiwiX3NoZWxsQmFubmVycyIsInVzZVNoZWxsQmFubmVycyIsIl9yZWYiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJtYWludGVuYW5jZU1vZGUiLCJtYWludGVuYW5jZU1lc3NhZ2UiLCJfdXNlSTE4biIsInVzZUkxOG4iLCJ0IiwiX3VzZU5ldHdvcmtCYW5uZXIiLCJ1c2VOZXR3b3JrQmFubmVyIiwiaXNPZmZsaW5lIiwiaXNMb3dRdWFsaXR5Iiwic2hvd09ubGluZUJhbm5lciIsImlzTWFpbnRlbmFuY2VNb2RlIiwiTUFJTlRFTkFOQ0VfTU9ERSIsIm1haW50ZW5hbmNlVGV4dCIsIk1BSU5URU5BTkNFX01FU1NBR0UiLCJ1c2VNZW1vIiwiYmFubmVycyIsInB1c2giLCJpZCIsInZhcmlhbnQiLCJCQU5ORVJfVkFSSUFOVFMiLCJNQUlOVEVOQU5DRSIsInRpdGxlIiwibWVzc2FnZSIsImFjY2Vzc2liaWxpdHlMYWJlbCIsIk9GRkxJTkUiLCJMT1dfUVVBTElUWSIsIk9OTElORSIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlcyI6WyJ1c2VTaGVsbEJhbm5lcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIHVzZVNoZWxsQmFubmVycyBIb29rXHJcbiAqIFByb2R1Y2VzIGJhbm5lciBkYXRhIGZvciBnbG9iYWwgc2hlbGwgc3RhdHVzIG1lc3NhZ2luZy5cclxuICogRmlsZTogdXNlU2hlbGxCYW5uZXJzLmpzXHJcbiAqL1xyXG5pbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgdXNlSTE4biBmcm9tICdAaG9va3MvdXNlSTE4bic7XHJcbmltcG9ydCB1c2VOZXR3b3JrQmFubmVyIGZyb20gJ0Bob29rcy91c2VOZXR3b3JrQmFubmVyJztcclxuaW1wb3J0IHsgTUFJTlRFTkFOQ0VfTUVTU0FHRSwgTUFJTlRFTkFOQ0VfTU9ERSB9IGZyb20gJ0Bjb25maWcvZmVhdHVyZS5mbGFncyc7XHJcbmltcG9ydCB7IEJBTk5FUl9WQVJJQU5UUyB9IGZyb20gJ0B1dGlscy9zaGVsbEJhbm5lcnMnO1xyXG5cclxuY29uc3QgdXNlU2hlbGxCYW5uZXJzID0gKHsgbWFpbnRlbmFuY2VNb2RlLCBtYWludGVuYW5jZU1lc3NhZ2UgfSA9IHt9KSA9PiB7XHJcbiAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XHJcbiAgY29uc3QgeyBpc09mZmxpbmUsIGlzTG93UXVhbGl0eSwgc2hvd09ubGluZUJhbm5lciB9ID0gdXNlTmV0d29ya0Jhbm5lcigpO1xyXG4gIGNvbnN0IGlzTWFpbnRlbmFuY2VNb2RlID0gbWFpbnRlbmFuY2VNb2RlID8/IE1BSU5URU5BTkNFX01PREU7XHJcbiAgY29uc3QgbWFpbnRlbmFuY2VUZXh0ID0gbWFpbnRlbmFuY2VNZXNzYWdlID8/IE1BSU5URU5BTkNFX01FU1NBR0U7XHJcblxyXG4gIHJldHVybiB1c2VNZW1vKCgpID0+IHtcclxuICAgIGNvbnN0IGJhbm5lcnMgPSBbXTtcclxuXHJcbiAgICBpZiAoaXNNYWludGVuYW5jZU1vZGUpIHtcclxuICAgICAgYmFubmVycy5wdXNoKHtcclxuICAgICAgICBpZDogJ21haW50ZW5hbmNlJyxcclxuICAgICAgICB2YXJpYW50OiBCQU5ORVJfVkFSSUFOVFMuTUFJTlRFTkFOQ0UsXHJcbiAgICAgICAgdGl0bGU6IHQoJ3NoZWxsLmJhbm5lcnMubWFpbnRlbmFuY2UudGl0bGUnKSxcclxuICAgICAgICBtZXNzYWdlOiBtYWludGVuYW5jZVRleHQgfHwgdCgnc2hlbGwuYmFubmVycy5tYWludGVuYW5jZS5tZXNzYWdlJyksXHJcbiAgICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsOiB0KCdzaGVsbC5iYW5uZXJzLm1haW50ZW5hbmNlLmFjY2Vzc2liaWxpdHlMYWJlbCcpLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNPZmZsaW5lKSB7XHJcbiAgICAgIGJhbm5lcnMucHVzaCh7XHJcbiAgICAgICAgaWQ6ICdvZmZsaW5lJyxcclxuICAgICAgICB2YXJpYW50OiBCQU5ORVJfVkFSSUFOVFMuT0ZGTElORSxcclxuICAgICAgICB0aXRsZTogdCgnc2hlbGwuYmFubmVycy5vZmZsaW5lLnRpdGxlJyksXHJcbiAgICAgICAgbWVzc2FnZTogdCgnc2hlbGwuYmFubmVycy5vZmZsaW5lLm1lc3NhZ2UnKSxcclxuICAgICAgICBhY2Nlc3NpYmlsaXR5TGFiZWw6IHQoJ3NoZWxsLmJhbm5lcnMub2ZmbGluZS5hY2Nlc3NpYmlsaXR5TGFiZWwnKSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzTG93UXVhbGl0eSkge1xyXG4gICAgICBiYW5uZXJzLnB1c2goe1xyXG4gICAgICAgIGlkOiAnbG93LXF1YWxpdHknLFxyXG4gICAgICAgIHZhcmlhbnQ6IEJBTk5FUl9WQVJJQU5UUy5MT1dfUVVBTElUWSxcclxuICAgICAgICB0aXRsZTogdCgnc2hlbGwuYmFubmVycy5sb3dRdWFsaXR5LnRpdGxlJyksXHJcbiAgICAgICAgbWVzc2FnZTogdCgnc2hlbGwuYmFubmVycy5sb3dRdWFsaXR5Lm1lc3NhZ2UnKSxcclxuICAgICAgICBhY2Nlc3NpYmlsaXR5TGFiZWw6IHQoJ3NoZWxsLmJhbm5lcnMubG93UXVhbGl0eS5hY2Nlc3NpYmlsaXR5TGFiZWwnKSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNob3dPbmxpbmVCYW5uZXIpIHtcclxuICAgICAgYmFubmVycy5wdXNoKHtcclxuICAgICAgICBpZDogJ29ubGluZScsXHJcbiAgICAgICAgdmFyaWFudDogQkFOTkVSX1ZBUklBTlRTLk9OTElORSxcclxuICAgICAgICB0aXRsZTogdCgnc2hlbGwuYmFubmVycy5vbmxpbmUudGl0bGUnKSxcclxuICAgICAgICBtZXNzYWdlOiB0KCdzaGVsbC5iYW5uZXJzLm9ubGluZS5tZXNzYWdlJyksXHJcbiAgICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsOiB0KCdzaGVsbC5iYW5uZXJzLm9ubGluZS5hY2Nlc3NpYmlsaXR5TGFiZWwnKSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGJhbm5lcnM7XHJcbiAgfSwgW2lzTG93UXVhbGl0eSwgaXNNYWludGVuYW5jZU1vZGUsIGlzT2ZmbGluZSwgbWFpbnRlbmFuY2VUZXh0LCBzaG93T25saW5lQmFubmVyLCB0XSk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB1c2VTaGVsbEJhbm5lcnM7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFLQSxJQUFBQSxNQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxTQUFBLEdBQUFDLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBRyxrQkFBQSxHQUFBRCxzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQUksUUFBQSxHQUFBSixPQUFBO0FBQ0EsSUFBQUssYUFBQSxHQUFBTCxPQUFBO0FBRUEsSUFBTU0sZUFBZSxHQUFHLFNBQWxCQSxlQUFlQSxDQUFBLEVBQXFEO0VBQUEsSUFBQUMsSUFBQSxHQUFBQyxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBUCxDQUFDLENBQUM7SUFBMUNHLGVBQWUsR0FBQUosSUFBQSxDQUFmSSxlQUFlO0lBQUVDLGtCQUFrQixHQUFBTCxJQUFBLENBQWxCSyxrQkFBa0I7RUFDNUQsSUFBQUMsUUFBQSxHQUFjLElBQUFDLGlCQUFPLEVBQUMsQ0FBQztJQUFmQyxDQUFDLEdBQUFGLFFBQUEsQ0FBREUsQ0FBQztFQUNULElBQUFDLGlCQUFBLEdBQXNELElBQUFDLDBCQUFnQixFQUFDLENBQUM7SUFBaEVDLFNBQVMsR0FBQUYsaUJBQUEsQ0FBVEUsU0FBUztJQUFFQyxZQUFZLEdBQUFILGlCQUFBLENBQVpHLFlBQVk7SUFBRUMsZ0JBQWdCLEdBQUFKLGlCQUFBLENBQWhCSSxnQkFBZ0I7RUFDakQsSUFBTUMsaUJBQWlCLEdBQUdWLGVBQWUsV0FBZkEsZUFBZSxHQUFJVyx5QkFBZ0I7RUFDN0QsSUFBTUMsZUFBZSxHQUFHWCxrQkFBa0IsV0FBbEJBLGtCQUFrQixHQUFJWSw0QkFBbUI7RUFFakUsT0FBTyxJQUFBQyxjQUFPLEVBQUMsWUFBTTtJQUNuQixJQUFNQyxPQUFPLEdBQUcsRUFBRTtJQUVsQixJQUFJTCxpQkFBaUIsRUFBRTtNQUNyQkssT0FBTyxDQUFDQyxJQUFJLENBQUM7UUFDWEMsRUFBRSxFQUFFLGFBQWE7UUFDakJDLE9BQU8sRUFBRUMsNkJBQWUsQ0FBQ0MsV0FBVztRQUNwQ0MsS0FBSyxFQUFFakIsQ0FBQyxDQUFDLGlDQUFpQyxDQUFDO1FBQzNDa0IsT0FBTyxFQUFFVixlQUFlLElBQUlSLENBQUMsQ0FBQyxtQ0FBbUMsQ0FBQztRQUNsRW1CLGtCQUFrQixFQUFFbkIsQ0FBQyxDQUFDLDhDQUE4QztNQUN0RSxDQUFDLENBQUM7SUFDSjtJQUVBLElBQUlHLFNBQVMsRUFBRTtNQUNiUSxPQUFPLENBQUNDLElBQUksQ0FBQztRQUNYQyxFQUFFLEVBQUUsU0FBUztRQUNiQyxPQUFPLEVBQUVDLDZCQUFlLENBQUNLLE9BQU87UUFDaENILEtBQUssRUFBRWpCLENBQUMsQ0FBQyw2QkFBNkIsQ0FBQztRQUN2Q2tCLE9BQU8sRUFBRWxCLENBQUMsQ0FBQywrQkFBK0IsQ0FBQztRQUMzQ21CLGtCQUFrQixFQUFFbkIsQ0FBQyxDQUFDLDBDQUEwQztNQUNsRSxDQUFDLENBQUM7SUFDSjtJQUVBLElBQUlJLFlBQVksRUFBRTtNQUNoQk8sT0FBTyxDQUFDQyxJQUFJLENBQUM7UUFDWEMsRUFBRSxFQUFFLGFBQWE7UUFDakJDLE9BQU8sRUFBRUMsNkJBQWUsQ0FBQ00sV0FBVztRQUNwQ0osS0FBSyxFQUFFakIsQ0FBQyxDQUFDLGdDQUFnQyxDQUFDO1FBQzFDa0IsT0FBTyxFQUFFbEIsQ0FBQyxDQUFDLGtDQUFrQyxDQUFDO1FBQzlDbUIsa0JBQWtCLEVBQUVuQixDQUFDLENBQUMsNkNBQTZDO01BQ3JFLENBQUMsQ0FBQztJQUNKO0lBRUEsSUFBSUssZ0JBQWdCLEVBQUU7TUFDcEJNLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDO1FBQ1hDLEVBQUUsRUFBRSxRQUFRO1FBQ1pDLE9BQU8sRUFBRUMsNkJBQWUsQ0FBQ08sTUFBTTtRQUMvQkwsS0FBSyxFQUFFakIsQ0FBQyxDQUFDLDRCQUE0QixDQUFDO1FBQ3RDa0IsT0FBTyxFQUFFbEIsQ0FBQyxDQUFDLDhCQUE4QixDQUFDO1FBQzFDbUIsa0JBQWtCLEVBQUVuQixDQUFDLENBQUMseUNBQXlDO01BQ2pFLENBQUMsQ0FBQztJQUNKO0lBRUEsT0FBT1csT0FBTztFQUNoQixDQUFDLEVBQUUsQ0FBQ1AsWUFBWSxFQUFFRSxpQkFBaUIsRUFBRUgsU0FBUyxFQUFFSyxlQUFlLEVBQUVILGdCQUFnQixFQUFFTCxDQUFDLENBQUMsQ0FBQztBQUN4RixDQUFDO0FBQUMsSUFBQXVCLFFBQUEsR0FBQUMsT0FBQSxDQUFBQyxPQUFBLEdBRWFsQyxlQUFlIiwiaWdub3JlTGlzdCI6W119