63e8cd55a8bb281e9b634d46bb3859dd
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.normalizeError = exports.handleError = void 0;
var _en = _interopRequireDefault(require("../i18n/locales/en.json"));
var _logging = require("../logging");
var getNestedValue = function getNestedValue(obj, path) {
  return String(path).split('.').reduce(function (current, key) {
    return current && current[key] !== undefined ? current[key] : undefined;
  }, obj);
};
var getSafeMessageForCode = function getSafeMessageForCode(code) {
  return getNestedValue(_en.default, `errors.codes.${code}`) || getNestedValue(_en.default, 'errors.codes.UNKNOWN_ERROR') || 'UNKNOWN_ERROR';
};
var extractErrorCode = function extractErrorCode(message) {
  if (!message || typeof message !== 'string') {
    return 'UNKNOWN_ERROR';
  }
  if (message.startsWith('errors.')) {
    var parts = message.split('.');
    var lastPart = parts[parts.length - 1];
    return lastPart.toUpperCase().replace(/-/g, '_');
  }
  var messageLower = message.toLowerCase();
  if (messageLower.includes('invalid credential')) {
    return 'INVALID_CREDENTIALS';
  }
  if (messageLower.includes('authentication required') || messageLower.includes('unauthorized')) {
    return 'UNAUTHORIZED';
  }
  if (messageLower.includes('access denied') || messageLower.includes('forbidden') || messageLower.includes('insufficient permission')) {
    return 'FORBIDDEN';
  }
  if (messageLower.includes('multiple tenant') || messageLower.includes('tenant selection')) {
    return 'MULTIPLE_TENANTS';
  }
  return 'UNKNOWN_ERROR';
};
var normalizeError = exports.normalizeError = function normalizeError(error) {
  var _error$message;
  if (!error) {
    var _safeMessage = getSafeMessageForCode('UNKNOWN_ERROR');
    return {
      code: 'UNKNOWN_ERROR',
      message: _safeMessage,
      safeMessage: _safeMessage,
      severity: 'error'
    };
  }
  if (error.code && typeof error.code === 'string' && error.code !== 'UNKNOWN_ERROR') {
    return error;
  }
  if (error.name === 'NetworkError' || (_error$message = error.message) != null && _error$message.includes('network')) {
    var _safeMessage2 = getSafeMessageForCode('NETWORK_ERROR');
    return {
      code: 'NETWORK_ERROR',
      message: _safeMessage2,
      safeMessage: _safeMessage2,
      severity: 'warning'
    };
  }
  if (error.status || error.statusCode) {
    var status = error.status || error.statusCode;
    var extractedCode = error.message ? extractErrorCode(error.message) : null;
    if (status === 401) {
      var _code = extractedCode || 'UNAUTHORIZED';
      var _safeMessage3 = getSafeMessageForCode(_code);
      var _rawMessage = error.message || _safeMessage3;
      return {
        code: _code,
        message: _rawMessage,
        safeMessage: _safeMessage3,
        severity: 'error'
      };
    }
    if (status === 403) {
      var _code2 = extractedCode || 'FORBIDDEN';
      var _safeMessage4 = getSafeMessageForCode(_code2);
      var _rawMessage2 = error.message || _safeMessage4;
      return {
        code: _code2,
        message: _rawMessage2,
        safeMessage: _safeMessage4,
        severity: 'error'
      };
    }
    if (status >= 500) {
      var _code3 = extractedCode || 'SERVER_ERROR';
      var _safeMessage5 = getSafeMessageForCode(_code3);
      var _rawMessage3 = error.message || _safeMessage5;
      return {
        code: _code3,
        message: _rawMessage3,
        safeMessage: _safeMessage5,
        severity: 'error'
      };
    }
    if (extractedCode && extractedCode !== 'UNKNOWN_ERROR') {
      var _safeMessage6 = getSafeMessageForCode(extractedCode);
      var _rawMessage4 = error.message || _safeMessage6;
      return {
        code: extractedCode,
        message: _rawMessage4,
        safeMessage: _safeMessage6,
        severity: 'error'
      };
    }
  }
  var code = error.code || (error.message ? extractErrorCode(error.message) : 'UNKNOWN_ERROR');
  var safeMessage = getSafeMessageForCode(code);
  var rawMessage = typeof error.message === 'string' && error.message.trim() ? error.message.trim() : safeMessage;
  return {
    code: code,
    message: rawMessage,
    safeMessage: safeMessage,
    severity: error.severity || 'error'
  };
};
var handleError = exports.handleError = function handleError(error) {
  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var normalized = normalizeError(error);
  _logging.logger.error('Handled error', {
    code: normalized.code,
    severity: normalized.severity,
    context: context && typeof context === 'object' ? context : {}
  });
  return normalized;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9sb2dnaW5nIiwiZ2V0TmVzdGVkVmFsdWUiLCJvYmoiLCJwYXRoIiwiU3RyaW5nIiwic3BsaXQiLCJyZWR1Y2UiLCJjdXJyZW50Iiwia2V5IiwidW5kZWZpbmVkIiwiZ2V0U2FmZU1lc3NhZ2VGb3JDb2RlIiwiY29kZSIsImVuIiwiZXh0cmFjdEVycm9yQ29kZSIsIm1lc3NhZ2UiLCJzdGFydHNXaXRoIiwicGFydHMiLCJsYXN0UGFydCIsImxlbmd0aCIsInRvVXBwZXJDYXNlIiwicmVwbGFjZSIsIm1lc3NhZ2VMb3dlciIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJub3JtYWxpemVFcnJvciIsImV4cG9ydHMiLCJlcnJvciIsIl9lcnJvciRtZXNzYWdlIiwic2FmZU1lc3NhZ2UiLCJzZXZlcml0eSIsIm5hbWUiLCJzdGF0dXMiLCJzdGF0dXNDb2RlIiwiZXh0cmFjdGVkQ29kZSIsInJhd01lc3NhZ2UiLCJ0cmltIiwiaGFuZGxlRXJyb3IiLCJjb250ZXh0IiwiYXJndW1lbnRzIiwibm9ybWFsaXplZCIsImxvZ2dlciJdLCJzb3VyY2VzIjpbImVycm9yLmhhbmRsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEVycm9yIEhhbmRsZXJcclxuICogTm9ybWFsaXplcyBlcnJvcnMgdG8gZG9tYWluLXNhZmUgb2JqZWN0c1xyXG4gKiBGaWxlOiBlcnJvci5oYW5kbGVyLmpzXHJcbiAqL1xyXG5pbXBvcnQgZW4gZnJvbSAnQGkxOG4vbG9jYWxlcy9lbi5qc29uJztcclxuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnQGxvZ2dpbmcnO1xyXG5cclxuY29uc3QgZ2V0TmVzdGVkVmFsdWUgPSAob2JqLCBwYXRoKSA9PiB7XHJcbiAgcmV0dXJuIFN0cmluZyhwYXRoKVxyXG4gICAgLnNwbGl0KCcuJylcclxuICAgIC5yZWR1Y2UoKGN1cnJlbnQsIGtleSkgPT4gKGN1cnJlbnQgJiYgY3VycmVudFtrZXldICE9PSB1bmRlZmluZWQgPyBjdXJyZW50W2tleV0gOiB1bmRlZmluZWQpLCBvYmopO1xyXG59O1xyXG5cclxuY29uc3QgZ2V0U2FmZU1lc3NhZ2VGb3JDb2RlID0gKGNvZGUpID0+IHtcclxuICByZXR1cm4gKFxyXG4gICAgZ2V0TmVzdGVkVmFsdWUoZW4sIGBlcnJvcnMuY29kZXMuJHtjb2RlfWApIHx8XHJcbiAgICBnZXROZXN0ZWRWYWx1ZShlbiwgJ2Vycm9ycy5jb2Rlcy5VTktOT1dOX0VSUk9SJykgfHxcclxuICAgICdVTktOT1dOX0VSUk9SJ1xyXG4gICk7XHJcbn07XHJcblxyXG4vKipcclxuICogRXh0cmFjdCBlcnJvciBjb2RlIGZyb20gYmFja2VuZCBtZXNzYWdlXHJcbiAqIEJhY2tlbmQgbWF5IHNlbmQgdHJhbnNsYXRpb24ga2V5cyBsaWtlIFwiZXJyb3JzLmF1dGguaW52YWxpZF9jcmVkZW50aWFsc1wiXHJcbiAqIG9yIGFscmVhZHkgdHJhbnNsYXRlZCBtZXNzYWdlcyBsaWtlIFwiSW52YWxpZCBjcmVkZW50aWFsc1wiXHJcbiAqL1xyXG5jb25zdCBleHRyYWN0RXJyb3JDb2RlID0gKG1lc3NhZ2UpID0+IHtcclxuICBpZiAoIW1lc3NhZ2UgfHwgdHlwZW9mIG1lc3NhZ2UgIT09ICdzdHJpbmcnKSB7XHJcbiAgICByZXR1cm4gJ1VOS05PV05fRVJST1InO1xyXG4gIH1cclxuXHJcbiAgLy8gSWYgbWVzc2FnZSBpcyBhIHRyYW5zbGF0aW9uIGtleSAoc3RhcnRzIHdpdGggXCJlcnJvcnMuXCIpXHJcbiAgaWYgKG1lc3NhZ2Uuc3RhcnRzV2l0aCgnZXJyb3JzLicpKSB7XHJcbiAgICAvLyBFeHRyYWN0IHRoZSBsYXN0IHBhcnQgYXMgY29kZVxyXG4gICAgLy8gXCJlcnJvcnMuYXV0aC5pbnZhbGlkX2NyZWRlbnRpYWxzXCIgLT4gXCJJTlZBTElEX0NSRURFTlRJQUxTXCJcclxuICAgIC8vIFwiZXJyb3JzLmF1dGgubXVsdGlwbGVfdGVuYW50c1wiIC0+IFwiTVVMVElQTEVfVEVOQU5UU1wiXHJcbiAgICBjb25zdCBwYXJ0cyA9IG1lc3NhZ2Uuc3BsaXQoJy4nKTtcclxuICAgIGNvbnN0IGxhc3RQYXJ0ID0gcGFydHNbcGFydHMubGVuZ3RoIC0gMV07XHJcbiAgICAvLyBDb252ZXJ0IHNuYWtlX2Nhc2UgdG8gVVBQRVJfU05BS0VfQ0FTRVxyXG4gICAgcmV0dXJuIGxhc3RQYXJ0LnRvVXBwZXJDYXNlKCkucmVwbGFjZSgvLS9nLCAnXycpO1xyXG4gIH1cclxuXHJcbiAgLy8gTWFwIGNvbW1vbiB0cmFuc2xhdGVkIG1lc3NhZ2VzIHRvIGNvZGVzXHJcbiAgY29uc3QgbWVzc2FnZUxvd2VyID0gbWVzc2FnZS50b0xvd2VyQ2FzZSgpO1xyXG4gIGlmIChtZXNzYWdlTG93ZXIuaW5jbHVkZXMoJ2ludmFsaWQgY3JlZGVudGlhbCcpKSB7XHJcbiAgICByZXR1cm4gJ0lOVkFMSURfQ1JFREVOVElBTFMnO1xyXG4gIH1cclxuICBpZiAobWVzc2FnZUxvd2VyLmluY2x1ZGVzKCdhdXRoZW50aWNhdGlvbiByZXF1aXJlZCcpIHx8IG1lc3NhZ2VMb3dlci5pbmNsdWRlcygndW5hdXRob3JpemVkJykpIHtcclxuICAgIHJldHVybiAnVU5BVVRIT1JJWkVEJztcclxuICB9XHJcbiAgaWYgKG1lc3NhZ2VMb3dlci5pbmNsdWRlcygnYWNjZXNzIGRlbmllZCcpIHx8IG1lc3NhZ2VMb3dlci5pbmNsdWRlcygnZm9yYmlkZGVuJykgfHwgbWVzc2FnZUxvd2VyLmluY2x1ZGVzKCdpbnN1ZmZpY2llbnQgcGVybWlzc2lvbicpKSB7XHJcbiAgICByZXR1cm4gJ0ZPUkJJRERFTic7XHJcbiAgfVxyXG4gIGlmIChtZXNzYWdlTG93ZXIuaW5jbHVkZXMoJ211bHRpcGxlIHRlbmFudCcpIHx8IG1lc3NhZ2VMb3dlci5pbmNsdWRlcygndGVuYW50IHNlbGVjdGlvbicpKSB7XHJcbiAgICByZXR1cm4gJ01VTFRJUExFX1RFTkFOVFMnO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuICdVTktOT1dOX0VSUk9SJztcclxufTtcclxuXHJcbmNvbnN0IG5vcm1hbGl6ZUVycm9yID0gKGVycm9yKSA9PiB7XHJcbiAgaWYgKCFlcnJvcikge1xyXG4gICAgY29uc3Qgc2FmZU1lc3NhZ2UgPSBnZXRTYWZlTWVzc2FnZUZvckNvZGUoJ1VOS05PV05fRVJST1InKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGNvZGU6ICdVTktOT1dOX0VSUk9SJyxcclxuICAgICAgbWVzc2FnZTogc2FmZU1lc3NhZ2UsXHJcbiAgICAgIHNhZmVNZXNzYWdlLFxyXG4gICAgICBzZXZlcml0eTogJ2Vycm9yJyxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBJZiBlcnJvciBpcyBhbHJlYWR5IG5vcm1hbGl6ZWQgKGhhcyBjb2RlIHByb3BlcnR5KSwgcmV0dXJuIGFzLWlzXHJcbiAgaWYgKGVycm9yLmNvZGUgJiYgdHlwZW9mIGVycm9yLmNvZGUgPT09ICdzdHJpbmcnICYmIGVycm9yLmNvZGUgIT09ICdVTktOT1dOX0VSUk9SJykge1xyXG4gICAgcmV0dXJuIGVycm9yO1xyXG4gIH1cclxuXHJcbiAgLy8gTmV0d29yayBlcnJvcnNcclxuICBpZiAoZXJyb3IubmFtZSA9PT0gJ05ldHdvcmtFcnJvcicgfHwgZXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoJ25ldHdvcmsnKSkge1xyXG4gICAgY29uc3Qgc2FmZU1lc3NhZ2UgPSBnZXRTYWZlTWVzc2FnZUZvckNvZGUoJ05FVFdPUktfRVJST1InKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGNvZGU6ICdORVRXT1JLX0VSUk9SJyxcclxuICAgICAgbWVzc2FnZTogc2FmZU1lc3NhZ2UsXHJcbiAgICAgIHNhZmVNZXNzYWdlLFxyXG4gICAgICBzZXZlcml0eTogJ3dhcm5pbmcnLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vIEFQSSBlcnJvcnNcclxuICBpZiAoZXJyb3Iuc3RhdHVzIHx8IGVycm9yLnN0YXR1c0NvZGUpIHtcclxuICAgIGNvbnN0IHN0YXR1cyA9IGVycm9yLnN0YXR1cyB8fCBlcnJvci5zdGF0dXNDb2RlO1xyXG4gICAgXHJcbiAgICAvLyBFeHRyYWN0IGVycm9yIGNvZGUgZnJvbSBiYWNrZW5kIG1lc3NhZ2UgaWYgYXZhaWxhYmxlXHJcbiAgICBjb25zdCBleHRyYWN0ZWRDb2RlID0gZXJyb3IubWVzc2FnZSA/IGV4dHJhY3RFcnJvckNvZGUoZXJyb3IubWVzc2FnZSkgOiBudWxsO1xyXG4gICAgXHJcbiAgICBpZiAoc3RhdHVzID09PSA0MDEpIHtcclxuICAgICAgLy8gUHJlZmVyIElOVkFMSURfQ1JFREVOVElBTFMgZm9yIGxvZ2luIGVycm9ycywgVU5BVVRIT1JJWkVEIGZvciBnZW5lcmFsIGF1dGggZXJyb3JzXHJcbiAgICAgIGNvbnN0IGNvZGUgPSBleHRyYWN0ZWRDb2RlIHx8ICdVTkFVVEhPUklaRUQnO1xyXG4gICAgICBjb25zdCBzYWZlTWVzc2FnZSA9IGdldFNhZmVNZXNzYWdlRm9yQ29kZShjb2RlKTtcclxuICAgICAgY29uc3QgcmF3TWVzc2FnZSA9IGVycm9yLm1lc3NhZ2UgfHwgc2FmZU1lc3NhZ2U7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgY29kZSxcclxuICAgICAgICBtZXNzYWdlOiByYXdNZXNzYWdlLFxyXG4gICAgICAgIHNhZmVNZXNzYWdlLFxyXG4gICAgICAgIHNldmVyaXR5OiAnZXJyb3InLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgaWYgKHN0YXR1cyA9PT0gNDAzKSB7XHJcbiAgICAgIGNvbnN0IGNvZGUgPSBleHRyYWN0ZWRDb2RlIHx8ICdGT1JCSURERU4nO1xyXG4gICAgICBjb25zdCBzYWZlTWVzc2FnZSA9IGdldFNhZmVNZXNzYWdlRm9yQ29kZShjb2RlKTtcclxuICAgICAgY29uc3QgcmF3TWVzc2FnZSA9IGVycm9yLm1lc3NhZ2UgfHwgc2FmZU1lc3NhZ2U7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgY29kZSxcclxuICAgICAgICBtZXNzYWdlOiByYXdNZXNzYWdlLFxyXG4gICAgICAgIHNhZmVNZXNzYWdlLFxyXG4gICAgICAgIHNldmVyaXR5OiAnZXJyb3InLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgaWYgKHN0YXR1cyA+PSA1MDApIHtcclxuICAgICAgY29uc3QgY29kZSA9IGV4dHJhY3RlZENvZGUgfHwgJ1NFUlZFUl9FUlJPUic7XHJcbiAgICAgIGNvbnN0IHNhZmVNZXNzYWdlID0gZ2V0U2FmZU1lc3NhZ2VGb3JDb2RlKGNvZGUpO1xyXG4gICAgICBjb25zdCByYXdNZXNzYWdlID0gZXJyb3IubWVzc2FnZSB8fCBzYWZlTWVzc2FnZTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBjb2RlLFxyXG4gICAgICAgIG1lc3NhZ2U6IHJhd01lc3NhZ2UsXHJcbiAgICAgICAgc2FmZU1lc3NhZ2UsXHJcbiAgICAgICAgc2V2ZXJpdHk6ICdlcnJvcicsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIEZvciBvdGhlciBzdGF0dXMgY29kZXMsIHVzZSBleHRyYWN0ZWQgY29kZSBvciBkZWZhdWx0XHJcbiAgICBpZiAoZXh0cmFjdGVkQ29kZSAmJiBleHRyYWN0ZWRDb2RlICE9PSAnVU5LTk9XTl9FUlJPUicpIHtcclxuICAgICAgY29uc3Qgc2FmZU1lc3NhZ2UgPSBnZXRTYWZlTWVzc2FnZUZvckNvZGUoZXh0cmFjdGVkQ29kZSk7XHJcbiAgICAgIGNvbnN0IHJhd01lc3NhZ2UgPSBlcnJvci5tZXNzYWdlIHx8IHNhZmVNZXNzYWdlO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGNvZGU6IGV4dHJhY3RlZENvZGUsXHJcbiAgICAgICAgbWVzc2FnZTogcmF3TWVzc2FnZSxcclxuICAgICAgICBzYWZlTWVzc2FnZSxcclxuICAgICAgICBzZXZlcml0eTogJ2Vycm9yJyxcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEV4dHJhY3QgY29kZSBmcm9tIG1lc3NhZ2UgaWYgbm8gZXhwbGljaXQgY29kZSBwcm92aWRlZFxyXG4gIGNvbnN0IGNvZGUgPSBlcnJvci5jb2RlIHx8IChlcnJvci5tZXNzYWdlID8gZXh0cmFjdEVycm9yQ29kZShlcnJvci5tZXNzYWdlKSA6ICdVTktOT1dOX0VSUk9SJyk7XHJcbiAgY29uc3Qgc2FmZU1lc3NhZ2UgPSBnZXRTYWZlTWVzc2FnZUZvckNvZGUoY29kZSk7XHJcbiAgY29uc3QgcmF3TWVzc2FnZSA9XHJcbiAgICB0eXBlb2YgZXJyb3IubWVzc2FnZSA9PT0gJ3N0cmluZycgJiYgZXJyb3IubWVzc2FnZS50cmltKClcclxuICAgICAgPyBlcnJvci5tZXNzYWdlLnRyaW0oKVxyXG4gICAgICA6IHNhZmVNZXNzYWdlO1xyXG5cclxuICAvLyBEZWZhdWx0XHJcbiAgcmV0dXJuIHtcclxuICAgIGNvZGUsXHJcbiAgICBtZXNzYWdlOiByYXdNZXNzYWdlLFxyXG4gICAgc2FmZU1lc3NhZ2UsXHJcbiAgICBzZXZlcml0eTogZXJyb3Iuc2V2ZXJpdHkgfHwgJ2Vycm9yJyxcclxuICB9O1xyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlRXJyb3IgPSAoZXJyb3IsIGNvbnRleHQgPSB7fSkgPT4ge1xyXG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVFcnJvcihlcnJvcik7XHJcbiAgbG9nZ2VyLmVycm9yKCdIYW5kbGVkIGVycm9yJywge1xyXG4gICAgY29kZTogbm9ybWFsaXplZC5jb2RlLFxyXG4gICAgc2V2ZXJpdHk6IG5vcm1hbGl6ZWQuc2V2ZXJpdHksXHJcbiAgICBjb250ZXh0OiBjb250ZXh0ICYmIHR5cGVvZiBjb250ZXh0ID09PSAnb2JqZWN0JyA/IGNvbnRleHQgOiB7fSxcclxuICB9KTtcclxuICByZXR1cm4gbm9ybWFsaXplZDtcclxufTtcclxuXHJcbmV4cG9ydCB7IG5vcm1hbGl6ZUVycm9yLCBoYW5kbGVFcnJvciB9O1xyXG5cclxuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUtBLElBQUFBLEdBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFFB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