ee9a6abd553b7c1c5a9f25bce8abba5a
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getInitials = exports.default = void 0;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = require("react");
var _types = require("./types");
var getInitials = exports.getInitials = function getInitials(name) {
  if (typeof name !== 'string') return '?';
  var trimmed = name.trim().replace(/\s+/g, ' ');
  if (!trimmed) return '?';
  var parts = trimmed.split(' ');
  if (parts.length >= 2) {
    var first = parts[0][0];
    var last = parts[parts.length - 1][0];
    var combined = `${first}${last}`;
    return combined.toUpperCase();
  }
  return trimmed.substring(0, 2).toUpperCase();
};
var useAvatar = function useAvatar(_ref) {
  var size = _ref.size,
    source = _ref.source,
    name = _ref.name,
    alt = _ref.alt,
    accessibilityLabel = _ref.accessibilityLabel;
  var _useState = (0, _react.useState)(false),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    hasImageError = _useState2[0],
    setHasImageError = _useState2[1];
  var normalizedSize = size || _types.SIZES.MEDIUM;
  var label = accessibilityLabel || alt || name || undefined;
  var imageSource = typeof source === 'string' ? {
    uri: source
  } : source;
  var hasImage = !!source && !hasImageError;
  var initials = getInitials(name);
  var handleImageError = function handleImageError() {
    return setHasImageError(true);
  };
  return {
    size: normalizedSize,
    label: label,
    hasImage: hasImage,
    imageSource: imageSource,
    initials: initials,
    handleImageError: handleImageError
  };
};
var _default = exports.default = useAvatar;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX3R5cGVzIiwiZ2V0SW5pdGlhbHMiLCJleHBvcnRzIiwibmFtZSIsInRyaW1tZWQiLCJ0cmltIiwicmVwbGFjZSIsInBhcnRzIiwic3BsaXQiLCJsZW5ndGgiLCJmaXJzdCIsImxhc3QiLCJjb21iaW5lZCIsInRvVXBwZXJDYXNlIiwic3Vic3RyaW5nIiwidXNlQXZhdGFyIiwiX3JlZiIsInNpemUiLCJzb3VyY2UiLCJhbHQiLCJhY2Nlc3NpYmlsaXR5TGFiZWwiLCJfdXNlU3RhdGUiLCJ1c2VTdGF0ZSIsIl91c2VTdGF0ZTIiLCJfc2xpY2VkVG9BcnJheTIiLCJkZWZhdWx0IiwiaGFzSW1hZ2VFcnJvciIsInNldEhhc0ltYWdlRXJyb3IiLCJub3JtYWxpemVkU2l6ZSIsIlNJWkVTIiwiTUVESVVNIiwibGFiZWwiLCJ1bmRlZmluZWQiLCJpbWFnZVNvdXJjZSIsInVyaSIsImhhc0ltYWdlIiwiaW5pdGlhbHMiLCJoYW5kbGVJbWFnZUVycm9yIiwiX2RlZmF1bHQiXSwic291cmNlcyI6WyJ1c2VBdmF0YXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIHVzZUF2YXRhciBIb29rXHJcbiAqIFNoYXJlZCBBdmF0YXIgbG9naWMgKGluaXRpYWxzLCBpbWFnZSByZXNvbHV0aW9uLCBhMTF5IGxhYmVsLCBmYWxsYmFjayBvbiBsb2FkIGVycm9yKVxyXG4gKiBGaWxlOiB1c2VBdmF0YXIuanNcclxuICovXHJcblxyXG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgU0laRVMgfSBmcm9tICcuL3R5cGVzJztcclxuXHJcbi8qKlxyXG4gKiBCdWlsZCBpbml0aWFscyBmcm9tIGEgZGlzcGxheSBuYW1lLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gKi9cclxuY29uc3QgZ2V0SW5pdGlhbHMgPSAobmFtZSkgPT4ge1xyXG4gIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHJldHVybiAnPyc7XHJcbiAgY29uc3QgdHJpbW1lZCA9IG5hbWUudHJpbSgpLnJlcGxhY2UoL1xccysvZywgJyAnKTtcclxuICBpZiAoIXRyaW1tZWQpIHJldHVybiAnPyc7XHJcblxyXG4gIGNvbnN0IHBhcnRzID0gdHJpbW1lZC5zcGxpdCgnICcpO1xyXG4gIGlmIChwYXJ0cy5sZW5ndGggPj0gMikge1xyXG4gICAgLy8gQWZ0ZXIgdHJpbS9ub3JtYWxpemUsIHBhcnRzWzBdIGFuZCBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXSBhcmUgZ3VhcmFudGVlZCB0byBiZSBub24tZW1wdHkgc3RyaW5nc1xyXG4gICAgLy8gVGhlcmVmb3JlIHBhcnRzWzBdWzBdIGFuZCBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXVswXSBhbHdheXMgZXhpc3RcclxuICAgIGNvbnN0IGZpcnN0ID0gcGFydHNbMF1bMF07XHJcbiAgICBjb25zdCBsYXN0ID0gcGFydHNbcGFydHMubGVuZ3RoIC0gMV1bMF07XHJcbiAgICBjb25zdCBjb21iaW5lZCA9IGAke2ZpcnN0fSR7bGFzdH1gO1xyXG4gICAgcmV0dXJuIGNvbWJpbmVkLnRvVXBwZXJDYXNlKCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdHJpbW1lZC5zdWJzdHJpbmcoMCwgMikudG9VcHBlckNhc2UoKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBTaGFyZWQgQXZhdGFyIGxvZ2ljIGhvb2suXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXNcclxuICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtcy5zaXplXHJcbiAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gcGFyYW1zLnNvdXJjZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1zLm5hbWVcclxuICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtcy5hbHRcclxuICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtcy5hY2Nlc3NpYmlsaXR5TGFiZWxcclxuICogQHJldHVybnMge09iamVjdH1cclxuICovXHJcbmNvbnN0IHVzZUF2YXRhciA9ICh7IHNpemUsIHNvdXJjZSwgbmFtZSwgYWx0LCBhY2Nlc3NpYmlsaXR5TGFiZWwgfSkgPT4ge1xyXG4gIGNvbnN0IFtoYXNJbWFnZUVycm9yLCBzZXRIYXNJbWFnZUVycm9yXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbiAgY29uc3Qgbm9ybWFsaXplZFNpemUgPSBzaXplIHx8IFNJWkVTLk1FRElVTTtcclxuICBjb25zdCBsYWJlbCA9IGFjY2Vzc2liaWxpdHlMYWJlbCB8fCBhbHQgfHwgbmFtZSB8fCB1bmRlZmluZWQ7XHJcblxyXG4gIGNvbnN0IGltYWdlU291cmNlID0gdHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycgPyB7IHVyaTogc291cmNlIH0gOiBzb3VyY2U7XHJcbiAgY29uc3QgaGFzSW1hZ2UgPSAhIXNvdXJjZSAmJiAhaGFzSW1hZ2VFcnJvcjtcclxuICBjb25zdCBpbml0aWFscyA9IGdldEluaXRpYWxzKG5hbWUpO1xyXG5cclxuICBjb25zdCBoYW5kbGVJbWFnZUVycm9yID0gKCkgPT4gc2V0SGFzSW1hZ2VFcnJvcih0cnVlKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHNpemU6IG5vcm1hbGl6ZWRTaXplLFxyXG4gICAgbGFiZWwsXHJcbiAgICBoYXNJbWFnZSxcclxuICAgIGltYWdlU291cmNlLFxyXG4gICAgaW5pdGlhbHMsXHJcbiAgICBoYW5kbGVJbWFnZUVycm9yLFxyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB1c2VBdmF0YXI7XHJcbmV4cG9ydCB7IGdldEluaXRpYWxzIH07XHJcblxyXG5cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFNQSxJQUFBQSxNQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxNQUFBLEdBQUFELE9BQUE7QUFPQSxJQUFNRSxXQUFXLEdBQUFDLE9BQUEsQ0FBQUQsV0FBQSxHQUFHLFNBQWRBLFdBQVdBLENBQUlFLElBQUksRUFBSztFQUM1QixJQUFJLE9BQU9BLElBQUks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