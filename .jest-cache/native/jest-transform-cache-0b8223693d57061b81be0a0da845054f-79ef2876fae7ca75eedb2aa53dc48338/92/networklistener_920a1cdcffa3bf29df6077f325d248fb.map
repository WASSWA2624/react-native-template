{"version":3,"names":["NetInfo","logger","NETWORK_QUALITY","DEFAULT_DEBOUNCE_MS","cov_zn52668v2","s","LOW_QUALITY_DOWNLINK_MBPS","networkState","isOnline","quality","UNKNOWN","pendingState","debounceTimer","listeners","Set","netInfoUnsubscribe","normalizeIsOnline","state","f","b","isConnected","isInternetReachable","resolveNetworkQuality","details","downlink","strength","generation","cellularGeneration","LOW","GOOD","type","notify","forEach","listener","_unused","flushPending","scheduleFlush","clearTimeout","setTimeout","applyState","_ref","arguments","length","undefined","_ref$flush","flush","nextIsOnline","nextQuality","nextState","didChange","info","checkConnectivity","_ref2","_asyncToGenerator","fetch","apply","subscribe","add","delete","startListening","addEventListener","stopListening","getIsOnline","getNetworkSnapshot","Object","assign","__unsafeResetForTests","__unsafeFlushPendingForTests"],"sources":["network.listener.js"],"sourcesContent":["/**\r\n * Network Listener\r\n * Monitors network connectivity\r\n * File: network.listener.js\r\n */\r\nimport NetInfo from '@react-native-community/netinfo';\r\nimport { logger } from '@logging';\r\nimport { NETWORK_QUALITY } from '@utils/networkQuality';\r\n\r\nconst DEFAULT_DEBOUNCE_MS = 300;\r\nconst LOW_QUALITY_DOWNLINK_MBPS = 1.5;\r\n\r\nlet networkState = {\r\n  isOnline: true,\r\n  quality: NETWORK_QUALITY.UNKNOWN,\r\n};\r\nlet pendingState = null;\r\nlet debounceTimer = null;\r\nlet listeners = new Set();\r\nlet netInfoUnsubscribe = null;\r\n\r\nconst normalizeIsOnline = (state) => {\r\n  if (!state || state.isConnected == null) return false;\r\n  if (state.isConnected === false) return false;\r\n  if (state.isInternetReachable === false) return false;\r\n  return true;\r\n};\r\n\r\nconst resolveNetworkQuality = (state, isOnline) => {\r\n  if (!isOnline) return NETWORK_QUALITY.UNKNOWN;\r\n\r\n  const details = state?.details || {};\r\n  const downlink = typeof details.downlink === 'number' ? details.downlink : null;\r\n  const strength = typeof details.strength === 'number' ? details.strength : null;\r\n  const generation = typeof details.cellularGeneration === 'string' ? details.cellularGeneration : null;\r\n\r\n  if (strength !== null && strength >= 0 && strength <= 30) {\r\n    return NETWORK_QUALITY.LOW;\r\n  }\r\n\r\n  if (downlink !== null && downlink <= LOW_QUALITY_DOWNLINK_MBPS) {\r\n    return NETWORK_QUALITY.LOW;\r\n  }\r\n\r\n  if (generation === '2g' || generation === '3g') {\r\n    return NETWORK_QUALITY.LOW;\r\n  }\r\n\r\n  if (generation === '4g' || generation === '5g') {\r\n    return NETWORK_QUALITY.GOOD;\r\n  }\r\n\r\n  if (downlink !== null && downlink > LOW_QUALITY_DOWNLINK_MBPS) {\r\n    return NETWORK_QUALITY.GOOD;\r\n  }\r\n\r\n  if (state?.type === 'wifi') {\r\n    return NETWORK_QUALITY.GOOD;\r\n  }\r\n\r\n  return NETWORK_QUALITY.UNKNOWN;\r\n};\r\n\r\nconst notify = () => {\r\n  listeners.forEach((listener) => {\r\n    try {\r\n      listener(networkState);\r\n    } catch {\r\n      // Listener errors must not break the global connectivity observer.\r\n    }\r\n  });\r\n};\r\n\r\nconst flushPending = () => {\r\n  if (!pendingState) return;\r\n  networkState = pendingState;\r\n  pendingState = null;\r\n  notify();\r\n};\r\n\r\nconst scheduleFlush = () => {\r\n  if (debounceTimer) clearTimeout(debounceTimer);\r\n  debounceTimer = setTimeout(() => {\r\n    debounceTimer = null;\r\n    flushPending();\r\n  }, DEFAULT_DEBOUNCE_MS);\r\n};\r\n\r\nconst applyState = (state, { flush = false } = {}) => {\r\n  const nextIsOnline = normalizeIsOnline(state);\r\n  const nextQuality = resolveNetworkQuality(state, nextIsOnline);\r\n  const nextState = { isOnline: nextIsOnline, quality: nextQuality };\r\n  const didChange =\r\n    networkState.isOnline !== nextIsOnline || networkState.quality !== nextQuality;\r\n\r\n  if (!didChange) {\r\n    return networkState;\r\n  }\r\n\r\n  if (flush) {\r\n    if (debounceTimer) {\r\n      clearTimeout(debounceTimer);\r\n      debounceTimer = null;\r\n    }\r\n    pendingState = null;\r\n    networkState = nextState;\r\n    logger.info('Network status changed', nextState);\r\n    notify();\r\n    return networkState;\r\n  }\r\n\r\n  pendingState = nextState;\r\n  logger.info('Network status changed', nextState);\r\n  scheduleFlush();\r\n\r\n  return nextState;\r\n};\r\n\r\n/**\r\n * Fetch current connectivity from NetInfo and update internal state.\r\n * Notifies subscribers only when the online status changes.\r\n */\r\nexport const checkConnectivity = async () => {\r\n  const state = await NetInfo.fetch();\r\n  return applyState(state, { flush: true });\r\n};\r\n\r\n/**\r\n * Subscribe to online-status changes.\r\n * Returns an unsubscribe function.\r\n */\r\nexport const subscribe = (listener) => {\r\n  listeners.add(listener);\r\n  return () => {\r\n    listeners.delete(listener);\r\n  };\r\n};\r\n\r\n/**\r\n * Start listening to NetInfo changes.\r\n * Idempotent: subsequent calls return the same unsubscribe function.\r\n */\r\nexport const startListening = () => {\r\n  if (netInfoUnsubscribe) return netInfoUnsubscribe;\r\n\r\n  netInfoUnsubscribe = NetInfo.addEventListener((state) => {\r\n    applyState(state);\r\n  });\r\n\r\n  return netInfoUnsubscribe;\r\n};\r\n\r\nexport const stopListening = () => {\r\n  if (!netInfoUnsubscribe) return;\r\n  try {\r\n    netInfoUnsubscribe();\r\n  } finally {\r\n    netInfoUnsubscribe = null;\r\n  }\r\n};\r\n\r\nexport const getIsOnline = () => networkState.isOnline;\r\nexport const getNetworkSnapshot = () => ({ ...networkState });\r\n\r\n/**\r\n * Testing-only reset helper to avoid state leaking across unit tests.\r\n * @private\r\n */\r\nexport const __unsafeResetForTests = () => {\r\n  stopListening();\r\n  networkState = { isOnline: true, quality: NETWORK_QUALITY.UNKNOWN };\r\n  pendingState = null;\r\n  if (debounceTimer) {\r\n    clearTimeout(debounceTimer);\r\n    debounceTimer = null;\r\n  }\r\n  listeners = new Set();\r\n};\r\n\r\n/**\r\n * Testing-only helper to flush pending state safely.\r\n * @private\r\n */\r\nexport const __unsafeFlushPendingForTests = () => {\r\n  flushPending();\r\n};\r\n\r\nexport default {\r\n  checkConnectivity,\r\n  subscribe,\r\n  startListening,\r\n  stopListening,\r\n  getIsOnline,\r\n  getNetworkSnapshot,\r\n};\r\n\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}