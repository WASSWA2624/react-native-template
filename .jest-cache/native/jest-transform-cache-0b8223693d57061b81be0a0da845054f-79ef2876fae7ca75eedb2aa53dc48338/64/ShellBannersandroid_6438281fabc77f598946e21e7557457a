af02b6ab51fdd914c0d6e56ae4dc1ca0
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _react = _interopRequireWildcard(require("react"));
var _hooks = require("../../../../hooks");
var _Modal = _interopRequireDefault(require("../Modal"));
var _SystemBanner = _interopRequireDefault(require("../SystemBanner"));
var _ShellBannersAndroid = require("./ShellBanners.android.styles");
var _types = require("./types");
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["banners", "accessibilityLabel", "testID"];
var ShellBannersAndroid = function ShellBannersAndroid(_ref) {
  var _ref$banners = _ref.banners,
    banners = _ref$banners === void 0 ? [] : _ref$banners,
    accessibilityLabel = _ref.accessibilityLabel,
    testID = _ref.testID,
    rest = (0, _objectWithoutProperties2.default)(_ref, _excluded);
  var _useI18n = (0, _hooks.useI18n)(),
    t = _useI18n.t;
  var _useState = (0, _react.useState)(false),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    dismissed = _useState2[0],
    setDismissed = _useState2[1];
  var bannerKey = banners.map(function (b) {
    return b.id;
  }).join(',');
  (0, _react.useEffect)(function () {
    setDismissed(false);
  }, [bannerKey]);
  var visible = banners.length > 0 && !dismissed;
  var label = accessibilityLabel || t('shell.banners.surfaceLabel');
  if (!visible) return null;
  return (0, _jsxRuntime.jsx)(_Modal.default, Object.assign({
    visible: true,
    onDismiss: function onDismiss() {
      return setDismissed(true);
    },
    size: "small",
    showCloseButton: true,
    dismissOnBackdrop: true,
    accessibilityLabel: label,
    testID: testID
  }, rest, {
    children: (0, _jsxRuntime.jsx)(_ShellBannersAndroid.StyledStack, {
      accessibilityLabel: label,
      children: banners.map(function (banner, index) {
        return (0, _jsxRuntime.jsx)(_ShellBannersAndroid.StyledStackItem, {
          spacing: _types.STACK_SPACING,
          isLast: index === banners.length - 1,
          children: (0, _jsxRuntime.jsx)(_SystemBanner.default, Object.assign({}, banner))
        }, banner.id);
      })
    })
  }));
};
var _default = exports.default = ShellBannersAndroid;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfaG9va3MiLCJfTW9kYWwiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX1N5c3RlbUJhbm5lciIsIl9TaGVsbEJhbm5lcnNBbmRyb2lkIiwiX3R5cGVzIiwiX2pzeFJ1bnRpbWUiLCJfZXhjbHVkZWQiLCJTaGVsbEJhbm5lcnNBbmRyb2lkIiwiX3JlZiIsIl9yZWYkYmFubmVycyIsImJhbm5lcnMiLCJhY2Nlc3NpYmlsaXR5TGFiZWwiLCJ0ZXN0SUQiLCJyZXN0IiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiIsImRlZmF1bHQiLCJfdXNlSTE4biIsInVzZUkxOG4iLCJ0IiwiX3VzZVN0YXRlIiwidXNlU3RhdGUiLCJfdXNlU3RhdGUyIiwiX3NsaWNlZFRvQXJyYXkyIiwiZGlzbWlzc2VkIiwic2V0RGlzbWlzc2VkIiwiYmFubmVyS2V5IiwibWFwIiwiYiIsImlkIiwiam9pbiIsInVzZUVmZmVjdCIsInZpc2libGUiLCJsZW5ndGgiLCJsYWJlbCIsImpzeCIsIk9iamVjdCIsImFzc2lnbiIsIm9uRGlzbWlzcyIsInNpemUiLCJzaG93Q2xvc2VCdXR0b24iLCJkaXNtaXNzT25CYWNrZHJvcCIsImNoaWxkcmVuIiwiU3R5bGVkU3RhY2siLCJiYW5uZXIiLCJpbmRleCIsIlN0eWxlZFN0YWNrSXRlbSIsInNwYWNpbmciLCJTVEFDS19TUEFDSU5HIiwiaXNMYXN0IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiU2hlbGxCYW5uZXJzLmFuZHJvaWQuanN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBTaGVsbEJhbm5lcnMgQ29tcG9uZW50IC0gQW5kcm9pZFxyXG4gKiBEaXNtaXNzaWJsZSBtb2RhbCBmb3Igc3lzdGVtIGJhbm5lcnMgKG9mZmxpbmUsIG1haW50ZW5hbmNlLCBldGMuKVxyXG4gKiBGaWxlOiBTaGVsbEJhbm5lcnMuYW5kcm9pZC5qc3hcclxuICovXHJcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyB1c2VJMThuIH0gZnJvbSAnQGhvb2tzJztcclxuaW1wb3J0IE1vZGFsIGZyb20gJ0BwbGF0Zm9ybS9jb21wb25lbnRzL2ZlZWRiYWNrL01vZGFsJztcclxuaW1wb3J0IFN5c3RlbUJhbm5lciBmcm9tICdAcGxhdGZvcm0vY29tcG9uZW50cy9mZWVkYmFjay9TeXN0ZW1CYW5uZXInO1xyXG5pbXBvcnQgeyBTdHlsZWRTdGFjaywgU3R5bGVkU3RhY2tJdGVtIH0gZnJvbSAnLi9TaGVsbEJhbm5lcnMuYW5kcm9pZC5zdHlsZXMnO1xyXG5pbXBvcnQgeyBTVEFDS19TUEFDSU5HIH0gZnJvbSAnLi90eXBlcyc7XHJcblxyXG4vKipcclxuICogU2hlbGxCYW5uZXJzIGNvbXBvbmVudCBmb3IgQW5kcm9pZCDigJMgZGlzcGxheXMgYXMgYSBkaXNtaXNzaWJsZSBtb2RhbFxyXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgLSBTaGVsbEJhbm5lcnMgcHJvcHNcclxuICovXHJcbmNvbnN0IFNoZWxsQmFubmVyc0FuZHJvaWQgPSAoe1xyXG4gIGJhbm5lcnMgPSBbXSxcclxuICBhY2Nlc3NpYmlsaXR5TGFiZWwsXHJcbiAgdGVzdElELFxyXG4gIC4uLnJlc3RcclxufSkgPT4ge1xyXG4gIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xyXG4gIGNvbnN0IFtkaXNtaXNzZWQsIHNldERpc21pc3NlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgYmFubmVyS2V5ID0gYmFubmVycy5tYXAoKGIpID0+IGIuaWQpLmpvaW4oJywnKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIHNldERpc21pc3NlZChmYWxzZSk7XHJcbiAgfSwgW2Jhbm5lcktleV0pO1xyXG5cclxuICBjb25zdCB2aXNpYmxlID0gYmFubmVycy5sZW5ndGggPiAwICYmICFkaXNtaXNzZWQ7XHJcbiAgY29uc3QgbGFiZWwgPSBhY2Nlc3NpYmlsaXR5TGFiZWwgfHwgdCgnc2hlbGwuYmFubmVycy5zdXJmYWNlTGFiZWwnKTtcclxuXHJcbiAgaWYgKCF2aXNpYmxlKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxNb2RhbFxyXG4gICAgICB2aXNpYmxlXHJcbiAgICAgIG9uRGlzbWlzcz17KCkgPT4gc2V0RGlzbWlzc2VkKHRydWUpfVxyXG4gICAgICBzaXplPVwic21hbGxcIlxyXG4gICAgICBzaG93Q2xvc2VCdXR0b25cclxuICAgICAgZGlzbWlzc09uQmFja2Ryb3BcclxuICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsPXtsYWJlbH1cclxuICAgICAgdGVzdElEPXt0ZXN0SUR9XHJcbiAgICAgIHsuLi5yZXN0fVxyXG4gICAgPlxyXG4gICAgICA8U3R5bGVkU3RhY2sgYWNjZXNzaWJpbGl0eUxhYmVsPXtsYWJlbH0+XHJcbiAgICAgICAge2Jhbm5lcnMubWFwKChiYW5uZXIsIGluZGV4KSA9PiAoXHJcbiAgICAgICAgICA8U3R5bGVkU3RhY2tJdGVtXHJcbiAgICAgICAgICAgIGtleT17YmFubmVyLmlkfVxyXG4gICAgICAgICAgICBzcGFjaW5nPXtTVEFDS19TUEFDSU5HfVxyXG4gICAgICAgICAgICBpc0xhc3Q9e2luZGV4ID09PSBiYW5uZXJzLmxlbmd0aCAtIDF9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxTeXN0ZW1CYW5uZXIgey4uLmJhbm5lcn0gLz5cclxuICAgICAgICAgIDwvU3R5bGVkU3RhY2tJdGVtPlxyXG4gICAgICAgICkpfVxyXG4gICAgICA8L1N0eWxlZFN0YWNrPlxyXG4gICAgPC9Nb2RhbD5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2hlbGxCYW5uZXJzQW5kcm9pZDtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUtBLElBQUFBLE1BQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE1BQUEs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