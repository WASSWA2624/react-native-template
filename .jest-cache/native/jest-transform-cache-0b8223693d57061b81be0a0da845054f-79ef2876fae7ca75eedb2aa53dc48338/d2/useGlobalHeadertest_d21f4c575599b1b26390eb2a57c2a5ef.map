{"version":3,"names":["_react","_interopRequireDefault","require","_reactTestRenderer","_useGlobalHeader","_GlobalHeader","_jsxRuntime","act","TestRenderer","renderHook","hook","_ref","arguments","length","undefined","initialProps","result","renderer","HookHarness","_ref2","hookProps","hookResult","Object","assign","create","jsx","current","rerender","newProps","update","describe","it","_renderHook","useGlobalHeader","actions","expect","primaryActions","toEqual","secondaryActions","key","roles","_renderHook2","currentRole","keys","map","action","toContain","not","_renderHook3","toHaveLength","placement","ACTION_PLACEMENTS","SECONDARY","_renderHook4","_renderHook5","breadcrumbs","label","hasBreadcrumbs","toBe"],"sources":["useGlobalHeader.test.js"],"sourcesContent":["/**\r\n * useGlobalHeader Hook Tests\r\n * File: useGlobalHeader.test.js\r\n */\r\nimport React from 'react';\r\nimport TestRenderer from 'react-test-renderer';\r\nimport useGlobalHeader from '@platform/components/navigation/GlobalHeader/useGlobalHeader';\r\nimport { ACTION_PLACEMENTS } from '@platform/components/navigation/GlobalHeader';\r\n\r\nconst act = TestRenderer.act;\r\n\r\n// Custom renderHook implementation to avoid @testing-library/react-hooks dependency\r\nconst renderHook = (hook, { initialProps } = {}) => {\r\n  const result = {};\r\n  let renderer;\r\n\r\n  const HookHarness = ({ hookProps }) => {\r\n    const hookResult = hook(hookProps || {});\r\n    Object.assign(result, hookResult);\r\n    return null;\r\n  };\r\n\r\n  act(() => {\r\n    renderer = TestRenderer.create(<HookHarness hookProps={initialProps} />);\r\n  });\r\n\r\n  return {\r\n    result: { current: result },\r\n    rerender: (newProps) => {\r\n      act(() => {\r\n        renderer.update(<HookHarness hookProps={newProps} />);\r\n      });\r\n    },\r\n  };\r\n};\r\n\r\ndescribe('useGlobalHeader Hook', () => {\r\n  it('should return empty arrays when actions are invalid', () => {\r\n    const { result } = renderHook(() => useGlobalHeader({ actions: null }));\r\n    expect(result.current.primaryActions).toEqual([]);\r\n    expect(result.current.secondaryActions).toEqual([]);\r\n  });\r\n\r\n  it('should filter actions by currentRole', () => {\r\n    const actions = [\r\n      { key: 'admin', roles: ['admin'] },\r\n      { key: 'user', roles: ['user'] },\r\n      { key: 'open' },\r\n    ];\r\n    const { result } = renderHook(() => useGlobalHeader({ actions, currentRole: 'admin' }));\r\n    const keys = result.current.primaryActions.map((action) => action.key);\r\n    expect(keys).toContain('admin');\r\n    expect(keys).toContain('open');\r\n    expect(keys).not.toContain('user');\r\n  });\r\n\r\n  it('should hide role-scoped actions when role is missing', () => {\r\n    const actions = [{ key: 'secure', roles: ['admin'] }];\r\n    const { result } = renderHook(() => useGlobalHeader({ actions, currentRole: '' }));\r\n    expect(result.current.primaryActions).toHaveLength(0);\r\n  });\r\n\r\n  it('should split actions by placement', () => {\r\n    const actions = [\r\n      { key: 'primary' },\r\n      { key: 'secondary', placement: ACTION_PLACEMENTS.SECONDARY },\r\n    ];\r\n    const { result } = renderHook(() => useGlobalHeader({ actions }));\r\n    expect(result.current.primaryActions).toHaveLength(1);\r\n    expect(result.current.secondaryActions).toHaveLength(1);\r\n  });\r\n\r\n  it('should set hasBreadcrumbs when items exist', () => {\r\n    const { result } = renderHook(() =>\r\n      useGlobalHeader({ breadcrumbs: [{ label: 'Home' }] })\r\n    );\r\n    expect(result.current.hasBreadcrumbs).toBe(true);\r\n  });\r\n});\r\n"],"mappings":"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","ignoreList":[]}