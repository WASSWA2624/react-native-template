{"version":3,"names":["_react","require","DEFAULT_ERROR_CODE","toErrorCode","value","trim","initialState","isLoading","errorCode","data","reducer","state","action","_action$data","type","Object","assign","useAsyncState","_useReducer","useReducer","_useReducer2","_slicedToArray2","default","dispatch","start","useCallback","succeed","fail","reset","_default","exports"],"sources":["useAsyncState.js"],"sourcesContent":["/**\r\n * useAsyncState Hook\r\n * Standard async state shape: loading + errorCode + data.\r\n * File: useAsyncState.js\r\n */\r\nimport { useCallback, useReducer } from 'react';\r\n\r\nconst DEFAULT_ERROR_CODE = 'UNKNOWN_ERROR';\r\n\r\nconst toErrorCode = (value) => {\r\n  if (typeof value === 'string' && value.trim()) return value.trim();\r\n  return DEFAULT_ERROR_CODE;\r\n};\r\n\r\nconst initialState = {\r\n  isLoading: false,\r\n  errorCode: null,\r\n  data: null,\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'START':\r\n      return { ...state, isLoading: true, errorCode: null };\r\n    case 'SUCCEED':\r\n      return { ...state, isLoading: false, errorCode: null, data: action.data ?? null };\r\n    case 'FAIL':\r\n      return { ...state, isLoading: false, errorCode: toErrorCode(action.errorCode) };\r\n    case 'RESET':\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst useAsyncState = () => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  const start = useCallback(() => dispatch({ type: 'START' }), []);\r\n  const succeed = useCallback((data) => dispatch({ type: 'SUCCEED', data }), []);\r\n  const fail = useCallback((errorCode) => dispatch({ type: 'FAIL', errorCode }), []);\r\n  const reset = useCallback(() => dispatch({ type: 'RESET' }), []);\r\n\r\n  return {\r\n    isLoading: state.isLoading,\r\n    errorCode: state.errorCode,\r\n    data: state.data,\r\n    start,\r\n    succeed,\r\n    fail,\r\n    reset,\r\n  };\r\n};\r\n\r\nexport default useAsyncState;\r\n\r\n"],"mappings":";;;;;;AAKA,IAAAA,MAAA,GAAAC,OAAA;AAEA,IAAMC,kBAAkB,GAAG,eAAe;AAE1C,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAIC,KAAK,EAAK;EAC7B,IAAI,OAAOA,KAAK,KAAK,QAAQ,IAAIA,KAAK,CAACC,IAAI,CAAC,CAAC,EAAE,OAAOD,KAAK,CAACC,IAAI,CAAC,CAAC;EAClE,OAAOH,kBAAkB;AAC3B,CAAC;AAED,IAAMI,YAAY,GAAG;EACnBC,SAAS,EAAE,KAAK;EAChBC,SAAS,EAAE,IAAI;EACfC,IAAI,EAAE;AACR,CAAC;AAED,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAIC,KAAK,EAAEC,MAAM,EAAK;EAAA,IAAAC,YAAA;EACjC,QAAQD,MAAM,CAACE,IAAI;IACjB,KAAK,OAAO;MACV,OAAAC,MAAA,CAAAC,MAAA,KAAYL,KAAK;QAAEJ,SAAS,EAAE,IAAI;QAAEC,SAAS,EAAE;MAAI;IACrD,KAAK,SAAS;MACZ,OAAAO,MAAA,CAAAC,MAAA,KAAYL,KAAK;QAAEJ,SAAS,EAAE,KAAK;QAAEC,SAAS,EAAE,IAAI;QAAEC,IAAI,GAAAI,YAAA,GAAED,MAAM,CAACH,IAAI,YAAAI,YAAA,GAAI;MAAI;IACjF,KAAK,MAAM;MACT,OAAAE,MAAA,CAAAC,MAAA,KAAYL,KAAK;QAAEJ,SAAS,EAAE,KAAK;QAAEC,SAAS,EAAEL,WAAW,CAACS,MAAM,CAACJ,SAAS;MAAC;IAC/E,KAAK,OAAO;MACV,OAAOF,YAAY;IACrB;MACE,OAAOK,KAAK;EAChB;AACF,CAAC;AAED,IAAMM,aAAa,GAAG,SAAhBA,aAAaA,CAAA,EAAS;EAC1B,IAAAC,WAAA,GAA0B,IAAAC,iBAAU,EAACT,OAAO,EAAEJ,YAAY,CAAC;IAAAc,YAAA,OAAAC,eAAA,CAAAC,OAAA,EAAAJ,WAAA;IAApDP,KAAK,GAAAS,YAAA;IAAEG,QAAQ,GAAAH,YAAA;EAEtB,IAAMI,KAAK,GAAG,IAAAC,kBAAW,EAAC;IAAA,OAAMF,QAAQ,CAAC;MAAET,IAAI,EAAE;IAAQ,CAAC,CAAC;EAAA,GAAE,EAAE,CAAC;EAChE,IAAMY,OAAO,GAAG,IAAAD,kBAAW,EAAC,UAAChB,IAAI;IAAA,OAAKc,QAAQ,CAAC;MAAET,IAAI,EAAE,SAAS;MAAEL,IAAI,EAAJA;IAAK,CAAC,CAAC;EAAA,GAAE,EAAE,CAAC;EAC9E,IAAMkB,IAAI,GAAG,IAAAF,kBAAW,EAAC,UAACjB,SAAS;IAAA,OAAKe,QAAQ,CAAC;MAAET,IAAI,EAAE,MAAM;MAAEN,SAAS,EAATA;IAAU,CAAC,CAAC;EAAA,GAAE,EAAE,CAAC;EAClF,IAAMoB,KAAK,GAAG,IAAAH,kBAAW,EAAC;IAAA,OAAMF,QAAQ,CAAC;MAAET,IAAI,EAAE;IAAQ,CAAC,CAAC;EAAA,GAAE,EAAE,CAAC;EAEhE,OAAO;IACLP,SAAS,EAAEI,KAAK,CAACJ,SAAS;IAC1BC,SAAS,EAAEG,KAAK,CAACH,SAAS;IAC1BC,IAAI,EAAEE,KAAK,CAACF,IAAI;IAChBe,KAAK,EAALA,KAAK;IACLE,OAAO,EAAPA,OAAO;IACPC,IAAI,EAAJA,IAAI;IACJC,KAAK,EAALA;EACF,CAAC;AACH,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAR,OAAA,GAEaL,aAAa","ignoreList":[]}