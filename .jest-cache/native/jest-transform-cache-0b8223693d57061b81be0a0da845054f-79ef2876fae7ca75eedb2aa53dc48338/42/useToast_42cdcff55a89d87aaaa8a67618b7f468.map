{"version":3,"names":["useState","useRef","useCallback","useEffect","cov_86ocppvaq","s","useToast","_ref","arguments","length","undefined","b","_ref$duration","duration","onDismiss","f","_ref2","_ref3","_slicedToArray","visible","setVisible","timeoutRef","hasCalledOnDismissRef","hide","prevVisible","current","clearTimeout","show","setTimeout"],"sources":["useToast.js"],"sourcesContent":["/**\r\n * Toast Hook\r\n * Manages toast visibility and auto-dismiss\r\n * File: useToast.js\r\n */\r\n\r\nimport { useState, useRef, useCallback, useEffect } from 'react';\r\n\r\n/**\r\n * Hook for managing toast state\r\n * @param {number} duration - Auto-dismiss duration in ms (default: 3000)\r\n * @param {Function} onDismiss - Callback when toast is dismissed\r\n */\r\nconst useToast = ({ duration = 3000, onDismiss } = {}) => {\r\n  const [visible, setVisible] = useState(false);\r\n  const timeoutRef = useRef(null);\r\n  const hasCalledOnDismissRef = useRef(false);\r\n\r\n  const hide = useCallback(() => {\r\n    setVisible((prevVisible) => {\r\n      // Call onDismiss only when transitioning from visible to hidden, or if it hasn't been called yet\r\n      if (!hasCalledOnDismissRef.current && onDismiss) {\r\n        hasCalledOnDismissRef.current = true;\r\n        onDismiss();\r\n      }\r\n      return false;\r\n    });\r\n    if (timeoutRef.current) {\r\n      clearTimeout(timeoutRef.current);\r\n      timeoutRef.current = null;\r\n    }\r\n  }, [onDismiss]);\r\n\r\n  const show = useCallback(() => {\r\n    setVisible(true);\r\n    // Reset the onDismiss flag when showing\r\n    hasCalledOnDismissRef.current = false;\r\n    if (timeoutRef.current) {\r\n      clearTimeout(timeoutRef.current);\r\n    }\r\n    timeoutRef.current = setTimeout(() => {\r\n      hide();\r\n    }, duration);\r\n  }, [duration, hide]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (timeoutRef.current) {\r\n        clearTimeout(timeoutRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Reset onDismiss flag when onDismiss changes\r\n  useEffect(() => {\r\n    hasCalledOnDismissRef.current = false;\r\n  }, [onDismiss]);\r\n\r\n  return {\r\n    visible,\r\n    show,\r\n    hide,\r\n  };\r\n};\r\n\r\nexport default useToast;\r\n\r\n"],"mappings":"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","ignoreList":[]}