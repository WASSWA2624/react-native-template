{"version":3,"names":["_react","require","FOCUSABLE_SELECTOR","getFocusableElements","container","Array","from","querySelectorAll","filter","element","hasAttribute","getAttribute","useFocusTrap","containerRef","isActive","options","arguments","length","undefined","initialFocusRef","useEffect","document","current","focusInitial","focusTarget","focus","handleKeyDown","event","key","focusableElements","firstElement","lastElement","isShift","shiftKey","activeElement","preventDefault","addEventListener","removeEventListener","_default","exports","default"],"sources":["useFocusTrap.js"],"sourcesContent":["/**\r\n * useFocusTrap Hook\r\n * Traps keyboard focus within a container while active.\r\n * File: useFocusTrap.js\r\n */\r\nimport { useEffect } from 'react';\r\n\r\nconst FOCUSABLE_SELECTOR =\r\n  'a[href],button:not([disabled]),textarea,input,select,[tabindex]:not([tabindex=\"-1\"])';\r\n\r\nconst getFocusableElements = (container) => {\r\n  if (!container) return [];\r\n  return Array.from(container.querySelectorAll(FOCUSABLE_SELECTOR)).filter((element) => {\r\n    return !element.hasAttribute('disabled') && element.getAttribute('aria-hidden') !== 'true';\r\n  });\r\n};\r\n\r\nconst useFocusTrap = (containerRef, isActive, options = {}) => {\r\n  const { initialFocusRef } = options;\r\n\r\n  useEffect(() => {\r\n    if (!isActive || typeof document === 'undefined') return undefined;\r\n    const container = containerRef?.current;\r\n    if (!container) return undefined;\r\n\r\n    const focusInitial = () => {\r\n      const focusTarget = initialFocusRef?.current || getFocusableElements(container)[0];\r\n      if (focusTarget && typeof focusTarget.focus === 'function') {\r\n        focusTarget.focus();\r\n      }\r\n    };\r\n\r\n    const handleKeyDown = (event) => {\r\n      if (event.key !== 'Tab') return;\r\n      const focusableElements = getFocusableElements(container);\r\n      if (focusableElements.length === 0) return;\r\n\r\n      const firstElement = focusableElements[0];\r\n      const lastElement = focusableElements[focusableElements.length - 1];\r\n      const isShift = event.shiftKey;\r\n      const activeElement = document.activeElement;\r\n\r\n      if (isShift && activeElement === firstElement) {\r\n        event.preventDefault();\r\n        lastElement.focus();\r\n      } else if (!isShift && activeElement === lastElement) {\r\n        event.preventDefault();\r\n        firstElement.focus();\r\n      }\r\n    };\r\n\r\n    focusInitial();\r\n    container.addEventListener('keydown', handleKeyDown);\r\n\r\n    return () => {\r\n      container.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [containerRef, initialFocusRef, isActive]);\r\n};\r\n\r\nexport default useFocusTrap;\r\n"],"mappings":";;;;AAKA,IAAAA,MAAA,GAAAC,OAAA;AAEA,IAAMC,kBAAkB,GACtB,sFAAsF;AAExF,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAIC,SAAS,EAAK;EAC1C,IAAI,CAACA,SAAS,EAAE,OAAO,EAAE;EACzB,OAAOC,KAAK,CAACC,IAAI,CAACF,SAAS,CAACG,gBAAgB,CAACL,kBAAkB,CAAC,CAAC,CAACM,MAAM,CAAC,UAACC,OAAO,EAAK;IACpF,OAAO,CAACA,OAAO,CAACC,YAAY,CAAC,UAAU,CAAC,IAAID,OAAO,CAACE,YAAY,CAAC,aAAa,CAAC,KAAK,MAAM;EAC5F,CAAC,CAAC;AACJ,CAAC;AAED,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAIC,YAAY,EAAEC,QAAQ,EAAmB;EAAA,IAAjBC,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EACxD,IAAQG,eAAe,GAAKJ,OAAO,CAA3BI,eAAe;EAEvB,IAAAC,gBAAS,EAAC,YAAM;IACd,IAAI,CAACN,QAAQ,IAAI,OAAOO,QAAQ,KAAK,WAAW,EAAE,OAAOH,SAAS;IAClE,IAAMd,SAAS,GAAGS,YAAY,oBAAZA,YAAY,CAAES,OAAO;IACvC,IAAI,CAAClB,SAAS,EAAE,OAAOc,SAAS;IAEhC,IAAMK,YAAY,GAAG,SAAfA,YAAYA,CAAA,EAAS;MACzB,IAAMC,WAAW,GAAG,CAAAL,eAAe,oBAAfA,eAAe,CAAEG,OAAO,KAAInB,oBAAoB,CAACC,SAAS,CAAC,CAAC,CAAC,CAAC;MAClF,IAAIoB,WAAW,IAAI,OAAOA,WAAW,CAACC,KAAK,KAAK,UAAU,EAAE;QAC1DD,WAAW,CAACC,KAAK,CAAC,CAAC;MACrB;IACF,CAAC;IAED,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAIC,KAAK,EAAK;MAC/B,IAAIA,KAAK,CAACC,GAAG,KAAK,KAAK,EAAE;MACzB,IAAMC,iBAAiB,GAAG1B,oBAAoB,CAACC,SAAS,CAAC;MACzD,IAAIyB,iBAAiB,CAACZ,MAAM,KAAK,CAAC,EAAE;MAEpC,IAAMa,YAAY,GAAGD,iBAAiB,CAAC,CAAC,CAAC;MACzC,IAAME,WAAW,GAAGF,iBAAiB,CAACA,iBAAiB,CAACZ,MAAM,GAAG,CAAC,CAAC;MACnE,IAAMe,OAAO,GAAGL,KAAK,CAACM,QAAQ;MAC9B,IAAMC,aAAa,GAAGb,QAAQ,CAACa,aAAa;MAE5C,IAAIF,OAAO,IAAIE,aAAa,KAAKJ,YAAY,EAAE;QAC7CH,KAAK,CAACQ,cAAc,CAAC,CAAC;QACtBJ,WAAW,CAACN,KAAK,CAAC,CAAC;MACrB,CAAC,MAAM,IAAI,CAACO,OAAO,IAAIE,aAAa,KAAKH,WAAW,EAAE;QACpDJ,KAAK,CAACQ,cAAc,CAAC,CAAC;QACtBL,YAAY,CAACL,KAAK,CAAC,CAAC;MACtB;IACF,CAAC;IAEDF,YAAY,CAAC,CAAC;IACdnB,SAAS,CAACgC,gBAAgB,CAAC,SAAS,EAAEV,aAAa,CAAC;IAEpD,OAAO,YAAM;MACXtB,SAAS,CAACiC,mBAAmB,CAAC,SAAS,EAAEX,aAAa,CAAC;IACzD,CAAC;EACH,CAAC,EAAE,CAACb,YAAY,EAAEM,eAAe,EAAEL,QAAQ,CAAC,CAAC;AAC/C,CAAC;AAAC,IAAAwB,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEa5B,YAAY","ignoreList":[]}