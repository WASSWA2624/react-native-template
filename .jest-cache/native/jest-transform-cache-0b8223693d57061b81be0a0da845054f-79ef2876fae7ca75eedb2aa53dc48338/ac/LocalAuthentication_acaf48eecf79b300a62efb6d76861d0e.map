{"version":3,"names":["_expoModulesCore","require","_invariant","_interopRequireDefault","_ExpoLocalAuthentication","_LocalAuthentication","hasHardwareAsync","_hasHardwareAsync","apply","arguments","_asyncToGenerator2","default","ExpoLocalAuthentication","UnavailabilityError","supportedAuthenticationTypesAsync","_supportedAuthenticationTypesAsync","isEnrolledAsync","_isEnrolledAsync","getEnrolledLevelAsync","_getEnrolledLevelAsync","authenticateAsync","_authenticateAsync","options","length","undefined","hasOwnProperty","invariant","promptMessage","cancelLabel","result","Object","assign","cancelAuthenticate","_cancelAuthenticate"],"sources":["../src/LocalAuthentication.ts"],"sourcesContent":["import { UnavailabilityError } from 'expo-modules-core';\nimport invariant from 'invariant';\n\nimport ExpoLocalAuthentication from './ExpoLocalAuthentication';\nimport {\n  LocalAuthenticationOptions,\n  AuthenticationType,\n  LocalAuthenticationResult,\n  SecurityLevel,\n  BiometricsSecurityLevel,\n  LocalAuthenticationError,\n} from './LocalAuthentication.types';\n\nexport {\n  LocalAuthenticationOptions,\n  AuthenticationType,\n  LocalAuthenticationResult,\n  SecurityLevel,\n  BiometricsSecurityLevel,\n  LocalAuthenticationError,\n};\n\n// @needsAudit\n/**\n * Determine whether a face or fingerprint scanner is available on the device.\n * @return Returns a promise which fulfils with a `boolean` value indicating whether a face or\n * fingerprint scanner is available on this device.\n */\nexport async function hasHardwareAsync(): Promise<boolean> {\n  if (!ExpoLocalAuthentication.hasHardwareAsync) {\n    throw new UnavailabilityError('expo-local-authentication', 'hasHardwareAsync');\n  }\n  return await ExpoLocalAuthentication.hasHardwareAsync();\n}\n\n// @needsAudit\n/**\n * Determine what kinds of authentications are available on the device.\n * @return Returns a promise which fulfils to an array containing [`AuthenticationType`s](#authenticationtype).\n *\n * Devices can support multiple authentication methods - i.e. `[1,2]` means the device supports both\n * fingerprint and facial recognition. If none are supported, this method returns an empty array.\n */\nexport async function supportedAuthenticationTypesAsync(): Promise<AuthenticationType[]> {\n  if (!ExpoLocalAuthentication.supportedAuthenticationTypesAsync) {\n    throw new UnavailabilityError('expo-local-authentication', 'supportedAuthenticationTypesAsync');\n  }\n  return await ExpoLocalAuthentication.supportedAuthenticationTypesAsync();\n}\n\n// @needsAudit\n/**\n * Determine whether the device has saved fingerprints or facial data to use for authentication.\n * @return Returns a promise which fulfils to `boolean` value indicating whether the device has\n * saved fingerprints or facial data for authentication.\n */\nexport async function isEnrolledAsync(): Promise<boolean> {\n  if (!ExpoLocalAuthentication.isEnrolledAsync) {\n    throw new UnavailabilityError('expo-local-authentication', 'isEnrolledAsync');\n  }\n  return await ExpoLocalAuthentication.isEnrolledAsync();\n}\n\n// @needsAudit\n/**\n * Determine what kind of authentication is enrolled on the device.\n * @return Returns a promise which fulfils with [`SecurityLevel`](#securitylevel).\n * > **Note:** On Android devices prior to M, `SECRET` can be returned if only the SIM lock has been\n * enrolled, which is not the method that [`authenticateAsync`](#localauthenticationauthenticateasyncoptions)\n * prompts.\n */\nexport async function getEnrolledLevelAsync(): Promise<SecurityLevel> {\n  if (!ExpoLocalAuthentication.getEnrolledLevelAsync) {\n    throw new UnavailabilityError('expo-local-authentication', 'getEnrolledLevelAsync');\n  }\n  return await ExpoLocalAuthentication.getEnrolledLevelAsync();\n}\n\n// @needsAudit\n/**\n * Attempts to authenticate via Fingerprint/TouchID (or FaceID if available on the device).\n * > **Note:** Apple requires apps which use FaceID to provide a description of why they use this API.\n * If you try to use FaceID on an iPhone with FaceID without providing `infoPlist.NSFaceIDUsageDescription`\n * in `app.json`, the module will authenticate using device passcode. For more information about\n * usage descriptions on iOS, see [permissions guide](/guides/permissions/#ios).\n * @param options\n * @return Returns a promise which fulfils with [`LocalAuthenticationResult`](#localauthenticationresult).\n */\nexport async function authenticateAsync(\n  options: LocalAuthenticationOptions = {}\n): Promise<LocalAuthenticationResult> {\n  if (!ExpoLocalAuthentication.authenticateAsync) {\n    throw new UnavailabilityError('expo-local-authentication', 'authenticateAsync');\n  }\n\n  if (options.hasOwnProperty('promptMessage')) {\n    invariant(\n      typeof options.promptMessage === 'string' && options.promptMessage.length,\n      'LocalAuthentication.authenticateAsync : `options.promptMessage` must be a non-empty string.'\n    );\n  }\n\n  const promptMessage = options.promptMessage || 'Authenticate';\n  const cancelLabel = options.cancelLabel || 'Cancel';\n  const result = await ExpoLocalAuthentication.authenticateAsync({\n    ...options,\n    promptMessage,\n    cancelLabel,\n  });\n\n  return result;\n}\n\n// @needsAudit\n/**\n * Cancels authentication flow.\n * @platform android\n */\nexport async function cancelAuthenticate(): Promise<void> {\n  if (!ExpoLocalAuthentication.cancelAuthenticate) {\n    throw new UnavailabilityError('expo-local-authentication', 'cancelAuthenticate');\n  }\n  await ExpoLocalAuthentication.cancelAuthenticate();\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAAA,gBAAA,GAAAC,OAAA;AACA,IAAAC,UAAA,GAAAC,sBAAA,CAAAF,OAAA;AAEA,IAAAG,wBAAA,GAAAD,sBAAA,CAAAF,OAAA;AACA,IAAAI,oBAAA,GAAAJ,OAAA;AAOqC,SAiBfK,gBAAgBA,CAAA;EAAA,OAAAC,iBAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAF,kBAAA;EAAAA,iBAAA,OAAAG,kBAAA,CAAAC,OAAA,EAA/B,aAA+B;IACpC,IAAI,CAACC,gCAAuB,CAACN,gBAAgB,EAAE;MAC7C,MAAM,IAAIO,oCAAmB,CAAC,2BAA2B,EAAE,kBAAkB,CAAC;IAChF;IACA,aAAaD,gCAAuB,CAACN,gBAAgB,EAAE;EACzD,CAAC;EAAA,OAAAC,iBAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAUqBK,iCAAiCA,CAAA;EAAA,OAAAC,kCAAA,CAAAP,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAM,mCAAA;EAAAA,kCAAA,OAAAL,kBAAA,CAAAC,OAAA,EAAhD,aAAgD;IACrD,IAAI,CAACC,gCAAuB,CAACE,iCAAiC,EAAE;MAC9D,MAAM,IAAID,oCAAmB,CAAC,2BAA2B,EAAE,mCAAmC,CAAC;IACjG;IACA,aAAaD,gCAAuB,CAACE,iCAAiC,EAAE;EAC1E,CAAC;EAAA,OAAAC,kCAAA,CAAAP,KAAA,OAAAC,SAAA;AAAA;AAAA,SAQqBO,eAAeA,CAAA;EAAA,OAAAC,gBAAA,CAAAT,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAQ,iBAAA;EAAAA,gBAAA,OAAAP,kBAAA,CAAAC,OAAA,EAA9B,aAA8B;IACnC,IAAI,CAACC,gCAAuB,CAACI,eAAe,EAAE;MAC5C,MAAM,IAAIH,oCAAmB,CAAC,2BAA2B,EAAE,iBAAiB,CAAC;IAC/E;IACA,aAAaD,gCAAuB,CAACI,eAAe,EAAE;EACxD,CAAC;EAAA,OAAAC,gBAAA,CAAAT,KAAA,OAAAC,SAAA;AAAA;AAAA,SAUqBS,qBAAqBA,CAAA;EAAA,OAAAC,sBAAA,CAAAX,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAU,uBAAA;EAAAA,sBAAA,OAAAT,kBAAA,CAAAC,OAAA,EAApC,aAAoC;IACzC,IAAI,CAACC,gCAAuB,CAACM,qBAAqB,EAAE;MAClD,MAAM,IAAIL,oCAAmB,CAAC,2BAA2B,EAAE,uBAAuB,CAAC;IACrF;IACA,aAAaD,gCAAuB,CAACM,qBAAqB,EAAE;EAC9D,CAAC;EAAA,OAAAC,sBAAA,CAAAX,KAAA,OAAAC,SAAA;AAAA;AAAA,SAYqBW,iBAAiBA,CAAA;EAAA,OAAAC,kBAAA,CAAAb,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAY,mBAAA;EAAAA,kBAAA,OAAAX,kBAAA,CAAAC,OAAA,EAAhC,aACmC;IAAA,IAAxCW,OAAA,GAAAb,SAAA,CAAAc,MAAA,QAAAd,SAAA,QAAAe,SAAA,GAAAf,SAAA,MAAsC,EAAE;IAExC,IAAI,CAACG,gCAAuB,CAACQ,iBAAiB,EAAE;MAC9C,MAAM,IAAIP,oCAAmB,CAAC,2BAA2B,EAAE,mBAAmB,CAAC;IACjF;IAEA,IAAIS,OAAO,CAACG,cAAc,CAAC,eAAe,CAAC,EAAE;MAC3C,IAAAC,kBAAS,EACP,OAAOJ,OAAO,CAACK,aAAa,KAAK,QAAQ,IAAIL,OAAO,CAACK,aAAa,CAACJ,MAAM,EACzE,6FAA6F,CAC9F;IACH;IAEA,IAAMI,aAAa,GAAGL,OAAO,CAACK,aAAa,IAAI,cAAc;IAC7D,IAAMC,WAAW,GAAGN,OAAO,CAACM,WAAW,IAAI,QAAQ;IACnD,IAAMC,MAAM,SAASjB,gCAAuB,CAACQ,iBAAiB,CAAAU,MAAA,CAAAC,MAAA,KACzDT,OAAO;MACVK,aAAa,EAAbA,aAAa;MACbC,WAAW,EAAXA;IAAW,EACZ,CAAC;IAEF,OAAOC,MAAM;EACf,CAAC;EAAA,OAAAR,kBAAA,CAAAb,KAAA,OAAAC,SAAA;AAAA;AAAA,SAOqBuB,kBAAkBA,CAAA;EAAA,OAAAC,mBAAA,CAAAzB,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAwB,oBAAA;EAAAA,mBAAA,OAAAvB,kBAAA,CAAAC,OAAA,EAAjC,aAAiC;IACtC,IAAI,CAACC,gCAAuB,CAACoB,kBAAkB,EAAE;MAC/C,MAAM,IAAInB,oCAAmB,CAAC,2BAA2B,EAAE,oBAAoB,CAAC;IAClF;IACA,MAAMD,gCAAuB,CAACoB,kBAAkB,EAAE;EACpD,CAAC;EAAA,OAAAC,mBAAA,CAAAzB,KAAA,OAAAC,SAAA;AAAA","ignoreList":[]}