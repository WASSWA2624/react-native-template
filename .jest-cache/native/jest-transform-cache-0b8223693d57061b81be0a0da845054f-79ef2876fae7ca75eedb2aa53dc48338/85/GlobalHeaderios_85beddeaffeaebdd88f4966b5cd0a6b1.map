{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNativeSafeAreaContext","_Text","_interopRequireDefault","_Breadcrumbs","_hooks","_useGlobalHeader2","_types","_GlobalHeaderIos","_jsxRuntime","_excluded","getActionKey","action","index","key","id","label","buildActionItems","_ref","actions","testID","map","actionKey","actionTestID","undefined","isPrimary","variant","ACTION_VARIANTS","PRIMARY","isDisabled","disabled","onPress","labelColor","jsxs","StyledActionButton","accessibilityRole","accessibilityLabel","children","icon","jsx","StyledActionIcon","default","color","GlobalHeaderIOS","_ref2","title","subtitle","breadcrumbs","onBreadcrumbPress","_ref2$actions","currentRole","rest","_objectWithoutProperties2","_useI18n","useI18n","t","_useSafeAreaInsets","useSafeAreaInsets","topInset","top","_useGlobalHeader","useGlobalHeader","primaryActions","secondaryActions","hasBreadcrumbs","resolvedTitle","resolvedLabel","secondaryActionItems","useMemo","primaryActionItems","StyledHeader","Object","assign","StyledHeaderRow","StyledTitleGroup","length","StyledActionsGroup","StyledTitleBlock","StyledBreadcrumbsRow","items","onItemPress","_default","exports"],"sources":["GlobalHeader.ios.jsx"],"sourcesContent":["/**\r\n * GlobalHeader Component - iOS\r\n * Shared global header with title, actions, and breadcrumbs\r\n * File: GlobalHeader.ios.jsx\r\n */\r\nimport React, { useMemo } from 'react';\r\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\r\nimport Text from '@platform/components/display/Text';\r\nimport Breadcrumbs from '@platform/components/navigation/Breadcrumbs';\r\nimport { useI18n } from '@hooks';\r\nimport useGlobalHeader from './useGlobalHeader';\r\nimport { ACTION_VARIANTS } from './types';\r\nimport {\r\n  StyledHeader,\r\n  StyledHeaderRow,\r\n  StyledTitleGroup,\r\n  StyledTitleBlock,\r\n  StyledActionsGroup,\r\n  StyledActionButton,\r\n  StyledActionIcon,\r\n  StyledBreadcrumbsRow,\r\n} from './GlobalHeader.ios.styles';\r\n\r\nconst getActionKey = (action, index) => action.key || action.id || action.label || `action-${index}`;\r\n\r\nconst buildActionItems = ({ actions, testID }) => {\r\n  return actions.map((action, index) => {\r\n    const actionKey = getActionKey(action, index);\r\n    const actionTestID = action.testID || (testID ? `${testID}-action-${actionKey}` : undefined);\r\n    const isPrimary = action.variant === ACTION_VARIANTS.PRIMARY;\r\n    const isDisabled = action.disabled || !action.onPress;\r\n    const label = action.label;\r\n    const labelColor = isPrimary ? 'onPrimary' : 'text.primary';\r\n\r\n    return (\r\n      <StyledActionButton\r\n        key={actionKey}\r\n        onPress={action.onPress}\r\n        disabled={isDisabled}\r\n        isPrimary={isPrimary}\r\n        isDisabled={isDisabled}\r\n        accessibilityRole=\"button\"\r\n        accessibilityLabel={action.accessibilityLabel || label}\r\n        testID={actionTestID}\r\n      >\r\n        {action.icon ? <StyledActionIcon>{action.icon}</StyledActionIcon> : null}\r\n        {label ? (\r\n          <Text variant=\"label\" color={labelColor}>\r\n            {label}\r\n          </Text>\r\n        ) : null}\r\n      </StyledActionButton>\r\n    );\r\n  });\r\n};\r\n\r\n/**\r\n * GlobalHeader component for iOS\r\n * @param {Object} props - GlobalHeader props\r\n * @param {string|React.ReactNode} props.title - Header title\r\n * @param {string|React.ReactNode} props.subtitle - Optional subtitle\r\n * @param {Array} props.breadcrumbs - Breadcrumb items\r\n * @param {Function} props.onBreadcrumbPress - Breadcrumb press handler\r\n * @param {Array} props.actions - Action definitions\r\n * @param {string} props.currentRole - Current user role\r\n * @param {string} props.accessibilityLabel - Accessibility label\r\n * @param {string} props.testID - Test identifier\r\n */\r\nconst GlobalHeaderIOS = ({\r\n  title,\r\n  subtitle,\r\n  breadcrumbs,\r\n  onBreadcrumbPress,\r\n  actions = [],\r\n  currentRole,\r\n  accessibilityLabel,\r\n  testID,\r\n  ...rest\r\n}) => {\r\n  const { t } = useI18n();\r\n  const { top: topInset } = useSafeAreaInsets();\r\n  const { primaryActions, secondaryActions, hasBreadcrumbs } = useGlobalHeader({\r\n    actions,\r\n    currentRole,\r\n    breadcrumbs,\r\n  });\r\n  const resolvedTitle = title || t('navigation.mainNavigation');\r\n  const resolvedLabel = accessibilityLabel || t('navigation.header.title');\r\n\r\n  const secondaryActionItems = useMemo(() => {\r\n    return buildActionItems({ actions: secondaryActions, testID });\r\n  }, [secondaryActions, testID]);\r\n\r\n  const primaryActionItems = useMemo(() => {\r\n    return buildActionItems({ actions: primaryActions, testID });\r\n  }, [primaryActions, testID]);\r\n\r\n  return (\r\n    <StyledHeader\r\n      topInset={topInset}\r\n      accessibilityRole=\"header\"\r\n      accessibilityLabel={resolvedLabel}\r\n      testID={testID}\r\n      {...rest}\r\n    >\r\n      <StyledHeaderRow>\r\n        <StyledTitleGroup>\r\n          {secondaryActionItems.length > 0 ? (\r\n            <StyledActionsGroup>{secondaryActionItems}</StyledActionsGroup>\r\n          ) : null}\r\n          <StyledTitleBlock>\r\n            {typeof resolvedTitle === 'string' ? (\r\n              <Text variant=\"h3\">{resolvedTitle}</Text>\r\n            ) : (\r\n              resolvedTitle\r\n            )}\r\n            {subtitle\r\n              ? typeof subtitle === 'string'\r\n                ? (\r\n                  <Text variant=\"caption\" color=\"text.secondary\">\r\n                    {subtitle}\r\n                  </Text>\r\n                )\r\n                : subtitle\r\n              : null}\r\n          </StyledTitleBlock>\r\n        </StyledTitleGroup>\r\n        {primaryActionItems.length > 0 ? (\r\n          <StyledActionsGroup>{primaryActionItems}</StyledActionsGroup>\r\n        ) : null}\r\n      </StyledHeaderRow>\r\n      {hasBreadcrumbs ? (\r\n        <StyledBreadcrumbsRow>\r\n          <Breadcrumbs\r\n            items={breadcrumbs}\r\n            onItemPress={onBreadcrumbPress}\r\n            testID={testID ? `${testID}-breadcrumbs` : undefined}\r\n            accessibilityLabel={t('navigation.breadcrumbs.title')}\r\n          />\r\n        </StyledBreadcrumbsRow>\r\n      ) : null}\r\n    </StyledHeader>\r\n  );\r\n};\r\n\r\nexport default GlobalHeaderIOS;\r\n"],"mappings":"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","ignoreList":[]}