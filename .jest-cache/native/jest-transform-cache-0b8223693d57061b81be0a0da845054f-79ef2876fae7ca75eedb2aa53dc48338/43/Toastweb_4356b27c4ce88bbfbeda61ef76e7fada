3d074dbddc5aafcf5c6f76076186d3ba
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _react = _interopRequireWildcard(require("react"));
var _ToastWeb = require("./Toast.web.styles");
var _hooks = require("../../../../hooks");
var _types = require("./types");
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["variant", "position", "visible", "message", "onDismiss", "accessibilityLabel", "testID", "className", "style"];
var ToastWeb = function ToastWeb(_ref) {
  var _ref$variant = _ref.variant,
    variant = _ref$variant === void 0 ? _types.VARIANTS.INFO : _ref$variant,
    _ref$position = _ref.position,
    position = _ref$position === void 0 ? _types.POSITIONS.BOTTOM : _ref$position,
    _ref$visible = _ref.visible,
    visible = _ref$visible === void 0 ? false : _ref$visible,
    message = _ref.message,
    onDismiss = _ref.onDismiss,
    accessibilityLabel = _ref.accessibilityLabel,
    testID = _ref.testID,
    className = _ref.className,
    style = _ref.style,
    rest = (0, _objectWithoutProperties2.default)(_ref, _excluded);
  var _useI18n = (0, _hooks.useI18n)(),
    t = _useI18n.t;
  (0, _react.useEffect)(function () {
    if (!visible || !onDismiss || typeof document === 'undefined') return;
    var handleKeyDown = function handleKeyDown(e) {
      if (e.key === 'Escape') {
        e.preventDefault();
        onDismiss();
      }
    };
    document.addEventListener('keydown', handleKeyDown);
    return function () {
      return document.removeEventListener('keydown', handleKeyDown);
    };
  }, [visible, onDismiss]);
  var canUseMessageAsLabel = typeof message === 'string' && message !== '' || typeof message === 'number';
  var defaultAccessibilityLabel = accessibilityLabel || (canUseMessageAsLabel ? undefined : t('common.message'));
  var messageLabel = typeof message === 'string' && message !== '' ? message : typeof message === 'number' ? String(message) : defaultAccessibilityLabel;
  if (!visible) return null;
  return (0, _jsxRuntime.jsx)(_ToastWeb.StyledToast, Object.assign({
    variant: variant,
    position: position,
    role: "alert",
    "aria-label": accessibilityLabel || messageLabel,
    "data-testid": testID,
    testID: testID,
    className: className,
    style: style,
    title: onDismiss ? t('common.toastDismissHint') : undefined
  }, rest, {
    children: (0, _jsxRuntime.jsx)(_ToastWeb.StyledToastText, {
      variant: variant,
      children: message
    })
  }));
};
var _default = exports.default = ToastWeb;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfVG9hc3RXZWIiLCJfaG9va3MiLCJfdHlwZXMiLCJfanN4UnVudGltZSIsIl9leGNsdWRlZCIsIlRvYXN0V2ViIiwiX3JlZiIsIl9yZWYkdmFyaWFudCIsInZhcmlhbnQiLCJWQVJJQU5UUyIsIklORk8iLCJfcmVmJHBvc2l0aW9uIiwicG9zaXRpb24iLCJQT1NJVElPTlMiLCJCT1RUT00iLCJfcmVmJHZpc2libGUiLCJ2aXNpYmxlIiwibWVzc2FnZSIsIm9uRGlzbWlzcyIsImFjY2Vzc2liaWxpdHlMYWJlbCIsInRlc3RJRCIsImNsYXNzTmFtZSIsInN0eWxlIiwicmVzdCIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllczIiLCJkZWZhdWx0IiwiX3VzZUkxOG4iLCJ1c2VJMThuIiwidCIsInVzZUVmZmVjdCIsImRvY3VtZW50IiwiaGFuZGxlS2V5RG93biIsImUiLCJrZXkiLCJwcmV2ZW50RGVmYXVsdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2FuVXNlTWVzc2FnZUFzTGFiZWwiLCJkZWZhdWx0QWNjZXNzaWJpbGl0eUxhYmVsIiwidW5kZWZpbmVkIiwibWVzc2FnZUxhYmVsIiwiU3RyaW5nIiwianN4IiwiU3R5bGVkVG9hc3QiLCJPYmplY3QiLCJhc3NpZ24iLCJyb2xlIiwidGl0bGUiLCJjaGlsZHJlbiIsIlN0eWxlZFRvYXN0VGV4dCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIlRvYXN0LndlYi5qc3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFRvYXN0IENvbXBvbmVudCAtIFdlYlxyXG4gKiBUZW1wb3Jhcnkgc3VjY2Vzcy9lcnJvciBtZXNzYWdlcyAoYXV0by1kaXNtaXNzKVxyXG4gKiBGaWxlOiBUb2FzdC53ZWIuanN4XHJcbiAqL1xyXG5cclxuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgU3R5bGVkVG9hc3QsIFN0eWxlZFRvYXN0VGV4dCB9IGZyb20gJy4vVG9hc3Qud2ViLnN0eWxlcyc7XHJcbmltcG9ydCB7IHVzZUkxOG4gfSBmcm9tICdAaG9va3MnO1xyXG5pbXBvcnQgeyBWQVJJQU5UUywgUE9TSVRJT05TIH0gZnJvbSAnLi90eXBlcyc7XHJcblxyXG4vKipcclxuICogVG9hc3QgY29tcG9uZW50IGZvciBXZWJcclxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIC0gVG9hc3QgcHJvcHNcclxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BzLnZhcmlhbnQgLSBUb2FzdCB2YXJpYW50IChzdWNjZXNzLCBlcnJvciwgd2FybmluZywgaW5mbylcclxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BzLnBvc2l0aW9uIC0gVG9hc3QgcG9zaXRpb24gKHRvcCwgYm90dG9tLCBjZW50ZXIpXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcHJvcHMudmlzaWJsZSAtIFZpc2liaWxpdHkgc3RhdGVcclxuICogQHBhcmFtIHtzdHJpbmd8UmVhY3QuUmVhY3ROb2RlfSBwcm9wcy5tZXNzYWdlIC0gVG9hc3QgbWVzc2FnZVxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wcy5vbkRpc21pc3MgLSBEaXNtaXNzIGhhbmRsZXJcclxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BzLmFjY2Vzc2liaWxpdHlMYWJlbCAtIEFjY2Vzc2liaWxpdHkgbGFiZWxcclxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BzLnRlc3RJRCAtIFRlc3QgaWRlbnRpZmllclxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcHMuY2xhc3NOYW1lIC0gQWRkaXRpb25hbCBDU1MgY2xhc3NcclxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzLnN0eWxlIC0gQWRkaXRpb25hbCBzdHlsZXNcclxuICovXHJcbmNvbnN0IFRvYXN0V2ViID0gKHtcclxuICB2YXJpYW50ID0gVkFSSUFOVFMuSU5GTyxcclxuICBwb3NpdGlvbiA9IFBPU0lUSU9OUy5CT1RUT00sXHJcbiAgdmlzaWJsZSA9IGZhbHNlLFxyXG4gIG1lc3NhZ2UsXHJcbiAgb25EaXNtaXNzLFxyXG4gIGFjY2Vzc2liaWxpdHlMYWJlbCxcclxuICB0ZXN0SUQsXHJcbiAgY2xhc3NOYW1lLFxyXG4gIHN0eWxlLFxyXG4gIC4uLnJlc3RcclxufSkgPT4ge1xyXG4gIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCF2aXNpYmxlIHx8ICFvbkRpc21pc3MgfHwgdHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xyXG4gICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlKSA9PiB7XHJcbiAgICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgb25EaXNtaXNzKCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XHJcbiAgICByZXR1cm4gKCkgPT4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xyXG4gIH0sIFt2aXNpYmxlLCBvbkRpc21pc3NdKTtcclxuICAvLyBEZXRlcm1pbmUgaWYgd2Ugc2hvdWxkIHVzZSBtZXNzYWdlIGFzIGxhYmVsIChvbmx5IGZvciBub24tZW1wdHkgc3RyaW5ncyBhbmQgbnVtYmVycylcclxuICBjb25zdCBjYW5Vc2VNZXNzYWdlQXNMYWJlbCA9ICh0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZycgJiYgbWVzc2FnZSAhPT0gJycpIHx8IHR5cGVvZiBtZXNzYWdlID09PSAnbnVtYmVyJztcclxuICBjb25zdCBkZWZhdWx0QWNjZXNzaWJpbGl0eUxhYmVsID0gYWNjZXNzaWJpbGl0eUxhYmVsIHx8IChjYW5Vc2VNZXNzYWdlQXNMYWJlbCA/IHVuZGVmaW5lZCA6IHQoJ2NvbW1vbi5tZXNzYWdlJykpO1xyXG4gIFxyXG4gIC8vIENvbnZlcnQgbWVzc2FnZSB0byBzdHJpbmcgZm9yIGFjY2Vzc2liaWxpdHkgbGFiZWwgaWYgaXQncyBhIG51bWJlclxyXG4gIC8vIEZvciBlbXB0eSBzdHJpbmdzIG9yIFJlYWN0IG5vZGVzLCB1c2UgZGVmYXVsdCBsYWJlbFxyXG4gIGNvbnN0IG1lc3NhZ2VMYWJlbCA9IHR5cGVvZiBtZXNzYWdlID09PSAnc3RyaW5nJyAmJiBtZXNzYWdlICE9PSAnJ1xyXG4gICAgPyBtZXNzYWdlIFxyXG4gICAgOiAodHlwZW9mIG1lc3NhZ2UgPT09ICdudW1iZXInID8gU3RyaW5nKG1lc3NhZ2UpIDogZGVmYXVsdEFjY2Vzc2liaWxpdHlMYWJlbCk7XHJcbiAgXHJcbiAgaWYgKCF2aXNpYmxlKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxTdHlsZWRUb2FzdFxyXG4gICAgICB2YXJpYW50PXt2YXJpYW50fVxyXG4gICAgICBwb3NpdGlvbj17cG9zaXRpb259XHJcbiAgICAgIHJvbGU9XCJhbGVydFwiXHJcbiAgICAgIGFyaWEtbGFiZWw9e2FjY2Vzc2liaWxpdHlMYWJlbCB8fCBtZXNzYWdlTGFiZWx9XHJcbiAgICAgIGRhdGEtdGVzdGlkPXt0ZXN0SUR9XHJcbiAgICAgIHRlc3RJRD17dGVzdElEfVxyXG4gICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cclxuICAgICAgc3R5bGU9e3N0eWxlfVxyXG4gICAgICB0aXRsZT17b25EaXNtaXNzID8gdCgnY29tbW9uLnRvYXN0RGlzbWlzc0hpbnQnKSA6IHVuZGVmaW5lZH1cclxuICAgICAgey4uLnJlc3R9XHJcbiAgICA+XHJcbiAgICAgIDxTdHlsZWRUb2FzdFRleHQgdmFyaWFudD17dmFyaWFudH0+e21lc3NhZ2V9PC9TdHlsZWRUb2FzdFRleHQ+XHJcbiAgICA8L1N0eWxlZFRvYXN0PlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBv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