{"version":3,"names":["_DebuggingOverlayNativeComponent","_interopRequireWildcard","require","_View","_interopRequireDefault","_UIManager","_StyleSheet","React","_jsxRuntime","useRef","useImperativeHandle","isNativeComponentReady","UIManager","hasViewManagerConfig","DebuggingOverlay","_ref","ref","highlightTraceUpdates","updates","nonEmptyRectangles","filter","_ref2","rectangle","color","width","height","nativeComponentRef","current","Commands","highlightElements","elements","clearElementsHighlight","clearElementsHighlights","jsx","default","pointerEvents","style","styles","overlay","children","StyleSheet","create","position","top","bottom","left","right","_default","exports"],"sources":["DebuggingOverlay.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow strict-local\n * @format\n */\n\nimport type {\n  ElementRectangle,\n  TraceUpdate,\n} from '../../src/private/specs_DEPRECATED/components/DebuggingOverlayNativeComponent';\n\nimport DebuggingOverlayNativeComponent, {\n  Commands,\n} from '../../src/private/specs_DEPRECATED/components/DebuggingOverlayNativeComponent';\nimport View from '../Components/View/View';\nimport UIManager from '../ReactNative/UIManager';\nimport StyleSheet from '../StyleSheet/StyleSheet';\nimport * as React from 'react';\n\nconst {useRef, useImperativeHandle} = React;\nconst isNativeComponentReady =\n  UIManager.hasViewManagerConfig('DebuggingOverlay');\n\ntype DebuggingOverlayHandle = {\n  highlightTraceUpdates(updates: $ReadOnlyArray<TraceUpdate>): void,\n  highlightElements(elements: $ReadOnlyArray<ElementRectangle>): void,\n  clearElementsHighlight(): void,\n};\n\nfunction DebuggingOverlay({\n  ref,\n}: {\n  ref: React.RefSetter<DebuggingOverlayHandle>,\n}): React.Node {\n  useImperativeHandle(\n    ref,\n    () => ({\n      highlightTraceUpdates(updates) {\n        if (!isNativeComponentReady) {\n          return;\n        }\n\n        const nonEmptyRectangles = updates.filter(\n          ({rectangle, color}) => rectangle.width >= 0 && rectangle.height >= 0,\n        );\n\n        if (nativeComponentRef.current != null) {\n          Commands.highlightTraceUpdates(\n            nativeComponentRef.current,\n            nonEmptyRectangles,\n          );\n        }\n      },\n      highlightElements(elements) {\n        if (!isNativeComponentReady) {\n          return;\n        }\n\n        if (nativeComponentRef.current != null) {\n          Commands.highlightElements(nativeComponentRef.current, elements);\n        }\n      },\n      clearElementsHighlight() {\n        if (!isNativeComponentReady) {\n          return;\n        }\n\n        if (nativeComponentRef.current != null) {\n          Commands.clearElementsHighlights(nativeComponentRef.current);\n        }\n      },\n    }),\n    [],\n  );\n\n  const nativeComponentRef = useRef<React.ElementRef<\n    typeof DebuggingOverlayNativeComponent,\n  > | null>(null);\n\n  return (\n    isNativeComponentReady && (\n      <View pointerEvents=\"none\" style={styles.overlay}>\n        <DebuggingOverlayNativeComponent\n          ref={nativeComponentRef}\n          style={styles.overlay}\n        />\n      </View>\n    )\n  );\n}\n\nconst styles = StyleSheet.create({\n  overlay: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n  },\n});\n\nexport default DebuggingOverlay as component(\n  ref: React.RefSetter<DebuggingOverlayHandle>,\n);\n"],"mappings":";;;;;;AAeA,IAAAA,gCAAA,GAAAC,uBAAA,CAAAC,OAAA;AAGA,IAAAC,KAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,UAAA,GAAAD,sBAAA,CAAAF,OAAA;AACA,IAAAI,WAAA,GAAAF,sBAAA,CAAAF,OAAA;AACA,IAAAK,KAAA,GAAAN,uBAAA,CAAAC,OAAA;AAA+B,IAAAM,WAAA,GAAAN,OAAA;AAE/B,IAAOO,MAAM,GAAyBF,KAAK,CAApCE,MAAM;EAAEC,mBAAmB,GAAIH,KAAK,CAA5BG,mBAAmB;AAClC,IAAMC,sBAAsB,GAC1BC,kBAAS,CAACC,oBAAoB,CAAC,kBAAkB,CAAC;AAQpD,SAASC,gBAAgBA,CAAAC,IAAA,EAIV;EAAA,IAHbC,GAAG,GAAAD,IAAA,CAAHC,GAAG;EAIHN,mBAAmB,CACjBM,GAAG,EACH;IAAA,OAAO;MACLC,qBAAqB,WAArBA,qBAAqBA,CAACC,OAAO,EAAE;QAC7B,IAAI,CAACP,sBAAsB,EAAE;UAC3B;QACF;QAEA,IAAMQ,kBAAkB,GAAGD,OAAO,CAACE,MAAM,CACvC,UAAAC,KAAA;UAAA,IAAEC,SAAS,GAAAD,KAAA,CAATC,SAAS;YAAEC,KAAK,GAAAF,KAAA,CAALE,KAAK;UAAA,OAAMD,SAAS,CAACE,KAAK,IAAI,CAAC,IAAIF,SAAS,CAACG,MAAM,IAAI,CAAC;QAAA,CACvE,CAAC;QAED,IAAIC,kBAAkB,CAACC,OAAO,IAAI,IAAI,EAAE;UACtCC,yCAAQ,CAACX,qBAAqB,CAC5BS,kBAAkB,CAACC,OAAO,EAC1BR,kBACF,CAAC;QACH;MACF,CAAC;MACDU,iBAAiB,WAAjBA,iBAAiBA,CAACC,QAAQ,EAAE;QAC1B,IAAI,CAACnB,sBAAsB,EAAE;UAC3B;QACF;QAEA,IAAIe,kBAAkB,CAACC,OAAO,IAAI,IAAI,EAAE;UACtCC,yCAAQ,CAACC,iBAAiB,CAACH,kBAAkB,CAACC,OAAO,EAAEG,QAAQ,CAAC;QAClE;MACF,CAAC;MACDC,sBAAsB,WAAtBA,sBAAsBA,CAAA,EAAG;QACvB,IAAI,CAACpB,sBAAsB,EAAE;UAC3B;QACF;QAEA,IAAIe,kBAAkB,CAACC,OAAO,IAAI,IAAI,EAAE;UACtCC,yCAAQ,CAACI,uBAAuB,CAACN,kBAAkB,CAACC,OAAO,CAAC;QAC9D;MACF;IACF,CAAC;EAAA,CAAC,EACF,EACF,CAAC;EAED,IAAMD,kBAAkB,GAAGjB,MAAM,CAEvB,IAAI,CAAC;EAEf,OACEE,sBAAsB,IACpB,IAAAH,WAAA,CAAAyB,GAAA,EAAC9B,KAAA,CAAA+B,OAAI;IAACC,aAAa,EAAC,MAAM;IAACC,KAAK,EAAEC,MAAM,CAACC,OAAQ;IAAAC,QAAA,EAC/C,IAAA/B,WAAA,CAAAyB,GAAA,EAACjC,gCAAA,CAAAkC,OAA+B;MAC9BlB,GAAG,EAAEU,kBAAmB;MACxBU,KAAK,EAAEC,MAAM,CAACC;IAAQ,CACvB;EAAC,CACE,CACP;AAEL;AAEA,IAAMD,MAAM,GAAGG,mBAAU,CAACC,MAAM,CAAC;EAC/BH,OAAO,EAAE;IACPI,QAAQ,EAAE,UAAU;IACpBC,GAAG,EAAE,CAAC;IACNC,MAAM,EAAE,CAAC;IACTC,IAAI,EAAE,CAAC;IACPC,KAAK,EAAE;EACT;AACF,CAAC,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAd,OAAA,GAEYpB,gBAAgB","ignoreList":[]}