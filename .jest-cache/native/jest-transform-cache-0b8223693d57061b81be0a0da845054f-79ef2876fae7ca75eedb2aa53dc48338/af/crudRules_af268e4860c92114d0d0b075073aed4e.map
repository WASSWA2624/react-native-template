{"version":3,"names":["_zod","require","idSchema","z","union","string","min","number","int","nonnegative","payloadSchema","object","passthrough","listParamsSchema","page","positive","optional","limit","sort_by","order","enum","createCrudRules","exports","parseId","value","parse","parsePayload","parseListParams"],"sources":["crudRules.js"],"sourcesContent":["/**\r\n * CRUD Rules Factory\r\n * Shared validation for CRUD features\r\n * File: crudRules.js\r\n */\r\nimport { z } from 'zod';\r\n\r\nconst idSchema = z.union([z.string().min(1), z.number().int().nonnegative()]);\r\nconst payloadSchema = z.object({}).passthrough();\r\nconst listParamsSchema = z\r\n  .object({\r\n    page: z.number().int().positive().optional(),\r\n    limit: z.number().int().positive().optional(),\r\n    sort_by: z.string().min(1).optional(),\r\n    order: z.enum(['asc', 'desc']).optional(),\r\n  })\r\n  .passthrough();\r\n\r\nconst createCrudRules = () => ({\r\n  parseId: (value) => idSchema.parse(value),\r\n  parsePayload: (value) => payloadSchema.parse(value ?? {}),\r\n  parseListParams: (value) => listParamsSchema.parse(value ?? {}),\r\n});\r\n\r\nexport { createCrudRules };\r\n"],"mappings":";;;;AAKA,IAAAA,IAAA,GAAAC,OAAA;AAEA,IAAMC,QAAQ,GAAGC,MAAC,CAACC,KAAK,CAAC,CAACD,MAAC,CAACE,MAAM,CAAC,CAAC,CAACC,GAAG,CAAC,CAAC,CAAC,EAAEH,MAAC,CAACI,MAAM,CAAC,CAAC,CAACC,GAAG,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC,CAAC;AAC7E,IAAMC,aAAa,GAAGP,MAAC,CAACQ,MAAM,CAAC,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;AAChD,IAAMC,gBAAgB,GAAGV,MAAC,CACvBQ,MAAM,CAAC;EACNG,IAAI,EAAEX,MAAC,CAACI,MAAM,CAAC,CAAC,CAACC,GAAG,CAAC,CAAC,CAACO,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;EAC5CC,KAAK,EAAEd,MAAC,CAACI,MAAM,CAAC,CAAC,CAACC,GAAG,CAAC,CAAC,CAACO,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;EAC7CE,OAAO,EAAEf,MAAC,CAACE,MAAM,CAAC,CAAC,CAACC,GAAG,CAAC,CAAC,CAAC,CAACU,QAAQ,CAAC,CAAC;EACrCG,KAAK,EAAEhB,MAAC,CAACiB,IAAI,CAAC,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAACJ,QAAQ,CAAC;AAC1C,CAAC,CAAC,CACDJ,WAAW,CAAC,CAAC;AAEhB,IAAMS,eAAe,GAAAC,OAAA,CAAAD,eAAA,GAAG,SAAlBA,eAAeA,CAAA;EAAA,OAAU;IAC7BE,OAAO,EAAE,SAATA,OAAOA,CAAGC,KAAK;MAAA,OAAKtB,QAAQ,CAACuB,KAAK,CAACD,KAAK,CAAC;IAAA;IACzCE,YAAY,EAAE,SAAdA,YAAYA,CAAGF,KAAK;MAAA,OAAKd,aAAa,CAACe,KAAK,CAACD,KAAK,WAALA,KAAK,GAAI,CAAC,CAAC,CAAC;IAAA;IACzDG,eAAe,EAAE,SAAjBA,eAAeA,CAAGH,KAAK;MAAA,OAAKX,gBAAgB,CAACY,KAAK,CAACD,KAAK,WAALA,KAAK,GAAI,CAAC,CAAC,CAAC;IAAA;EACjE,CAAC;AAAA,CAAC","ignoreList":[]}