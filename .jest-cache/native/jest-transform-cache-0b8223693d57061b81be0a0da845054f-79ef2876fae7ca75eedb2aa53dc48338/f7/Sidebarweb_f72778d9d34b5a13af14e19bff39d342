a6e03e0ab9e1f7b4e14e68411b392407
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _react = _interopRequireWildcard(require("react"));
var _expoRouter = require("expo-router");
var _hooks = require("../../../../hooks");
var _SidebarWeb = require("./Sidebar.web.styles");
var _SidebarItem = _interopRequireDefault(require("../SidebarItem"));
var _sideMenu = require("../../../../config/sideMenu");
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["items", "itemsI18nPrefix", "collapsed", "accessibilityLabel", "testID", "className", "style"];
var isItemActive = function isItemActive(pathname, href) {
  if (!href) return false;
  if (pathname === href) return true;
  if (href !== '/' && pathname.startsWith(href + '/')) return true;
  return false;
};
var SidebarWeb = function SidebarWeb(_ref) {
  var _ref$items = _ref.items,
    items = _ref$items === void 0 ? _sideMenu.SIDE_MENU_ITEMS : _ref$items,
    _ref$itemsI18nPrefix = _ref.itemsI18nPrefix,
    itemsI18nPrefix = _ref$itemsI18nPrefix === void 0 ? 'navigation.items.main' : _ref$itemsI18nPrefix,
    _ref$collapsed = _ref.collapsed,
    collapsed = _ref$collapsed === void 0 ? false : _ref$collapsed,
    accessibilityLabel = _ref.accessibilityLabel,
    testID = _ref.testID,
    className = _ref.className,
    style = _ref.style,
    rest = (0, _objectWithoutProperties2.default)(_ref, _excluded);
  var _useI18n = (0, _hooks.useI18n)(),
    t = _useI18n.t;
  var pathname = (0, _expoRouter.usePathname)();
  var topLevel = (0, _react.useMemo)(function () {
    return Array.isArray(items) ? items : [];
  }, [items]);
  return (0, _jsxRuntime.jsx)(_SidebarWeb.StyledSidebar, Object.assign({
    collapsed: collapsed,
    accessibilityRole: "navigation",
    accessibilityLabel: accessibilityLabel || t('navigation.sidebar.title'),
    testID: testID,
    className: className,
    style: style
  }, rest, {
    children: (0, _jsxRuntime.jsx)(_SidebarWeb.StyledSidebarContent, {
      $collapsed: collapsed,
      children: topLevel.map(function (item) {
        var _item$href, _item$label;
        var href = (_item$href = item.href) != null ? _item$href : item.path;
        var i18nKey = item.id ? `${itemsI18nPrefix}.${item.id}` : '';
        var translated = i18nKey ? t(i18nKey) : '';
        var label = translated && translated !== i18nKey ? translated : (_item$label = item.label) != null ? _item$label : '';
        var active = isItemActive(pathname, href);
        return (0, _jsxRuntime.jsx)(_SidebarItem.default, {
          item: Object.assign({}, item, {
            href: href,
            label: label,
            path: href
          }),
          collapsed: collapsed,
          active: active
        }, item.id);
      })
    })
  }));
};
var _default = exports.default = SidebarWeb;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZXhwb1JvdXRlciIsIl9ob29rcyIsIl9TaWRlYmFyV2ViIiwiX1NpZGViYXJJdGVtIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9zaWRlTWVudSIsIl9qc3hSdW50aW1lIiwiX2V4Y2x1ZGVkIiwiaXNJdGVtQWN0aXZlIiwicGF0aG5hbWUiLCJocmVmIiwic3RhcnRzV2l0aCIsIlNpZGViYXJXZWIiLCJfcmVmIiwiX3JlZiRpdGVtcyIsIml0ZW1zIiwiU0lERV9NRU5VX0lURU1TIiwiX3JlZiRpdGVtc0kxOG5QcmVmaXgiLCJpdGVtc0kxOG5QcmVmaXgiLCJfcmVmJGNvbGxhcHNlZCIsImNvbGxhcHNlZCIsImFjY2Vzc2liaWxpdHlMYWJlbCIsInRlc3RJRCIsImNsYXNzTmFtZSIsInN0eWxlIiwicmVzdCIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllczIiLCJkZWZhdWx0IiwiX3VzZUkxOG4iLCJ1c2VJMThuIiwidCIsInVzZVBhdGhuYW1lIiwidG9wTGV2ZWwiLCJ1c2VNZW1vIiwiQXJyYXkiLCJpc0FycmF5IiwianN4IiwiU3R5bGVkU2lkZWJhciIsIk9iamVjdCIsImFzc2lnbiIsImFjY2Vzc2liaWxpdHlSb2xlIiwiY2hpbGRyZW4iLCJTdHlsZWRTaWRlYmFyQ29udGVudCIsIiRjb2xsYXBzZWQiLCJtYXAiLCJpdGVtIiwiX2l0ZW0kaHJlZiIsIl9pdGVtJGxhYmVsIiwicGF0aCIsImkxOG5LZXkiLCJpZCIsInRyYW5zbGF0ZWQiLCJsYWJlbCIsImFjdGl2ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIlNpZGViYXIud2ViLmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgdXNlUGF0aG5hbWUgfSBmcm9tICdleHBvLXJvdXRlcic7XHJcbmltcG9ydCB7IHVzZUkxOG4gfSBmcm9tICdAaG9va3MnO1xyXG5pbXBvcnQge1xyXG4gIFN0eWxlZFNpZGViYXIsXHJcbiAgU3R5bGVkU2lkZWJhckNvbnRlbnQsXHJcbn0gZnJvbSAnLi9TaWRlYmFyLndlYi5zdHlsZXMnO1xyXG5pbXBvcnQgU2lkZWJhckl0ZW0gZnJvbSAnQHBsYXRmb3JtL2NvbXBvbmVudHMvbmF2aWdhdGlvbi9TaWRlYmFySXRlbSc7XHJcbmltcG9ydCB7IFNJREVfTUVOVV9JVEVNUyB9IGZyb20gJ0Bjb25maWcvc2lkZU1lbnUnO1xyXG5cclxuY29uc3QgaXNJdGVtQWN0aXZlID0gKHBhdGhuYW1lLCBocmVmKSA9PiB7XHJcbiAgaWYgKCFocmVmKSByZXR1cm4gZmFsc2U7XHJcbiAgaWYgKHBhdGhuYW1lID09PSBocmVmKSByZXR1cm4gdHJ1ZTtcclxuICBpZiAoaHJlZiAhPT0gJy8nICYmIHBhdGhuYW1lLnN0YXJ0c1dpdGgoaHJlZiArICcvJykpIHJldHVybiB0cnVlO1xyXG4gIHJldHVybiBmYWxzZTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBTaWRlYmFyIGNvbXBvbmVudCBmb3IgV2ViXHJcbiAqIFJlbmRlcnMgbmF2IGl0ZW1zIHdpdGggcGF0aG5hbWUtYmFzZWQgYWN0aXZlIHN0YXRlIGFuZCBsb2NhbGl6ZWQgbGFiZWxzLlxyXG4gKi9cclxuY29uc3QgU2lkZWJhcldlYiA9ICh7XHJcbiAgaXRlbXMgPSBTSURFX01FTlVfSVRFTVMsXHJcbiAgaXRlbXNJMThuUHJlZml4ID0gJ25hdmlnYXRpb24uaXRlbXMubWFpbicsXHJcbiAgY29sbGFwc2VkID0gZmFsc2UsXHJcbiAgYWNjZXNzaWJpbGl0eUxhYmVsLFxyXG4gIHRlc3RJRCxcclxuICBjbGFzc05hbWUsXHJcbiAgc3R5bGUsXHJcbiAgLi4ucmVzdFxyXG59KSA9PiB7XHJcbiAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XHJcbiAgY29uc3QgcGF0aG5hbWUgPSB1c2VQYXRobmFtZSgpO1xyXG4gIGNvbnN0IHRvcExldmVsID0gdXNlTWVtbygoKSA9PiAoQXJyYXkuaXNBcnJheShpdGVtcykgPyBpdGVtcyA6IFtdKSwgW2l0ZW1zXSk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8U3R5bGVkU2lkZWJhclxyXG4gICAgICBjb2xsYXBzZWQ9e2NvbGxhcHNlZH1cclxuICAgICAgYWNjZXNzaWJpbGl0eVJvbGU9XCJuYXZpZ2F0aW9uXCJcclxuICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsPXthY2Nlc3NpYmlsaXR5TGFiZWwgfHwgdCgnbmF2aWdhdGlvbi5zaWRlYmFyLnRpdGxlJyl9XHJcbiAgICAgIHRlc3RJRD17dGVzdElEfVxyXG4gICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cclxuICAgICAgc3R5bGU9e3N0eWxlfVxyXG4gICAgICB7Li4ucmVzdH1cclxuICAgID5cclxuICAgICAgPFN0eWxlZFNpZGViYXJDb250ZW50ICRjb2xsYXBzZWQ9e2NvbGxhcHNlZH0+XHJcbiAgICAgICAge3RvcExldmVsLm1hcCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgaHJlZiA9IGl0ZW0uaHJlZiA/PyBpdGVtLnBhdGg7XHJcbiAgICAgICAgICBjb25zdCBpMThuS2V5ID0gaXRlbS5pZCA/IGAke2l0ZW1zSTE4blByZWZpeH0uJHtpdGVtLmlkfWAgOiAnJztcclxuICAgICAgICAgIGNvbnN0IHRyYW5zbGF0ZWQgPSBpMThuS2V5ID8gdChpMThuS2V5KSA6ICcnO1xyXG4gICAgICAgICAgY29uc3QgbGFiZWwgPSAodHJhbnNsYXRlZCAmJiB0cmFuc2xhdGVkICE9PSBpMThuS2V5KSA/IHRyYW5zbGF0ZWQgOiAoaXRlbS5sYWJlbCA/PyAnJyk7XHJcbiAgICAgICAgICBjb25zdCBhY3RpdmUgPSBpc0l0ZW1BY3RpdmUocGF0aG5hbWUsIGhyZWYpO1xyXG4gICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPFNpZGViYXJJdGVtXHJcbiAgICAgICAgICAgICAga2V5PXtpdGVtLmlkfVxyXG4gICAgICAgICAgICAgIGl0ZW09e3sgLi4uaXRlbSwgaHJlZiwgbGFiZWwsIHBhdGg6IGhyZWYgfX1cclxuICAgICAgICAgICAgICBjb2xsYXBzZWQ9e2NvbGxhcHNlZH1cclxuICAgICAgICAgICAgICBhY3RpdmU9e2FjdGl2ZX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSl9XHJcbiAgICAgIDwvU3R5bGVkU2lkZWJhckNvbnRlbnQ+XHJcbiAgICA8L1N0eWxlZFNpZGViYXI+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNpZGViYXJXZWI7XHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxXQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxNQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxXQUFBLEdBQUFILE9BQUE7QUFJQSxJQUFBSSxZQUFBLEdBQUFDLHNCQUFBLENBQUFMLE9BQUE7QUFDQSxJQUFBTSxTQUFBLEdBQUFOLE9BQUE7QUFBbUQsSUFBQU8sV0FBQSxHQUFBUCxPQUFBO0FBQUEsSUFBQVEsU0FBQTtBQUVuRCxJQUFNQyxZQUFZLEdBQUcsU0FBZkEsWUFBWUEsQ0FBSUMsUUFBUSxFQUFFQyxJQUFJLEVBQUs7RUFDdkMsSUFBSSxDQUFDQSxJQUFJLEVBQUUsT0FBTyxLQUFLO0VBQ3ZCLElBQUlELFFBQVEsS0FBS0MsSUFBSSxFQUFFLE9BQU8sSUFBSTtFQUNsQyxJQUFJQSxJQUFJLEtBQUssR0FBRyxJQUFJRCxRQUFRLENBQUNFLFVBQVUsQ0FBQ0QsSUFBSSxHQUFHLEdBQUcsQ0FBQyxFQUFFLE9BQU8sSUFBSTtFQUNoRSxPQUFPLEtBQUs7QUFDZCxDQUFDO0FBTUQsSUFBTUUsVUFBVSxHQUFHLFNBQWJBLFVBQVVBLENBQUFDLElBQUEsRUFTVjtFQUFBLElBQUFDLFVBQUEsR0FBQUQsSUFBQSxDQVJKRSxLQUFLO0lBQUxBLEtBQUssR0FBQUQsVUFBQSxjQUFHRSx5QkFB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