{"version":3,"names":["useMemo","ACTION_PLACEMENTS","cov_16u7ru23dp","s","normalizeRole","role","f","b","normalized","trim","toLowerCase","length","isActionVisible","action","currentRole","isVisible","roles","Array","isArray","normalizedRoles","map","String","includes","splitActions","actions","reduce","acc","placement","SECONDARY","secondaryActions","push","primaryActions","useGlobalHeader","_ref","arguments","undefined","_ref$actions","breadcrumbs","normalizedRole","visibleActions","filter","_ref2","hasBreadcrumbs"],"sources":["useGlobalHeader.js"],"sourcesContent":["/**\r\n * useGlobalHeader Hook\r\n * Shared logic for GlobalHeader component\r\n * File: useGlobalHeader.js\r\n */\r\nimport { useMemo } from 'react';\r\nimport { ACTION_PLACEMENTS } from './types';\r\n\r\nconst normalizeRole = (role) => {\r\n  if (typeof role !== 'string') return null;\r\n  const normalized = role.trim().toLowerCase();\r\n  return normalized.length > 0 ? normalized : null;\r\n};\r\n\r\nconst isActionVisible = (action, currentRole) => {\r\n  if (!action || action.isVisible === false) return false;\r\n  const roles = Array.isArray(action.roles) ? action.roles : [];\r\n  if (roles.length === 0) return true;\r\n  if (!currentRole) return false;\r\n  const normalizedRoles = roles.map((role) => String(role).trim().toLowerCase());\r\n  return normalizedRoles.includes(currentRole);\r\n};\r\n\r\nconst splitActions = (actions) => {\r\n  return actions.reduce(\r\n    (acc, action) => {\r\n      if (action.placement === ACTION_PLACEMENTS.SECONDARY) {\r\n        acc.secondaryActions.push(action);\r\n      } else {\r\n        acc.primaryActions.push(action);\r\n      }\r\n      return acc;\r\n    },\r\n    { primaryActions: [], secondaryActions: [] }\r\n  );\r\n};\r\n\r\n/**\r\n * GlobalHeader hook\r\n * @param {Object} options - Hook options\r\n * @param {Array} [options.actions] - Action definitions\r\n * @param {string} [options.currentRole] - Current user role\r\n * @param {Array} [options.breadcrumbs] - Breadcrumb items\r\n * @returns {Object} Header state helpers\r\n */\r\nconst useGlobalHeader = ({ actions = [], currentRole, breadcrumbs } = {}) => {\r\n  const normalizedRole = normalizeRole(currentRole);\r\n\r\n  const visibleActions = useMemo(() => {\r\n    if (!Array.isArray(actions)) return [];\r\n    return actions.filter((action) => isActionVisible(action, normalizedRole));\r\n  }, [actions, normalizedRole]);\r\n\r\n  const { primaryActions, secondaryActions } = useMemo(() => {\r\n    return splitActions(visibleActions);\r\n  }, [visibleActions]);\r\n\r\n  const hasBreadcrumbs = Array.isArray(breadcrumbs) && breadcrumbs.length > 0;\r\n\r\n  return {\r\n    primaryActions,\r\n    secondaryActions,\r\n    hasBreadcrumbs,\r\n  };\r\n};\r\n\r\nexport default useGlobalHeader;\r\n"],"mappings":"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","ignoreList":[]}