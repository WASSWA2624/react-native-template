{"version":3,"names":["useCallback","useReducer","DEFAULT_ERROR_CODE","cov_1pavwzpscp","s","toErrorCode","value","f","b","trim","initialState","isLoading","errorCode","data","reducer","state","action","_ref","type","Object","assign","useAsyncState","_ref2","_ref3","_slicedToArray","dispatch","start","succeed","fail","reset"],"sources":["useAsyncState.js"],"sourcesContent":["/**\r\n * useAsyncState Hook\r\n * Standard async state shape: loading + errorCode + data.\r\n * File: useAsyncState.js\r\n */\r\nimport { useCallback, useReducer } from 'react';\r\n\r\nconst DEFAULT_ERROR_CODE = 'UNKNOWN_ERROR';\r\n\r\nconst toErrorCode = (value) => {\r\n  if (typeof value === 'string' && value.trim()) return value.trim();\r\n  return DEFAULT_ERROR_CODE;\r\n};\r\n\r\nconst initialState = {\r\n  isLoading: false,\r\n  errorCode: null,\r\n  data: null,\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'START':\r\n      return { ...state, isLoading: true, errorCode: null };\r\n    case 'SUCCEED':\r\n      return { ...state, isLoading: false, errorCode: null, data: action.data ?? null };\r\n    case 'FAIL':\r\n      return { ...state, isLoading: false, errorCode: toErrorCode(action.errorCode) };\r\n    case 'RESET':\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst useAsyncState = () => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  const start = useCallback(() => dispatch({ type: 'START' }), []);\r\n  const succeed = useCallback((data) => dispatch({ type: 'SUCCEED', data }), []);\r\n  const fail = useCallback((errorCode) => dispatch({ type: 'FAIL', errorCode }), []);\r\n  const reset = useCallback(() => dispatch({ type: 'RESET' }), []);\r\n\r\n  return {\r\n    isLoading: state.isLoading,\r\n    errorCode: state.errorCode,\r\n    data: state.data,\r\n    start,\r\n    succeed,\r\n    fail,\r\n    reset,\r\n  };\r\n};\r\n\r\nexport default useAsyncState;\r\n\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,SAASA,WAAW,EAAEC,UAAU,QAAQ,OAAO;AAE/C,IAAMC,kBAAkB,IAAAC,cAAA,GAAAC,CAAA,OAAG,eAAe;AAACD,cAAA,GAAAC,CAAA;AAE3C,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAIC,KAAK,EAAK;EAAAH,cAAA,GAAAI,CAAA;EAAAJ,cAAA,GAAAC,CAAA;EAC7B,IAAI,CAAAD,cAAA,GAAAK,CAAA,iBAAOF,KAAK,KAAK,QAAQ,MAAAH,cAAA,GAAAK,CAAA,UAAIF,KAAK,CAACG,IAAI,CAAC,CAAC,GAAE;IAAAN,cAAA,GAAAK,CAAA;IAAAL,cAAA,GAAAC,CAAA;IAAA,OAAOE,KAAK,CAACG,IAAI,CAAC,CAAC;EAAA,CAAC;IAAAN,cAAA,GAAAK,CAAA;EAAA;EAAAL,cAAA,GAAAC,CAAA;EACnE,OAAOF,kBAAkB;AAC3B,CAAC;AAED,IAAMQ,YAAY,IAAAP,cAAA,GAAAC,CAAA,OAAG;EACnBO,SAAS,EAAE,KAAK;EAChBC,SAAS,EAAE,IAAI;EACfC,IAAI,EAAE;AACR,CAAC;AAACV,cAAA,GAAAC,CAAA;AAEF,IAAMU,OAAO,GAAG,SAAVA,OAAOA,CAAIC,KAAK,EAAEC,MAAM,EAAK;EAAA,IAAAC,IAAA;EAAAd,cAAA,GAAAI,CAAA;EAAAJ,cAAA,GAAAC,CAAA;EACjC,QAAQY,MAAM,CAACE,IAAI;IACjB,KAAK,OAAO;MAAAf,cAAA,GAAAK,CAAA;MAAAL,cAAA,GAAAC,CAAA;MACV,OAAAe,MAAA,CAAAC,MAAA,KAAYL,KAAK;QAAEJ,SAAS,EAAE,IAAI;QAAEC,SAAS,EAAE;MAAI;IACrD,KAAK,SAAS;MAAAT,cAAA,GAAAK,CAAA;MAAAL,cAAA,GAAAC,CAAA;MACZ,OAAAe,MAAA,CAAAC,MAAA,KAAYL,KAAK;QAAEJ,SAAS,EAAE,KAAK;QAAEC,SAAS,EAAE,IAAI;QAAEC,IAAI,GAAAI,IAAA,IAAAd,cAAA,GAAAK,CAAA,UAAEQ,MAAM,CAACH,IAAI,aAAAI,IAAA,IAAAd,cAAA,GAAAK,CAAA,UAAI,IAAI;MAAA;IACjF,KAAK,MAAM;MAAAL,cAAA,GAAAK,CAAA;MAAAL,cAAA,GAAAC,CAAA;MACT,OAAAe,MAAA,CAAAC,MAAA,KAAYL,KAAK;QAAEJ,SAAS,EAAE,KAAK;QAAEC,SAAS,EAAEP,WAAW,CAACW,MAAM,CAACJ,SAAS;MAAC;IAC/E,KAAK,OAAO;MAAAT,cAAA,GAAAK,CAAA;MAAAL,cAAA,GAAAC,CAAA;MACV,OAAOM,YAAY;IACrB;MAAAP,cAAA,GAAAK,CAAA;MAAAL,cAAA,GAAAC,CAAA;MACE,OAAOW,KAAK;EAChB;AACF,CAAC;AAACZ,cAAA,GAAAC,CAAA;AAEF,IAAMiB,aAAa,GAAG,SAAhBA,aAAaA,CAAA,EAAS;EAAAlB,cAAA,GAAAI,CAAA;EAC1B,IAAAe,KAAA,IAAAnB,cAAA,GAAAC,CAAA,QAA0BH,UAAU,CAACa,OAAO,EAAEJ,YAAY,CAAC;IAAAa,KAAA,GAAAC,cAAA,CAAAF,KAAA;IAApDP,KAAK,GAAAQ,KAAA;IAAEE,QAAQ,GAAAF,KAAA;EAEtB,IAAMG,KAAK,IAAAvB,cAAA,GAAAC,CAAA,QAAGJ,WAAW,CAAC,YAAM;IAAAG,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAC,CAAA;IAAA,OAAAqB,QAAQ,CAAC;MAAEP,IAAI,EAAE;IAAQ,CAAC,CAAC;EAAD,CAAC,EAAE,EAAE,CAAC;EAChE,IAAMS,OAAO,IAAAxB,cAAA,GAAAC,CAAA,QAAGJ,WAAW,CAAC,UAACa,IAAI,EAAK;IAAAV,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAC,CAAA;IAAA,OAAAqB,QAAQ,CAAC;MAAEP,IAAI,EAAE,SAAS;MAAEL,IAAI,EAAJA;IAAK,CAAC,CAAC;EAAD,CAAC,EAAE,EAAE,CAAC;EAC9E,IAAMe,IAAI,IAAAzB,cAAA,GAAAC,CAAA,QAAGJ,WAAW,CAAC,UAACY,SAAS,EAAK;IAAAT,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAC,CAAA;IAAA,OAAAqB,QAAQ,CAAC;MAAEP,IAAI,EAAE,MAAM;MAAEN,SAAS,EAATA;IAAU,CAAC,CAAC;EAAD,CAAC,EAAE,EAAE,CAAC;EAClF,IAAMiB,KAAK,IAAA1B,cAAA,GAAAC,CAAA,QAAGJ,WAAW,CAAC,YAAM;IAAAG,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAC,CAAA;IAAA,OAAAqB,QAAQ,CAAC;MAAEP,IAAI,EAAE;IAAQ,CAAC,CAAC;EAAD,CAAC,EAAE,EAAE,CAAC;EAACf,cAAA,GAAAC,CAAA;EAEjE,OAAO;IACLO,SAAS,EAAEI,KAAK,CAACJ,SAAS;IAC1BC,SAAS,EAAEG,KAAK,CAACH,SAAS;IAC1BC,IAAI,EAAEE,KAAK,CAACF,IAAI;IAChBa,KAAK,EAALA,KAAK;IACLC,OAAO,EAAPA,OAAO;IACPC,IAAI,EAAJA,IAAI;IACJC,KAAK,EAALA;EACF,CAAC;AACH,CAAC;AAED,eAAeR,aAAa","ignoreList":[]}