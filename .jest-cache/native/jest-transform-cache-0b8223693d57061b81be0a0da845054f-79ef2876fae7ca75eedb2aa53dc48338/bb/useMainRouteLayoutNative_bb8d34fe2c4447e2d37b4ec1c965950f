af54c7725abf9e7f92c0b66e4d64aa22
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = require("react");
var _expoRouter = require("expo-router");
var _hooks = require("../../../../hooks");
var _sideMenu = require("../../../../config/sideMenu");
var _guards = require("../../../../navigation/guards");
var _types = require("../../../components/navigation/GlobalHeader/types");
var _components = require("../../../components");
var _jsxRuntime = require("react/jsx-runtime");
var useMainRouteLayoutNative = function useMainRouteLayoutNative() {
  (0, _guards.useAuthGuard)();
  var _useI18n = (0, _hooks.useI18n)(),
    t = _useI18n.t;
  var router = (0, _expoRouter.useRouter)();
  var _useAuth = (0, _hooks.useAuth)(),
    isAuthenticated = _useAuth.isAuthenticated,
    logout = _useAuth.logout;
  var _useUiState = (0, _hooks.useUiState)(),
    isLoading = _useUiState.isLoading;
  var _useNavigationVisibil = (0, _hooks.useNavigationVisibility)(),
    isItemVisible = _useNavigationVisibil.isItemVisible;
  var mainItems = (0, _react.useMemo)(function () {
    return _sideMenu.MAIN_NAV_ITEMS.map(function (it) {
      return Object.assign({}, it, {
        href: it.path,
        label: t(`navigation.items.main.${it.id}`),
        icon: (0, _sideMenu.getMenuIconGlyph)(it.icon)
      });
    });
  }, [t]);
  var headerActions = (0, _react.useMemo)(function () {
    return isAuthenticated ? [{
      id: 'logout',
      label: t('navigation.header.logout'),
      accessibilityLabel: t('navigation.header.logout'),
      onPress: logout,
      variant: _types.ACTION_VARIANTS.GHOST
    }] : [];
  }, [isAuthenticated, logout, t]);
  var overlaySlot = (0, _react.useMemo)(function () {
    return isLoading ? (0, _jsxRuntime.jsx)(_components.LoadingOverlay, {
      visible: true,
      testID: "main-loading-overlay"
    }) : null;
  }, [isLoading]);
  return {
    headerActions: headerActions,
    overlaySlot: overlaySlot,
    mainItems: mainItems,
    isItemVisible: isItemVisible
  };
};
var _default = exports.default = useMainRouteLayoutNative;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX2V4cG9Sb3V0ZXIiLCJfaG9va3MiLCJfc2lkZU1lbnUiLCJfZ3VhcmRzIiwiX3R5cGVzIiwiX2NvbXBvbmVudHMiLCJfanN4UnVudGltZSIsInVzZU1haW5Sb3V0ZUxheW91dE5hdGl2ZSIsInVzZUF1dGhHdWFyZCIsIl91c2VJMThuIiwidXNlSTE4biIsInQiLCJyb3V0ZXIiLCJ1c2VSb3V0ZXIiLCJfdXNlQXV0aCIsInVzZUF1dGgiLCJpc0F1dGhlbnRpY2F0ZWQiLCJsb2dvdXQiLCJfdXNlVWlTdGF0ZSIsInVzZVVpU3RhdGUiLCJpc0xvYWRpbmciLCJfdXNlTmF2aWdhdGlvblZpc2liaWwiLCJ1c2VOYXZpZ2F0aW9uVmlzaWJpbGl0eSIsImlzSXRlbVZpc2libGUiLCJtYWluSXRlbXMiLCJ1c2VNZW1vIiwiTUFJTl9OQVZfSVRFTVMiLCJtYXAiLCJpdCIsIk9iamVjdCIsImFzc2lnbiIsImhyZWYiLCJwYXRoIiwibGFiZWwiLCJpZCIsImljb24iLCJnZXRNZW51SWNvbkdseXBoIiwiaGVhZGVyQWN0aW9ucyIsImFjY2Vzc2liaWxpdHlMYWJlbCIsIm9uUHJlc3MiLCJ2YXJpYW50IiwiQUNUSU9OX1ZBUklBTlRTIiwiR0hPU1QiLCJvdmVybGF5U2xvdCIsImpzeCIsIkxvYWRpbmdPdmVybGF5IiwidmlzaWJsZSIsInRlc3RJRCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlcyI6WyJ1c2VNYWluUm91dGVMYXlvdXROYXRpdmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIHVzZU1haW5Sb3V0ZUxheW91dE5hdGl2ZSBIb29rXHJcbiAqIFNoYXJlZCBsb2dpYyBmb3IgTWFpblJvdXRlTGF5b3V0IEFuZHJvaWQgYW5kIGlPUyAoaGVhZGVyIGFjdGlvbnMsIG92ZXJsYXksIG5hdiBpdGVtcylcclxuICogRmlsZTogdXNlTWFpblJvdXRlTGF5b3V0TmF0aXZlLmpzXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnZXhwby1yb3V0ZXInO1xyXG5pbXBvcnQgeyB1c2VBdXRoLCB1c2VJMThuLCB1c2VOYXZpZ2F0aW9uVmlzaWJpbGl0eSwgdXNlVWlTdGF0ZSB9IGZyb20gJ0Bob29rcyc7XHJcbmltcG9ydCB7IE1BSU5fTkFWX0lURU1TLCBnZXRNZW51SWNvbkdseXBoIH0gZnJvbSAnQGNvbmZpZy9zaWRlTWVudSc7XHJcbmltcG9ydCB7IHVzZUF1dGhHdWFyZCB9IGZyb20gJ0BuYXZpZ2F0aW9uL2d1YXJkcyc7XHJcbmltcG9ydCB7IEFDVElPTl9WQVJJQU5UUyB9IGZyb20gJ0BwbGF0Zm9ybS9jb21wb25lbnRzL25hdmlnYXRpb24vR2xvYmFsSGVhZGVyL3R5cGVzJztcclxuaW1wb3J0IHsgTG9hZGluZ092ZXJsYXkgfSBmcm9tICdAcGxhdGZvcm0vY29tcG9uZW50cyc7XHJcblxyXG4vKipcclxuICogU2hhcmVkIGhvb2sgZm9yIE1haW5Sb3V0ZUxheW91dCBuYXRpdmUgKEFuZHJvaWQvaU9TKVxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBoZWFkZXJBY3Rpb25zLCBvdmVybGF5U2xvdCwgbWFpbkl0ZW1zLCBpc0l0ZW1WaXNpYmxlXHJcbiAqL1xyXG5jb25zdCB1c2VNYWluUm91dGVMYXlvdXROYXRpdmUgPSAoKSA9PiB7XHJcbiAgdXNlQXV0aEd1YXJkKCk7XHJcbiAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XHJcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XHJcbiAgY29uc3QgeyBpc0F1dGhlbnRpY2F0ZWQsIGxvZ291dCB9ID0gdXNlQXV0aCgpO1xyXG4gIGNvbnN0IHsgaXNMb2FkaW5nIH0gPSB1c2VVaVN0YXRlKCk7XHJcbiAgY29uc3QgeyBpc0l0ZW1WaXNpYmxlIH0gPSB1c2VOYXZpZ2F0aW9uVmlzaWJpbGl0eSgpO1xyXG4gIGNvbnN0IG1haW5JdGVtcyA9IHVzZU1lbW8oXHJcbiAgICAoKSA9PlxyXG4gICAgICBNQUlOX05BVl9JVEVNUy5tYXAoKGl0KSA9PiAoe1xyXG4gICAgICAgIC4uLml0LFxyXG4gICAgICAgIGhyZWY6IGl0LnBhdGgsXHJcbiAgICAgICAgbGFiZWw6IHQoYG5hdmlnYXRpb24uaXRlbXMubWFpbi4ke2l0LmlkfWApLFxyXG4gICAgICAgIGljb246IGdldE1lbnVJY29uR2x5cGgoaXQuaWNvbiksXHJcbiAgICAgIH0pKSxcclxuICAgIFt0XVxyXG4gICk7XHJcblxyXG4gIGNvbnN0IGhlYWRlckFjdGlvbnMgPSB1c2VNZW1vKFxyXG4gICAgKCkgPT5cclxuICAgICAgaXNBdXRoZW50aWNhdGVkXHJcbiAgICAgICAgPyBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogJ2xvZ291dCcsXHJcbiAgICAgICAgICAgICAgbGFiZWw6IHQoJ25hdmlnYXRpb24uaGVhZGVyLmxvZ291dCcpLFxyXG4gICAgICAgICAgICAgIGFjY2Vzc2liaWxpdHlMYWJlbDogdCgnbmF2aWdhdGlvbi5oZWFkZXIubG9nb3V0JyksXHJcbiAgICAgICAgICAgICAgb25QcmVzczogbG9nb3V0LFxyXG4gICAgICAgICAgICAgIHZhcmlhbnQ6IEFDVElPTl9WQVJJQU5UUy5HSE9TVCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIF1cclxuICAgICAgICA6IFtdLFxyXG4gICAgW2lzQXV0aGVudGljYXRlZCwgbG9nb3V0LCB0XVxyXG4gICk7XHJcblxyXG4gIGNvbnN0IG92ZXJsYXlTbG90ID0gdXNlTWVtbyhcclxuICAgICgpID0+XHJcbiAgICAgIGlzTG9hZGluZyA/IChcclxuICAgICAgICA8TG9hZGluZ092ZXJsYXkgdmlzaWJsZSB0ZXN0SUQ9XCJtYWluLWxvYWRpbmctb3ZlcmxheVwiIC8+XHJcbiAgICAgICkgOiBudWxsLFxyXG4gICAgW2lzTG9hZGluZ11cclxuICApO1xyXG5cclxuICByZXR1cm4geyBoZWFkZXJBY3Rpb25zLCBvdmVybGF5U2xvdCwgbWFpbkl0ZW1zLCBpc0l0ZW1WaXNpYmxlIH07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB1c2VNYWluUm91dGVMYXlvdXROYXRpdmU7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7OztBQU1BLElBQUFBLE1BQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLFdBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLFNBQUEsR0FBQUgsT0FBQTtBQUNBLElBQUFJLE9BQUEsR0FBQUosT0FBQTtBQUNBLElBQUFLLE1BQUEsR0FBQUwsT0FBQTtBQUNBLElBQUFNLFdBQUEsR0FBQU4sT0FBQTtBQUFzRCxJQUFBTyxXQUFBLEdBQUFQLE9BQUE7QUFNdEQsSUFBTVEsd0JBQXdCLEdBQUcsU0FBM0JBLHdCQUF3QkEsQ0FBQSxFQUFTO0VBQ3JDLElBQUFDLG9CQUFZLEVBQUMsQ0FBQztFQUNkLElBQUFDLFFBQUEsR0FBYyxJQUFBQyxjQUFPLEVBQUMsQ0FBQztJQUFmQyxDQUFDLEdBQUFGLFFBQUEsQ0FBREUsQ0FBQztFQUNULElBQU1DLE1BQU0sR0FBRyxJQUFBQyxxQkFBUyxFQUFDLENBQUM7RUFDMUIsSUFBQUMsUUFBQSxHQUFvQyxJQUFBQyxjQUFPLEVBQUMsQ0FBQztJQUFyQ0MsZUFBZSxHQUFBRixRQUFBLENBQWZFLGVBQWU7SUFBRUMsTUFBTSxHQUFBSCxRQUFBLENBQU5HLE1BQU07RUFDL0IsSUFBQUMsV0FBQSxHQUFzQixJQUFBQyxpQkFBVSxFQUFDLENBQUM7SUFBMUJDLFNBQVMsR0FBQUYsV0FBQSxDQUFURSxTQUFTO0VBQ2pCLElBQUFDLHFCQUFBLEdBQTBCLElBQUFDLDhCQUF1QixFQUFDLENBQUM7SUFBM0NDLGFBQWEsR0FBQUYscUJBQUEsQ0FBYkUsYUFBYTtFQUNyQixJQUFNQyxTQUFTLEdBQUcsSUFBQUMsY0FBTyxFQUN2QjtJQUFBLE9BQ0VDLHdCQUFjLENBQUNDLEdBQUcsQ0FBQyxVQUFDQyxFQUFFO01BQUEsT0FBQUMsTUFBQSxDQUFBQyxNQUFBLEtBQ2pCRixFQUFFO1FBQ0xHLElBQUksRUFBRUgsRUFBRSxDQUFDSSxJQUFJO1FBQ2JDLEtBQUssRUFBRXRCLENBQUMsQ0FBQyx5QkFBeUJpQixFQUFFLENBQUNNLEVBQUUsRUFBRSxDQUFDO1FBQzFDQyxJQUFJLEVBQUUsSUFBQUMsMEJBQWdCLEVBQUNSLEVBQUUsQ0FBQ08sSUFBSTtNQUFDO0lBQUEsQ0FDL0IsQ0FBQztFQUFBLEdBQ0wsQ0FBQ3hCLENBQUMsQ0FDSixDQUFDO0VBRUQsSUFBTTBCLGFBQWEsR0FBRyxJQUFBWixjQUFPLEVBQzNCO0lBQUEsT0FDRVQsZUFBZSxHQUNYLENBQ0U7TUFDRWtCLEVBQUUsRUFBRSxRQUFRO01BQ1pELEtBQUssRUFBRXRCLENBQUMsQ0FBQywwQkFBMEIsQ0FBQztNQUNwQzJCLGtCQUFrQixFQUFFM0IsQ0FBQyxDQUFDLDBCQUEwQixDQUFDO01BQ2pENEIsT0FBTyxFQUFFdEIsTUFBTTtNQUNmdUIsT0FBTyxFQUFFQyxzQkFBZSxDQUFDQztJQUMzQixDQUFDLENBQ0YsR0FDRCxFQUFFO0VBQUEsR0FDUixDQUFDMUIsZUFBZSxFQUFFQyxNQUFNLEVBQUVOLENBQUMsQ0FDN0IsQ0FBQztFQUVELElBQU1nQyxXQUFXLEdBQUcsSUFBQWxCLGNBQU8sRUFDekI7SUFBQSxPQUNFTCxTQUFTLEdBQ1AsSUFBQWQsV0FBQSxDQUFBc0MsR0FBQSxFQUFDdkMsV0FBQSxDQUFBd0MsY0FBYztNQUFDQyxPQUFPO01BQUNDLE1BQU0sRUFBQztJQUFzQixDQUFFLENBQUMsR0FDdEQsSUFBSTtFQUFBLEdBQ1YsQ0FBQzNCLFNBQVMsQ0FDWixDQUFDO0VBRUQsT0FBTztJQUFFaUIsYUFBYSxFQUFiQSxhQUFhO0lBQUVNLFdBQVcsRUFBWEEsV0FBVztJQUFFbkIsU0FBUyxFQUFUQSxTQUFTO0lBQUVELGFBQWEsRUFBYkE7RUFBYyxDQUFDO0FBQ2pFLENBQUM7QUFBQyxJQUFBeUIsUUFBQSxHQUFBQyxPQUFBLENBQUFDLE9BQUEsR0FFYTNDLHdCQUF3QiIsImlnbm9yZUxpc3QiOltdfQ==