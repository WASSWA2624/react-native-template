97e859b518066a9bf9042f753772cfc0
_getJestObj().mock("../../../../hooks", function () {
  return {
    useI18n: jest.fn()
  };
});
_getJestObj().mock("../../../../platform/screens/settings/UserSessionListScreen/useUserSessionListScreen", function () {
  return {
    __esModule: true,
    default: jest.fn()
  };
});
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require5 = require("@jest/globals"),
    jest = _require5.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var React = require('react');
var _require = require('@testing-library/react-native'),
  render = _require.render,
  fireEvent = _require.fireEvent;
var _require2 = require('styled-components/native'),
  ThemeProvider = _require2.ThemeProvider;
var _require3 = require("../../../../hooks"),
  useI18n = _require3.useI18n;
var useUserSessionListScreen = require("../../../../platform/screens/settings/UserSessionListScreen/useUserSessionListScreen").default;
var UserSessionListScreenWeb = require("../../../../platform/screens/settings/UserSessionListScreen/UserSessionListScreen.web").default;
var UserSessionListScreenAndroid = require("../../../../platform/screens/settings/UserSessionListScreen/UserSessionListScreen.android").default;
var UserSessionListScreenIOS = require("../../../../platform/screens/settings/UserSessionListScreen/UserSessionListScreen.ios").default;
var UserSessionListScreenIndex = require("../../../../platform/screens/settings/UserSessionListScreen/index.js");
var _require4 = require("../../../../platform/screens/settings/UserSessionListScreen/types.js"),
  STATES = _require4.STATES;
var lightTheme = require("../../../../theme/light.theme").default || require("../../../../theme/light.theme");
var renderWithTheme = function renderWithTheme(c) {
  return render((0, _jsxRuntime.jsx)(ThemeProvider, {
    theme: lightTheme,
    children: c
  }));
};
var mockT = function mockT(key) {
  var m = {
    'userSession.list.title': 'User Sessions',
    'userSession.list.accessibilityLabel': 'User sessions list',
    'userSession.list.emptyTitle': 'No sessions',
    'userSession.list.emptyMessage': 'You have no active sessions.',
    'userSession.list.revoke': 'Revoke session',
    'userSession.list.revokeHint': 'Revoke this session',
    'userSession.list.itemLabel': 'Session for {{email}}',
    'common.remove': 'Remove',
    'listScaffold.loading': 'Loading',
    'listScaffold.empty': 'Empty',
    'listScaffold.error': 'Error',
    'listScaffold.offline': 'Offline',
    'common.retry': 'Retry'
  };
  return m[key] || key;
};
var baseHook = {
  items: [],
  isLoading: false,
  hasError: false,
  errorMessage: null,
  isOffline: false,
  onRetry: jest.fn(),
  onSessionPress: jest.fn(),
  onRevoke: jest.fn()
};
describe('UserSessionListScreen', function () {
  beforeEach(function () {
    jest.clearAllMocks();
    useI18n.mockReturnValue({
      t: mockT
    });
    useUserSessionListScreen.mockReturnValue(Object.assign({}, baseHook));
  });
  describe('render', function () {
    it('renders without error (Web)', function () {
      var _renderWithTheme = renderWithTheme((0, _jsxRuntime.jsx)(UserSessionListScreenWeb, {})),
        getByTestId = _renderWithTheme.getByTestId;
      expect(getByTestId('user-session-list-title')).toBeTruthy();
    });
    it('renders without error (Android)', function () {
      var _renderWithTheme2 = renderWithTheme((0, _jsxRuntime.jsx)(UserSessionListScreenAndroid, {})),
        getByTestId = _renderWithTheme2.getByTestId;
      expect(getByTestId('user-session-list-title')).toBeTruthy();
    });
    it('renders without error (iOS)', function () {
      var _renderWithTheme3 = renderWithTheme((0, _jsxRuntime.jsx)(UserSessionListScreenIOS, {})),
        getByTestId = _renderWithTheme3.getByTestId;
      expect(getByTestId('user-session-list-title')).toBeTruthy();
    });
  });
  describe('loading', function () {
    it('shows loading state (Web)', function () {
      useUserSessionListScreen.mockReturnValue(Object.assign({}, baseHook, {
        isLoading: true
      }));
      var _renderWithTheme4 = renderWithTheme((0, _jsxRuntime.jsx)(UserSessionListScreenWeb, {})),
        getByTestId = _renderWithTheme4.getByTestId;
      expect(getByTestId('user-session-list-loading')).toBeTruthy();
    });
  });
  describe('empty', function () {
    it('shows empty state (Web)', function () {
      useUserSessionListScreen.mockReturnValue(Object.assign({}, baseHook, {
        items: [],
        isLoading: false,
        hasError: false,
        isOffline: false
      }));
      var _renderWithTheme5 = renderWithTheme((0, _jsxRuntime.jsx)(UserSessionListScreenWeb, {})),
        getByTestId = _renderWithTheme5.getByTestId;
      expect(getByTestId('user-session-list-empty-state')).toBeTruthy();
    });
  });
  describe('error', function () {
    it('shows error state (Web)', function () {
      useUserSessionListScreen.mockReturnValue(Object.assign({}, baseHook, {
        hasError: true,
        errorMessage: 'Something went wrong'
      }));
      var _renderWithTheme6 = renderWithTheme((0, _jsxRuntime.jsx)(UserSessionListScreenWeb, {})),
        getByTestId = _renderWithTheme6.getByTestId;
      expect(getByTestId('user-session-list-error')).toBeTruthy();
    });
  });
  describe('offline', function () {
    it('shows offline state (Web)', function () {
      useUserSessionListScreen.mockReturnValue(Object.assign({}, baseHook, {
        isLoading: false,
        hasError: false,
        isOffline: true,
        items: []
      }));
      var _renderWithTheme7 = renderWithTheme((0, _jsxRuntime.jsx)(UserSessionListScreenWeb, {})),
        getByTestId = _renderWithTheme7.getByTestId;
      expect(getByTestId('user-session-list-offline')).toBeTruthy();
    });
  });
  describe('list with items', function () {
    it('renders items (Web)', function () {
      useUserSessionListScreen.mockReturnValue(Object.assign({}, baseHook, {
        items: [{
          id: '1',
          user: {
            email: 'a@b.com'
          },
          created_at: '2025-01-01T00:00:00Z'
        }]
      }));
      var _renderWithTheme8 = renderWithTheme((0, _jsxRuntime.jsx)(UserSessionListScreenWeb, {})),
        getByTestId = _renderWithTheme8.getByTestId;
      expect(getByTestId('user-session-item-1')).toBeTruthy();
    });
  });
  describe('accessibility', function () {
    it('has accessibility label (Web)', function () {
      useUserSessionListScreen.mockReturnValue(Object.assign({}, baseHook, {
        items: [{
          id: '1',
          user: {
            email: 'a@b.com'
          },
          created_at: '2025-01-01T00:00:00Z'
        }]
      }));
      var _renderWithTheme9 = renderWithTheme((0, _jsxRuntime.jsx)(UserSessionListScreenWeb, {})),
        getByTestId = _renderWithTheme9.getByTestId;
      var list = getByTestId('user-session-list');
      expect(list).toBeTruthy();
    });
  });
  describe('exports', function () {
    it('exports component and hook from index', function () {
      expect(UserSessionListScreenIndex.default).toBeDefined();
      expect(UserSessionListScreenIndex.useUserSessionListScreen).toBeDefined();
    });
    it('exports STATES', function () {
      expect(STATES).toBeDefined();
      expect(STATES.READY).toBe('ready');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJ1c2VJMThuIiwiamVzdCIsImZuIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfanN4UnVudGltZSIsInJlcXVpcmUiLCJfcmVxdWlyZTUiLCJSZWFjdCIsIl9yZXF1aXJlIiwicmVuZGVyIiwiZmlyZUV2ZW50IiwiX3JlcXVpcmUyIiwiVGhlbWVQcm92aWRlciIsIl9yZXF1aXJlMyIsInVzZVVzZXJTZXNzaW9uTGlzdFNjcmVlbiIsIlVzZXJTZXNzaW9uTGlzdFNjcmVlbldlYiIsIlVzZXJTZXNzaW9uTGlzdFNjcmVlbkFuZHJvaWQiLCJVc2VyU2Vzc2lvbkxpc3RTY3JlZW5JT1MiLCJVc2VyU2Vzc2lvbkxpc3RTY3JlZW5JbmRleCIsIl9yZXF1aXJlNCIsIlNUQVRFUyIsImxpZ2h0VGhlbWUiLCJyZW5kZXJXaXRoVGhlbWUiLCJjIiwianN4IiwidGhlbWUiLCJjaGlsZHJlbiIsIm1vY2tUIiwia2V5IiwibSIsImJhc2VIb29rIiwiaXRlbXMiLCJpc0xvYWRpbmciLCJoYXNFcnJvciIsImVycm9yTWVzc2FnZSIsImlzT2ZmbGluZSIsIm9uUmV0cnkiLCJvblNlc3Npb25QcmVzcyIsIm9uUmV2b2tlIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIm1vY2tSZXR1cm5WYWx1ZSIsInQiLCJPYmplY3QiLCJhc3NpZ24iLCJpdCIsIl9yZW5kZXJXaXRoVGhlbWUiLCJnZXRCeVRlc3RJZCIsImV4cGVjdCIsInRvQmVUcnV0aHkiLCJfcmVuZGVyV2l0aFRoZW1lMiIsIl9yZW5kZXJXaXRoVGhlbWUzIiwiX3JlbmRlcldpdGhUaGVtZTQiLCJfcmVuZGVyV2l0aFRoZW1lNSIsIl9yZW5kZXJXaXRoVGhlbWU2IiwiX3JlbmRlcldpdGhUaGVtZTciLCJpZCIsInVzZXIiLCJlbWFpbCIsImNyZWF0ZWRfYXQiLCJfcmVuZGVyV2l0aFRoZW1lOCIsIl9yZW5kZXJXaXRoVGhlbWU5IiwibGlzdCIsInRvQmVEZWZpbmVkIiwiUkVBRFkiLCJ0b0JlIl0sInNvdXJjZXMiOlsiVXNlclNlc3Npb25MaXN0U2NyZWVuLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFVzZXJTZXNzaW9uTGlzdFNjcmVlbiBDb21wb25lbnQgVGVzdHNcclxuICogUGVyIHRlc3RpbmcubWRjOiByZW5kZXIsIGxvYWRpbmcsIGVycm9yLCBlbXB0eSwgYTExeVxyXG4gKi9cclxuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5jb25zdCB7IHJlbmRlciwgZmlyZUV2ZW50IH0gPSByZXF1aXJlKCdAdGVzdGluZy1saWJyYXJ5L3JlYWN0LW5hdGl2ZScpO1xyXG5jb25zdCB7IFRoZW1lUHJvdmlkZXIgfSA9IHJlcXVpcmUoJ3N0eWxlZC1jb21wb25lbnRzL25hdGl2ZScpO1xyXG5jb25zdCB7IHVzZUkxOG4gfSA9IHJlcXVpcmUoJ0Bob29rcycpO1xyXG5cclxuamVzdC5tb2NrKCdAaG9va3MnLCAoKSA9PiAoe1xyXG4gIHVzZUkxOG46IGplc3QuZm4oKSxcclxufSkpO1xyXG5cclxuamVzdC5tb2NrKCdAcGxhdGZvcm0vc2NyZWVucy9zZXR0aW5ncy9Vc2VyU2Vzc2lvbkxpc3RTY3JlZW4vdXNlVXNlclNlc3Npb25MaXN0U2NyZWVuJywgKCkgPT4gKHtcclxuICBfX2VzTW9kdWxlOiB0cnVlLFxyXG4gIGRlZmF1bHQ6IGplc3QuZm4oKSxcclxufSkpO1xyXG5cclxuY29uc3QgdXNlVXNlclNlc3Npb25MaXN0U2NyZWVuID0gcmVxdWlyZSgnQHBsYXRmb3JtL3NjcmVlbnMvc2V0dGluZ3MvVXNlclNlc3Npb25MaXN0U2NyZWVuL3VzZVVzZXJTZXNzaW9uTGlzdFNjcmVlbicpLmRlZmF1bHQ7XHJcbmNvbnN0IFVzZXJTZXNzaW9uTGlzdFNjcmVlbldlYiA9IHJlcXVpcmUoJ0BwbGF0Zm9ybS9zY3JlZW5zL3NldHRpbmdzL1VzZXJTZXNzaW9uTGlzdFNjcmVlbi9Vc2VyU2Vzc2lvbkxpc3RTY3JlZW4ud2ViJykuZGVmYXVsdDtcclxuY29uc3QgVXNlclNlc3Npb25MaXN0U2NyZWVuQW5kcm9pZCA9IHJlcXVpcmUoJ0BwbGF0Zm9ybS9zY3JlZW5zL3NldHRpbmdzL1VzZXJTZXNzaW9uTGlzdFNjcmVlbi9Vc2VyU2Vzc2lvbkxpc3RTY3JlZW4uYW5kcm9pZCcpLmRlZmF1bHQ7XHJcbmNvbnN0IFVzZXJTZXNzaW9uTGlzdFNjcmVlbklPUyA9IHJlcXVpcmUoJ0BwbGF0Zm9ybS9zY3JlZW5zL3NldHRpbmdzL1VzZXJTZXNzaW9uTGlzdFNjcmVlbi9Vc2VyU2Vzc2lvbkxpc3RTY3JlZW4uaW9zJykuZGVmYXVsdDtcclxuY29uc3QgVXNlclNlc3Npb25MaXN0U2NyZWVuSW5kZXggPSByZXF1aXJlKCdAcGxhdGZvcm0vc2NyZWVucy9zZXR0aW5ncy9Vc2VyU2Vzc2lvbkxpc3RTY3JlZW4vaW5kZXguanMnKTtcclxuY29uc3QgeyBTVEFURVMgfSA9IHJlcXVpcmUoJ0BwbGF0Zm9ybS9zY3JlZW5zL3NldHRpbmdzL1VzZXJTZXNzaW9uTGlzdFNjcmVlbi90eXBlcy5qcycpO1xyXG5cclxuY29uc3QgbGlnaHRUaGVtZSA9IHJlcXVpcmUoJ0B0aGVtZS9saWdodC50aGVtZScpLmRlZmF1bHQgfHwgcmVxdWlyZSgnQHRoZW1lL2xpZ2h0LnRoZW1lJyk7XHJcblxyXG5jb25zdCByZW5kZXJXaXRoVGhlbWUgPSAoYykgPT4gcmVuZGVyKDxUaGVtZVByb3ZpZGVyIHRoZW1lPXtsaWdodFRoZW1lfT57Y308L1RoZW1lUHJvdmlkZXI+KTtcclxuXHJcbmNvbnN0IG1vY2tUID0gKGtleSkgPT4ge1xyXG4gIGNvbnN0IG0gPSB7XHJcbiAgICAndXNlclNlc3Npb24ubGlzdC50aXRsZSc6ICdVc2VyIFNlc3Npb25zJyxcclxuICAgICd1c2VyU2Vzc2lvbi5saXN0LmFjY2Vzc2liaWxpdHlMYWJlbCc6ICdVc2VyIHNlc3Npb25zIGxpc3QnLFxyXG4gICAgJ3VzZXJTZXNzaW9uLmxpc3QuZW1wdHlUaXRsZSc6ICdObyBzZXNzaW9ucycsXHJcbiAgICAndXNlclNlc3Npb24ubGlzdC5lbXB0eU1lc3NhZ2UnOiAnWW91IGhhdmUgbm8gYWN0aXZlIHNlc3Npb25zLicsXHJcbiAgICAndXNlclNlc3Npb24ubGlzdC5yZXZva2UnOiAnUmV2b2tlIHNlc3Npb24nLFxyXG4gICAgJ3VzZXJTZXNzaW9uLmxpc3QucmV2b2tlSGludCc6ICdSZXZva2UgdGhpcyBzZXNzaW9uJyxcclxuICAgICd1c2VyU2Vzc2lvbi5saXN0Lml0ZW1MYWJlbCc6ICdTZXNzaW9uIGZvciB7e2VtYWlsfX0nLFxyXG4gICAgJ2NvbW1vbi5yZW1vdmUnOiAnUmVtb3ZlJyxcclxuICAgICdsaXN0U2NhZmZvbGQubG9hZGluZyc6ICdMb2FkaW5nJyxcclxuICAgICdsaXN0U2NhZmZvbGQuZW1wdHknOiAnRW1wdHknLFxyXG4gICAgJ2xpc3RTY2FmZm9sZC5lcnJvcic6ICdFcnJvcicsXHJcbiAgICAnbGlzdFNjYWZmb2xkLm9mZmxpbmUnOiAnT2ZmbGluZScsXHJcbiAgICAnY29tbW9uLnJldHJ5JzogJ1JldHJ5JyxcclxuICB9O1xyXG4gIHJldHVybiBtW2tleV0gfHwga2V5O1xyXG59O1xyXG5cclxuY29uc3QgYmFzZUhvb2sgPSB7XHJcbiAgaXRlbXM6IFtdLFxyXG4gIGlzTG9hZGluZzogZmFsc2UsXHJcbiAgaGFzRXJyb3I6IGZhbHNlLFxyXG4gIGVycm9yTWVzc2FnZTogbnVsbCxcclxuICBpc09mZmxpbmU6IGZhbHNlLFxyXG4gIG9uUmV0cnk6IGplc3QuZm4oKSxcclxuICBvblNlc3Npb25QcmVzczogamVzdC5mbigpLFxyXG4gIG9uUmV2b2tlOiBqZXN0LmZuKCksXHJcbn07XHJcblxyXG5kZXNjcmliZSgnVXNlclNlc3Npb25MaXN0U2NyZWVuJywgKCkgPT4ge1xyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XHJcbiAgICB1c2VJMThuLm1vY2tSZXR1cm5WYWx1ZSh7IHQ6IG1vY2tUIH0pO1xyXG4gICAgdXNlVXNlclNlc3Npb25MaXN0U2NyZWVuLm1vY2tSZXR1cm5WYWx1ZSh7IC4uLmJhc2VIb29rIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgncmVuZGVyJywgKCkgPT4ge1xyXG4gICAgaXQoJ3JlbmRlcnMgd2l0aG91dCBlcnJvciAoV2ViKScsICgpID0+IHtcclxuICAgICAgY29uc3QgeyBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyV2l0aFRoZW1lKDxVc2VyU2Vzc2lvbkxpc3RTY3JlZW5XZWIgLz4pO1xyXG4gICAgICBleHBlY3QoZ2V0QnlUZXN0SWQoJ3VzZXItc2Vzc2lvbi1saXN0LXRpdGxlJykpLnRvQmVUcnV0aHkoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdyZW5kZXJzIHdpdGhvdXQgZXJyb3IgKEFuZHJvaWQpJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCB7IGdldEJ5VGVzdElkIH0gPSByZW5kZXJXaXRoVGhlbWUoPFVzZXJTZXNzaW9uTGlzdFNjcmVlbkFuZHJvaWQgLz4pO1xyXG4gICAgICBleHBlY3QoZ2V0QnlUZXN0SWQoJ3VzZXItc2Vzc2lvbi1saXN0LXRpdGxlJykpLnRvQmVUcnV0aHkoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdyZW5kZXJzIHdpdGhvdXQgZXJyb3IgKGlPUyknLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlcldpdGhUaGVtZSg8VXNlclNlc3Npb25MaXN0U2NyZWVuSU9TIC8+KTtcclxuICAgICAgZXhwZWN0KGdldEJ5VGVzdElkKCd1c2VyLXNlc3Npb24tbGlzdC10aXRsZScpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ2xvYWRpbmcnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvd3MgbG9hZGluZyBzdGF0ZSAoV2ViKScsICgpID0+IHtcclxuICAgICAgdXNlVXNlclNlc3Npb25MaXN0U2NyZWVuLm1vY2tSZXR1cm5WYWx1ZSh7IC4uLmJhc2VIb29rLCBpc0xvYWRpbmc6IHRydWUgfSk7XHJcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlcldpdGhUaGVtZSg8VXNlclNlc3Npb25MaXN0U2NyZWVuV2ViIC8+KTtcclxuICAgICAgZXhwZWN0KGdldEJ5VGVzdElkKCd1c2VyLXNlc3Npb24tbGlzdC1sb2FkaW5nJykpLnRvQmVUcnV0aHkoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnZW1wdHknLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvd3MgZW1wdHkgc3RhdGUgKFdlYiknLCAoKSA9PiB7XHJcbiAgICAgIHVzZVVzZXJTZXNzaW9uTGlzdFNjcmVlbi5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgICAgIC4uLmJhc2VIb29rLFxyXG4gICAgICAgIGl0ZW1zOiBbXSxcclxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxyXG4gICAgICAgIGhhc0Vycm9yOiBmYWxzZSxcclxuICAgICAgICBpc09mZmxpbmU6IGZhbHNlLFxyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgeyBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyV2l0aFRoZW1lKDxVc2VyU2Vzc2lvbkxpc3RTY3JlZW5XZWIgLz4pO1xyXG4gICAgICBleHBlY3QoZ2V0QnlUZXN0SWQoJ3VzZXItc2Vzc2lvbi1saXN0LWVtcHR5LXN0YXRlJykpLnRvQmVUcnV0aHkoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnZXJyb3InLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvd3MgZXJyb3Igc3RhdGUgKFdlYiknLCAoKSA9PiB7XHJcbiAgICAgIHVzZVVzZXJTZXNzaW9uTGlzdFNjcmVlbi5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgICAgIC4uLmJhc2VIb29rLFxyXG4gICAgICAgIGhhc0Vycm9yOiB0cnVlLFxyXG4gICAgICAgIGVycm9yTWVzc2FnZTogJ1NvbWV0aGluZyB3ZW50IHdyb25nJyxcclxuICAgICAgfSk7XHJcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlcldpdGhUaGVtZSg8VXNlclNlc3Npb25MaXN0U2NyZWVuV2ViIC8+KTtcclxuICAgICAgZXhwZWN0KGdldEJ5VGVzdElkKCd1c2VyLXNlc3Npb24tbGlzdC1lcnJvcicpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ29mZmxpbmUnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvd3Mgb2ZmbGluZSBzdGF0ZSAoV2ViKScsICgpID0+IHtcclxuICAgICAgdXNlVXNlclNlc3Npb25MaXN0U2NyZWVuLm1vY2tSZXR1cm5WYWx1ZSh7XHJcbiAgICAgICAgLi4uYmFzZUhvb2ssXHJcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcclxuICAgICAgICBoYXNFcnJvcjogZmFsc2UsXHJcbiAgICAgICAgaXNPZmZsaW5lOiB0cnVlLFxyXG4gICAgICAgIGl0ZW1zOiBbXSxcclxuICAgICAgfSk7XHJcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlcldpdGhUaGVtZSg8VXNlclNlc3Npb25MaXN0U2NyZWVuV2ViIC8+KTtcclxuICAgICAgZXhwZWN0KGdldEJ5VGVzdElkKCd1c2VyLXNlc3Npb24tbGlzdC1vZmZsaW5lJykpLnRvQmVUcnV0aHkoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnbGlzdCB3aXRoIGl0ZW1zJywgKCkgPT4ge1xyXG4gICAgaXQoJ3JlbmRlcnMgaXRlbXMgKFdlYiknLCAoKSA9PiB7XHJcbiAgICAgIHVzZVVzZXJTZXNzaW9uTGlzdFNjcmVlbi5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgICAgIC4uLmJhc2VIb29rLFxyXG4gICAgICAgIGl0ZW1zOiBbXHJcbiAgICAgICAgICB7IGlkOiAnMScsIHVzZXI6IHsgZW1haWw6ICdhQGIuY29tJyB9LCBjcmVhdGVkX2F0OiAnMjAyNS0wMS0wMVQwMDowMDowMFonIH0sXHJcbiAgICAgICAgXSxcclxuICAgICAgfSk7XHJcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlcldpdGhUaGVtZSg8VXNlclNlc3Npb25MaXN0U2NyZWVuV2ViIC8+KTtcclxuICAgICAgZXhwZWN0KGdldEJ5VGVzdElkKCd1c2VyLXNlc3Npb24taXRlbS0xJykpLnRvQmVUcnV0aHkoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnYWNjZXNzaWJpbGl0eScsICgpID0+IHtcclxuICAgIGl0KCdoYXMgYWNjZXNzaWJpbGl0eSBsYWJlbCAoV2ViKScsICgpID0+IHtcclxuICAgICAgdXNlVXNlclNlc3Npb25MaXN0U2NyZWVuLm1vY2tSZXR1cm5WYWx1ZSh7XHJcbiAgICAgICAgLi4uYmFzZUhvb2ssXHJcbiAgICAgICAgaXRlbXM6IFt7IGlkOiAnMScsIHVzZXI6IHsgZW1haWw6ICdhQGIuY29tJyB9LCBjcmVhdGVkX2F0OiAnMjAyNS0wMS0wMVQwMDowMDowMFonIH1dLFxyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgeyBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyV2l0aFRoZW1lKDxVc2VyU2Vzc2lvbkxpc3RTY3JlZW5XZWIgLz4pO1xyXG4gICAgICBjb25zdCBsaXN0ID0gZ2V0QnlUZXN0SWQoJ3VzZXItc2Vzc2lvbi1saXN0Jyk7XHJcbiAgICAgIGV4cGVjdChsaXN0KS50b0JlVHJ1dGh5KCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ2V4cG9ydHMnLCAoKSA9PiB7XHJcbiAgICBpdCgnZXhwb3J0cyBjb21wb25lbnQgYW5kIGhvb2sgZnJvbSBpbmRleCcsICgpID0+IHtcclxuICAgICAgZXhwZWN0KFVzZXJTZXNzaW9uTGlzdFNjcmVlbkluZGV4LmRlZmF1bHQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChVc2VyU2Vzc2lvbkxpc3RTY3JlZW5JbmRleC51c2VVc2VyU2Vzc2lvbkxpc3RTY3JlZW4pLnRvQmVEZWZpbmVkKCk7XHJcbiAgICB9KTtcclxuICAgIGl0KCdleHBvcnRzIFNUQVRFUycsICgpID0+IHtcclxuICAgICAgZXhwZWN0KFNUQVRFUykudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KFNUQVRFUy5SRUFEWSkudG9CZSgncmVhZHknKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuIl0sIm1hcHBpbmdzIjoiQUFTQUEsV0FBQSxHQUFLQyxJQUFJLHNCQUFXO0VBQUEsT0FBTztJQUN6QkMsT0FBTyxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQztFQUNuQixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBRUhKLFdBQUEsR0FBS0MsSUFBSSx5RkFBOEU7RUFBQSxPQUFPO0lBQzVGSSxVQUFVLEVBQUUsSUFBSTtJQUNoQkMsT0FBTyxFQUFFSCxJQUFJLENBQUNDLEVBQUUsQ0FBQztFQUNuQixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBQUMsSUFBQUcsV0FBQSxHQUFBQyxPQUFBO0FBQUEsU0FBQVIsWUFBQTtFQUFBLElBQUFTLFNBQUEsR0FBQUQsT0FBQTtJQUFBTCxJQUFBLEdBQUFNLFNBQUEsQ0FBQU4sSUFBQTtFQUFBSCxXQUFBLFlBQUFBLFlBQUE7SUFBQSxPQUFBRyxJQUFBO0VBQUE7RUFBQSxPQUFBQSxJQUFBO0FBQUE7QUFaSixJQUFNTyxLQUFLLEdBQUdGLE9BQU8sQ0FBQyxPQUFPLENBQUM7QUFDOUIsSUFBQUcsUUFBQSxHQUE4QkgsT0FBTyxDQUFDLCtCQUErQixDQUFDO0VBQTlESSxNQUFNLEdBQUFELFFBQUEsQ0FBTkMsTUFBTTtFQUFFQyxTQUFTLEdBQUFGLFFBQUEsQ0FBVEUsU0FBUztBQUN6QixJQUFBQyxTQUFBLEdBQTBCTixPQUFPLENBQUMsMEJBQTBCLENBQUM7RUFBckRPLGFBQWEsR0FBQUQsU0FBQSxDQUFiQyxhQUFhO0FBQ3JCLElBQUFDLFNBQUEsR0FBb0JSLE9BQU8sb0JBQVMsQ0FBQztFQUE3Qk4sT0FBTyxHQUFBYyxTQUFBLENBQVBkLE9BQU87QUFXZixJQUFNZSx3QkFBd0IsR0FBR1Qs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