{"version":3,"names":["_getJestObj","mock","useI18n","jest","fn","__esModule","default","_jsxRuntime","require","_require5","React","_require","render","fireEvent","_require2","ThemeProvider","_require3","useUserSessionListScreen","UserSessionListScreenWeb","UserSessionListScreenAndroid","UserSessionListScreenIOS","UserSessionListScreenIndex","_require4","STATES","lightTheme","renderWithTheme","c","jsx","theme","children","mockT","key","m","baseHook","items","isLoading","hasError","errorMessage","isOffline","onRetry","onSessionPress","onRevoke","describe","beforeEach","clearAllMocks","mockReturnValue","t","Object","assign","it","_renderWithTheme","getByTestId","expect","toBeTruthy","_renderWithTheme2","_renderWithTheme3","_renderWithTheme4","_renderWithTheme5","_renderWithTheme6","_renderWithTheme7","id","user","email","created_at","_renderWithTheme8","_renderWithTheme9","list","toBeDefined","READY","toBe"],"sources":["UserSessionListScreen.test.js"],"sourcesContent":["/**\r\n * UserSessionListScreen Component Tests\r\n * Per testing.mdc: render, loading, error, empty, a11y\r\n */\r\nconst React = require('react');\r\nconst { render, fireEvent } = require('@testing-library/react-native');\r\nconst { ThemeProvider } = require('styled-components/native');\r\nconst { useI18n } = require('@hooks');\r\n\r\njest.mock('@hooks', () => ({\r\n  useI18n: jest.fn(),\r\n}));\r\n\r\njest.mock('@platform/screens/settings/UserSessionListScreen/useUserSessionListScreen', () => ({\r\n  __esModule: true,\r\n  default: jest.fn(),\r\n}));\r\n\r\nconst useUserSessionListScreen = require('@platform/screens/settings/UserSessionListScreen/useUserSessionListScreen').default;\r\nconst UserSessionListScreenWeb = require('@platform/screens/settings/UserSessionListScreen/UserSessionListScreen.web').default;\r\nconst UserSessionListScreenAndroid = require('@platform/screens/settings/UserSessionListScreen/UserSessionListScreen.android').default;\r\nconst UserSessionListScreenIOS = require('@platform/screens/settings/UserSessionListScreen/UserSessionListScreen.ios').default;\r\nconst UserSessionListScreenIndex = require('@platform/screens/settings/UserSessionListScreen/index.js');\r\nconst { STATES } = require('@platform/screens/settings/UserSessionListScreen/types.js');\r\n\r\nconst lightTheme = require('@theme/light.theme').default || require('@theme/light.theme');\r\n\r\nconst renderWithTheme = (c) => render(<ThemeProvider theme={lightTheme}>{c}</ThemeProvider>);\r\n\r\nconst mockT = (key) => {\r\n  const m = {\r\n    'userSession.list.title': 'User Sessions',\r\n    'userSession.list.accessibilityLabel': 'User sessions list',\r\n    'userSession.list.emptyTitle': 'No sessions',\r\n    'userSession.list.emptyMessage': 'You have no active sessions.',\r\n    'userSession.list.revoke': 'Revoke session',\r\n    'userSession.list.revokeHint': 'Revoke this session',\r\n    'userSession.list.itemLabel': 'Session for {{email}}',\r\n    'common.remove': 'Remove',\r\n    'listScaffold.loading': 'Loading',\r\n    'listScaffold.empty': 'Empty',\r\n    'listScaffold.error': 'Error',\r\n    'listScaffold.offline': 'Offline',\r\n    'common.retry': 'Retry',\r\n  };\r\n  return m[key] || key;\r\n};\r\n\r\nconst baseHook = {\r\n  items: [],\r\n  isLoading: false,\r\n  hasError: false,\r\n  errorMessage: null,\r\n  isOffline: false,\r\n  onRetry: jest.fn(),\r\n  onSessionPress: jest.fn(),\r\n  onRevoke: jest.fn(),\r\n};\r\n\r\ndescribe('UserSessionListScreen', () => {\r\n  beforeEach(() => {\r\n    jest.clearAllMocks();\r\n    useI18n.mockReturnValue({ t: mockT });\r\n    useUserSessionListScreen.mockReturnValue({ ...baseHook });\r\n  });\r\n\r\n  describe('render', () => {\r\n    it('renders without error (Web)', () => {\r\n      const { getByTestId } = renderWithTheme(<UserSessionListScreenWeb />);\r\n      expect(getByTestId('user-session-list-title')).toBeTruthy();\r\n    });\r\n\r\n    it('renders without error (Android)', () => {\r\n      const { getByTestId } = renderWithTheme(<UserSessionListScreenAndroid />);\r\n      expect(getByTestId('user-session-list-title')).toBeTruthy();\r\n    });\r\n\r\n    it('renders without error (iOS)', () => {\r\n      const { getByTestId } = renderWithTheme(<UserSessionListScreenIOS />);\r\n      expect(getByTestId('user-session-list-title')).toBeTruthy();\r\n    });\r\n  });\r\n\r\n  describe('loading', () => {\r\n    it('shows loading state (Web)', () => {\r\n      useUserSessionListScreen.mockReturnValue({ ...baseHook, isLoading: true });\r\n      const { getByTestId } = renderWithTheme(<UserSessionListScreenWeb />);\r\n      expect(getByTestId('user-session-list-loading')).toBeTruthy();\r\n    });\r\n  });\r\n\r\n  describe('empty', () => {\r\n    it('shows empty state (Web)', () => {\r\n      useUserSessionListScreen.mockReturnValue({\r\n        ...baseHook,\r\n        items: [],\r\n        isLoading: false,\r\n        hasError: false,\r\n        isOffline: false,\r\n      });\r\n      const { getByTestId } = renderWithTheme(<UserSessionListScreenWeb />);\r\n      expect(getByTestId('user-session-list-empty-state')).toBeTruthy();\r\n    });\r\n  });\r\n\r\n  describe('error', () => {\r\n    it('shows error state (Web)', () => {\r\n      useUserSessionListScreen.mockReturnValue({\r\n        ...baseHook,\r\n        hasError: true,\r\n        errorMessage: 'Something went wrong',\r\n      });\r\n      const { getByTestId } = renderWithTheme(<UserSessionListScreenWeb />);\r\n      expect(getByTestId('user-session-list-error')).toBeTruthy();\r\n    });\r\n  });\r\n\r\n  describe('offline', () => {\r\n    it('shows offline state (Web)', () => {\r\n      useUserSessionListScreen.mockReturnValue({\r\n        ...baseHook,\r\n        isLoading: false,\r\n        hasError: false,\r\n        isOffline: true,\r\n        items: [],\r\n      });\r\n      const { getByTestId } = renderWithTheme(<UserSessionListScreenWeb />);\r\n      expect(getByTestId('user-session-list-offline')).toBeTruthy();\r\n    });\r\n  });\r\n\r\n  describe('list with items', () => {\r\n    it('renders items (Web)', () => {\r\n      useUserSessionListScreen.mockReturnValue({\r\n        ...baseHook,\r\n        items: [\r\n          { id: '1', user: { email: 'a@b.com' }, created_at: '2025-01-01T00:00:00Z' },\r\n        ],\r\n      });\r\n      const { getByTestId } = renderWithTheme(<UserSessionListScreenWeb />);\r\n      expect(getByTestId('user-session-item-1')).toBeTruthy();\r\n    });\r\n  });\r\n\r\n  describe('accessibility', () => {\r\n    it('has accessibility label (Web)', () => {\r\n      useUserSessionListScreen.mockReturnValue({\r\n        ...baseHook,\r\n        items: [{ id: '1', user: { email: 'a@b.com' }, created_at: '2025-01-01T00:00:00Z' }],\r\n      });\r\n      const { getByTestId } = renderWithTheme(<UserSessionListScreenWeb />);\r\n      const list = getByTestId('user-session-list');\r\n      expect(list).toBeTruthy();\r\n    });\r\n  });\r\n\r\n  describe('exports', () => {\r\n    it('exports component and hook from index', () => {\r\n      expect(UserSessionListScreenIndex.default).toBeDefined();\r\n      expect(UserSessionListScreenIndex.useUserSessionListScreen).toBeDefined();\r\n    });\r\n    it('exports STATES', () => {\r\n      expect(STATES).toBeDefined();\r\n      expect(STATES.READY).toBe('ready');\r\n    });\r\n  });\r\n});\r\n"],"mappings":"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","ignoreList":[]}