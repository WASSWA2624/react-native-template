3d55b6ef4eae12fb5aae97b7ea27a298
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _react = _interopRequireWildcard(require("react"));
var _hooks = require("../../../../hooks");
var _Modal = _interopRequireDefault(require("../Modal"));
var _SystemBanner = _interopRequireDefault(require("../SystemBanner"));
var _ShellBannersWeb = require("./ShellBanners.web.styles");
var _types = require("./types");
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["banners", "accessibilityLabel", "testID", "className"];
var ShellBannersWeb = function ShellBannersWeb(_ref) {
  var _ref$banners = _ref.banners,
    banners = _ref$banners === void 0 ? [] : _ref$banners,
    accessibilityLabel = _ref.accessibilityLabel,
    testID = _ref.testID,
    className = _ref.className,
    rest = (0, _objectWithoutProperties2.default)(_ref, _excluded);
  var _useI18n = (0, _hooks.useI18n)(),
    t = _useI18n.t;
  var _useState = (0, _react.useState)(false),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    dismissed = _useState2[0],
    setDismissed = _useState2[1];
  var bannerKey = banners.map(function (b) {
    return b.id;
  }).join(',');
  (0, _react.useEffect)(function () {
    setDismissed(false);
  }, [bannerKey]);
  var visible = banners.length > 0 && !dismissed;
  var label = accessibilityLabel || t('shell.banners.surfaceLabel');
  if (!visible) return null;
  return (0, _jsxRuntime.jsx)(_Modal.default, Object.assign({
    visible: true,
    onDismiss: function onDismiss() {
      return setDismissed(true);
    },
    size: "small",
    showCloseButton: true,
    dismissOnBackdrop: true,
    accessibilityLabel: label,
    testID: testID,
    className: className
  }, rest, {
    children: (0, _jsxRuntime.jsx)(_ShellBannersWeb.StyledStack, {
      role: "region",
      "aria-label": label,
      children: banners.map(function (banner, index) {
        return (0, _jsxRuntime.jsx)(_ShellBannersWeb.StyledStackItem, {
          spacing: _types.STACK_SPACING,
          isLast: index === banners.length - 1,
          children: (0, _jsxRuntime.jsx)(_SystemBanner.default, Object.assign({}, banner))
        }, banner.id);
      })
    })
  }));
};
var _default = exports.default = ShellBannersWeb;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfaG9va3MiLCJfTW9kYWwiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX1N5c3RlbUJhbm5lciIsIl9TaGVsbEJhbm5lcnNXZWIiLCJfdHlwZXMiLCJfanN4UnVudGltZSIsIl9leGNsdWRlZCIsIlNoZWxsQmFubmVyc1dlYiIsIl9yZWYiLCJfcmVmJGJhbm5lcnMiLCJiYW5uZXJzIiwiYWNjZXNzaWJpbGl0eUxhYmVsIiwidGVzdElEIiwiY2xhc3NOYW1lIiwicmVzdCIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllczIiLCJkZWZhdWx0IiwiX3VzZUkxOG4iLCJ1c2VJMThuIiwidCIsIl91c2VTdGF0ZSIsInVzZVN0YXRlIiwiX3VzZVN0YXRlMiIsIl9zbGljZWRUb0FycmF5MiIsImRpc21pc3NlZCIsInNldERpc21pc3NlZCIsImJhbm5lcktleSIsIm1hcCIsImIiLCJpZCIsImpvaW4iLCJ1c2VFZmZlY3QiLCJ2aXNpYmxlIiwibGVuZ3RoIiwibGFiZWwiLCJqc3giLCJPYmplY3QiLCJhc3NpZ24iLCJvbkRpc21pc3MiLCJzaXplIiwic2hvd0Nsb3NlQnV0dG9uIiwiZGlzbWlzc09uQmFja2Ryb3AiLCJjaGlsZHJlbiIsIlN0eWxlZFN0YWNrIiwicm9sZSIsImJhbm5lciIsImluZGV4IiwiU3R5bGVkU3RhY2tJdGVtIiwic3BhY2luZyIsIlNUQUNLX1NQQUNJTkciLCJpc0xhc3QiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlcyI6WyJTaGVsbEJhbm5lcnMud2ViLmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogU2hlbGxCYW5uZXJzIENvbXBvbmVudCAtIFdlYlxyXG4gKiBEaXNtaXNzaWJsZSBtb2RhbCBmb3Igc3lzdGVtIGJhbm5lcnMgKG9mZmxpbmUsIG1haW50ZW5hbmNlLCBldGMuKVxyXG4gKiBGaWxlOiBTaGVsbEJhbm5lcnMud2ViLmpzeFxyXG4gKi9cclxuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHVzZUkxOG4gfSBmcm9tICdAaG9va3MnO1xyXG5pbXBvcnQgTW9kYWwgZnJvbSAnQHBsYXRmb3JtL2NvbXBvbmVudHMvZmVlZGJhY2svTW9kYWwnO1xyXG5pbXBvcnQgU3lzdGVtQmFubmVyIGZyb20gJ0BwbGF0Zm9ybS9jb21wb25lbnRzL2ZlZWRiYWNrL1N5c3RlbUJhbm5lcic7XHJcbmltcG9ydCB7IFN0eWxlZFN0YWNrLCBTdHlsZWRTdGFja0l0ZW0gfSBmcm9tICcuL1NoZWxsQmFubmVycy53ZWIuc3R5bGVzJztcclxuaW1wb3J0IHsgU1RBQ0tfU1BBQ0lORyB9IGZyb20gJy4vdHlwZXMnO1xyXG5cclxuLyoqXHJcbiAqIFNoZWxsQmFubmVycyBjb21wb25lbnQgZm9yIFdlYiDigJMgZGlzcGxheXMgYXMgYSBkaXNtaXNzaWJsZSBtb2RhbFxyXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgLSBTaGVsbEJhbm5lcnMgcHJvcHNcclxuICogQHBhcmFtIHtBcnJheX0gcHJvcHMuYmFubmVycyAtIEJhbm5lciBjb25maWd1cmF0aW9uc1xyXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcHMuYWNjZXNzaWJpbGl0eUxhYmVsIC0gQWNjZXNzaWJpbGl0eSBsYWJlbFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcHMudGVzdElEIC0gVGVzdCBpZGVudGlmaWVyXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wcy5jbGFzc05hbWUgLSBBZGRpdGlvbmFsIENTUyBjbGFzc1xyXG4gKi9cclxuY29uc3QgU2hlbGxCYW5uZXJzV2ViID0gKHtcclxuICBiYW5uZXJzID0gW10sXHJcbiAgYWNjZXNzaWJpbGl0eUxhYmVsLFxyXG4gIHRlc3RJRCxcclxuICBjbGFzc05hbWUsXHJcbiAgLi4ucmVzdFxyXG59KSA9PiB7XHJcbiAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XHJcbiAgY29uc3QgW2Rpc21pc3NlZCwgc2V0RGlzbWlzc2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBiYW5uZXJLZXkgPSBiYW5uZXJzLm1hcCgoYikgPT4gYi5pZCkuam9pbignLCcpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgc2V0RGlzbWlzc2VkKGZhbHNlKTtcclxuICB9LCBbYmFubmVyS2V5XSk7XHJcblxyXG4gIGNvbnN0IHZpc2libGUgPSBiYW5uZXJzLmxlbmd0aCA+IDAgJiYgIWRpc21pc3NlZDtcclxuICBjb25zdCBsYWJlbCA9IGFjY2Vzc2liaWxpdHlMYWJlbCB8fCB0KCdzaGVsbC5iYW5uZXJzLnN1cmZhY2VMYWJlbCcpO1xyXG5cclxuICBpZiAoIXZpc2libGUpIHJldHVybiBudWxsO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPE1vZGFsXHJcbiAgICAgIHZpc2libGVcclxuICAgICAgb25EaXNtaXNzPXsoKSA9PiBzZXREaXNtaXNzZWQodHJ1ZSl9XHJcbiAgICAgIHNpemU9XCJzbWFsbFwiXHJcbiAgICAgIHNob3dDbG9zZUJ1dHRvblxyXG4gICAgICBkaXNtaXNzT25CYWNrZHJvcFxyXG4gICAgICBhY2Nlc3NpYmlsaXR5TGFiZWw9e2xhYmVsfVxyXG4gICAgICB0ZXN0SUQ9e3Rlc3RJRH1cclxuICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XHJcbiAgICAgIHsuLi5yZXN0fVxyXG4gICAgPlxyXG4gICAgICA8U3R5bGVkU3RhY2sgcm9sZT1cInJlZ2lvblwiIGFyaWEtbGFiZWw9e2xhYmVsfT5cclxuICAgICAgICB7YmFubmVycy5tYXAoKGJhbm5lciwgaW5kZXgpID0+IChcclxuICAgICAgICAgIDxTdHlsZWRTdGFja0l0ZW1cclxuICAgICAgICAgICAga2V5PXtiYW5uZXIuaWR9XHJcbiAgICAgICAgICAgIHNwYWNpbmc9e1NUQUNLX1NQQUNJTkd9XHJcbiAgICAgICAgICAgIGlzTGFzdD17aW5kZXggPT09IGJhbm5lcnMubGVuZ3RoIC0gMX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPFN5c3RlbUJhbm5lciB7Li4uYmFubmVyfSAvPlxyXG4gICAgICAgICAgPC9TdHlsZWRTdGFja0l0ZW0+XHJcbiAgICAgICAgKSl9XHJcbiAgICAgIDwvU3R5bGVkU3RhY2s+XHJcbiAgICA8L01vZGFsPlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTaGVsbEJhbm5lcnNXZWI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFLQSxJQUFBQSxNQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxNQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxNQUFBLEdBQUFDLHNCQUFBLENBQUFILE9BQUE7QUFDQSxJQUFBSSxhQUFBLEdBQUFELHNCQUFBLENBQUFILE9BQUE7QUFDQSxJQUFBSyxnQkFBQSxHQUFBTCxPQUFBO0FBQ0EsSUFBQU0sTUFBQSxHQUFBTixPQUFBO0FBQXdDLElBQUFPLFdBQUEsR0FBQVAsT0FBQTtBQUFBLElBQUFRLFNBQUE7QUFVeEMsSUFBTUMsZUFBZSxHQUFHLFNBQWxCQSxlQUFlQSxDQUFBQyxJQUFBLEVBTWY7RUFBQSxJQUFBQyxZQUFBLEdBQUFELElBQUEsQ0FMSkUsT0FBTztJQUFQQSxPQUFPLEdBQUFELFlBQUEsY0FBRyxFQUFFLEdBQUFBLFlBQUE7SUFDWkUsa0JBQWtCLEdBQUFILElBQUEsQ0FBbEJHLGtCQUFrQjtJQUNsQkMsTUFBTSxHQUFBSixJQUFBLENBQU5JLE1BQU07SUFDTkMsU0FBUyxHQUFBTCxJQUFBLENBQVRLLFNBQVM7SUFDTkMsSUFBSSxPQUFBQyx5QkFBQSxDQUFBQyxPQUFBLEVBQUFSLElBQUEsRUFBQUYsU0FBQTtFQUVQLElBQUFXLFFBQUEsR0FBYyxJQUFBQyxjQUFPLEVBQUMsQ0FBQztJQUFmQyxDQUFDLEdBQUFGLFFBQUEsQ0FBREUsQ0FBQztFQUNULElBQUFDLFNBQUEsR0FBa0MsSUFBQUMsZUFBUSxFQUFDLEtBQUssQ0FBQztJQUFBQyxVQUFBLE9BQUFDLGVBQUEsQ0FBQVAsT0FBQSxFQUFBSSxTQUFBO0lBQTFDSSxTQUFTLEdBQUFGLFVBQUE7SUFBRUcsWUFBWSxHQUFBSCxVQUFBO0VBQzlCLElBQU1JLFNBQVMsR0FBR2hCLE9BQU8sQ0FBQ2lCLEdBQUcsQ0FBQyxVQUFDQyxDQUFDO0lBQUEsT0FBS0EsQ0FBQyxDQUFDQyxFQUFFO0VBQUEsRUFBQyxDQUFDQyxJQUFJLENBQUMsR0FBRyxDQUFDO0VBRXBELElBQUFDLGdCQUFTLEVBQUMsWUFBTTtJQUNkTixZQUFZLENBQUMsS0FBSyxDQUFDO0VBQ3JCLENBQUMsRUFBRSxDQUFDQyxTQUFTLENBQUMsQ0FBQztFQUVmLElBQU1NLE9BQU8sR0FBR3RCLE9BQU8sQ0FBQ3VCLE1BQU0sR0FBRyxDQUFDLElBQUksQ0FBQ1QsU0FBUztFQUNoRCxJQUFNVSxLQUFLLEdBQUd2QixrQkFBa0IsSUFBSVEsQ0FBQyxDQUFDLDRCQUE0QixDQUFDO0VBRW5FLElBQUksQ0FBQ2EsT0FBTyxFQUFFLE9BQU8sSUFBSTtFQUV6QixPQUNFLElBQUEzQixXQUFBLENBQUE4QixHQUFBLEVBQUNuQyxNQUFBLENBQUFnQixPQUFLLEVBQUFvQixNQUFBLENBQUFDLE1BQUE7SUFDSkwsT0FBTztJQUNQTSxTQUFTLEVBQUUsU0FBWEEsU0FBU0EsQ0FBQTtNQUFBLE9BQVFiLFlBQVksQ0FBQyxJQUFJLENBQUM7SUFBQSxDQUFDO0lBQ3BDYyxJQUFJLEVBQUMsT0FBTztJQUNaQyxlQUFlO0lBQ2ZDLGlCQUFpQjtJQUNqQjlCLGtCQUFrQixFQUFFdUIsS0FBTTtJQUMxQnRCLE1BQU0sRUFBRUEsTUFBTztJQUNmQyxTQUFTLEVBQUVBO0VBQVUsR0FDakJDLElBQUk7SUFBQTRCLFFBQUEsRUFFUixJQUFBckMsV0FBQSxDQUFBOEIsR0FBQSxFQUFDaEMsZ0JBQUEsQ0FBQXdDLFdBQVc7TUFBQ0MsSUFBSSxFQUFDLFFBQVE7TUFBQyxjQUFZVixLQUFNO01BQUFRLFFBQUEsRUFDMUNoQyxPQUFPLENBQUNpQixHQUFHLENBQUMsVUFBQ2tCLE1BQU0sRUFBRUMsS0FBSztRQUFBLE9BQ3pCLElBQUF6QyxXQUFBLENBQUE4QixHQUFBLEVBQUNoQyxnQkFBQSxDQUFBNEMsZUFBZTtVQUVkQyxPQUFPLEVBQUVDLG9CQUFjO1VBQ3ZCQyxNQUFNLEVBQUVKLEtBQUssS0FBS3BDLE9BQU8sQ0FBQ3VCLE1BQU0sR0FBRyxDQUFFO1VBQUFTLFFBQUEsRUFFckMsSUFBQXJDLFdBQUEsQ0FBQThCLEdBQUEsRUFBQ2pDLGFBQUEsQ0FBQWMsT0FBWSxFQUFBb0IsTUFBQSxDQUFBQyxNQUFBLEtBQUtRLE1BQU0sQ0FBRztRQUFDLEdBSnZCQSxNQUFNLENBQUNoQixFQUtHLENBQUM7TUFBQSxDQUNuQjtJQUFDLENBQ1M7RUFBQyxFQUNULENBQUM7QUFFWixDQUFDO0FBQUMsSUFBQXNCLFFBQUEsR0FBQUMsT0FBQSxDQUFBcEMsT0FBQSxHQUVhVCxlQUFlIiwiaWdub3JlTGlzdCI6W119