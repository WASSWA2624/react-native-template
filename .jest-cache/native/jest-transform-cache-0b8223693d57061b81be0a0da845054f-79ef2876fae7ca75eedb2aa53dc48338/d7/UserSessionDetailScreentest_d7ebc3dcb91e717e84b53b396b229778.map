{"version":3,"names":["_getJestObj","mock","useI18n","jest","fn","__esModule","default","_jsxRuntime","require","_require5","React","_require","render","_require2","ThemeProvider","_require3","useUserSessionDetailScreen","UserSessionDetailScreenWeb","UserSessionDetailScreenAndroid","UserSessionDetailScreenIOS","UserSessionDetailScreenIndex","_require4","STATES","lightTheme","renderWithTheme","c","jsx","theme","children","mockT","key","m","baseHook","id","session","isLoading","hasError","errorMessage","isOffline","onRetry","onBack","onRevoke","describe","beforeEach","clearAllMocks","mockReturnValue","t","Object","assign","it","_renderWithTheme","getByTestId","expect","toBeTruthy","_renderWithTheme2","_renderWithTheme3","_renderWithTheme4","_renderWithTheme5","_renderWithTheme6","user","email","created_at","expires_at","revoked_at","_renderWithTheme7","toBeDefined","READY","toBe"],"sources":["UserSessionDetailScreen.test.js"],"sourcesContent":["/**\r\n * UserSessionDetailScreen Component Tests\r\n * Per testing.mdc: render, loading, error, empty (not found), a11y\r\n */\r\nconst React = require('react');\r\nconst { render } = require('@testing-library/react-native');\r\nconst { ThemeProvider } = require('styled-components/native');\r\nconst { useI18n } = require('@hooks');\r\n\r\njest.mock('@hooks', () => ({\r\n  useI18n: jest.fn(),\r\n}));\r\n\r\njest.mock('@platform/screens/settings/UserSessionDetailScreen/useUserSessionDetailScreen', () => ({\r\n  __esModule: true,\r\n  default: jest.fn(),\r\n}));\r\n\r\nconst useUserSessionDetailScreen = require('@platform/screens/settings/UserSessionDetailScreen/useUserSessionDetailScreen').default;\r\nconst UserSessionDetailScreenWeb = require('@platform/screens/settings/UserSessionDetailScreen/UserSessionDetailScreen.web').default;\r\nconst UserSessionDetailScreenAndroid = require('@platform/screens/settings/UserSessionDetailScreen/UserSessionDetailScreen.android').default;\r\nconst UserSessionDetailScreenIOS = require('@platform/screens/settings/UserSessionDetailScreen/UserSessionDetailScreen.ios').default;\r\nconst UserSessionDetailScreenIndex = require('@platform/screens/settings/UserSessionDetailScreen/index.js');\r\nconst { STATES } = require('@platform/screens/settings/UserSessionDetailScreen/types.js');\r\n\r\nconst lightTheme = require('@theme/light.theme').default || require('@theme/light.theme');\r\n\r\nconst renderWithTheme = (c) => render(<ThemeProvider theme={lightTheme}>{c}</ThemeProvider>);\r\n\r\nconst mockT = (key) => {\r\n  const m = {\r\n    'userSession.detail.title': 'Session Details',\r\n    'userSession.detail.idLabel': 'Session ID',\r\n    'userSession.detail.emailLabel': 'User',\r\n    'userSession.detail.createdLabel': 'Created',\r\n    'userSession.detail.expiresLabel': 'Expires',\r\n    'userSession.detail.revokedLabel': 'Revoked',\r\n    'userSession.detail.errorTitle': 'Failed to load session',\r\n    'userSession.detail.notFoundTitle': 'Session not found',\r\n    'userSession.detail.notFoundMessage': 'This session may have been revoked or expired.',\r\n    'userSession.detail.backHint': 'Return to sessions list',\r\n    'userSession.detail.revoke': 'Revoke session',\r\n    'userSession.detail.revokeHint': 'Revoke this session',\r\n    'common.loading': 'Loading',\r\n    'common.retry': 'Retry',\r\n    'common.back': 'Back',\r\n    'common.remove': 'Remove',\r\n  };\r\n  return m[key] || key;\r\n};\r\n\r\nconst baseHook = {\r\n  id: 's1',\r\n  session: null,\r\n  isLoading: false,\r\n  hasError: false,\r\n  errorMessage: null,\r\n  isOffline: false,\r\n  onRetry: jest.fn(),\r\n  onBack: jest.fn(),\r\n  onRevoke: jest.fn(),\r\n};\r\n\r\ndescribe('UserSessionDetailScreen', () => {\r\n  beforeEach(() => {\r\n    jest.clearAllMocks();\r\n    useI18n.mockReturnValue({ t: mockT });\r\n    useUserSessionDetailScreen.mockReturnValue({ ...baseHook });\r\n  });\r\n\r\n  describe('render', () => {\r\n    it('renders without error (Web)', () => {\r\n      const { getByTestId } = renderWithTheme(<UserSessionDetailScreenWeb />);\r\n      expect(getByTestId('user-session-detail-not-found')).toBeTruthy();\r\n    });\r\n\r\n    it('renders without error (Android)', () => {\r\n      useUserSessionDetailScreen.mockReturnValue({ ...baseHook, session: null });\r\n      const { getByTestId } = renderWithTheme(<UserSessionDetailScreenAndroid />);\r\n      expect(getByTestId('user-session-detail-not-found')).toBeTruthy();\r\n    });\r\n\r\n    it('renders without error (iOS)', () => {\r\n      useUserSessionDetailScreen.mockReturnValue({ ...baseHook, session: null });\r\n      const { getByTestId } = renderWithTheme(<UserSessionDetailScreenIOS />);\r\n      expect(getByTestId('user-session-detail-not-found')).toBeTruthy();\r\n    });\r\n  });\r\n\r\n  describe('loading', () => {\r\n    it('shows loading state (Web)', () => {\r\n      useUserSessionDetailScreen.mockReturnValue({ ...baseHook, isLoading: true });\r\n      const { getByTestId } = renderWithTheme(<UserSessionDetailScreenWeb />);\r\n      expect(getByTestId('user-session-detail-loading')).toBeTruthy();\r\n    });\r\n  });\r\n\r\n  describe('error', () => {\r\n    it('shows error state (Web)', () => {\r\n      useUserSessionDetailScreen.mockReturnValue({\r\n        ...baseHook,\r\n        hasError: true,\r\n        errorMessage: 'Network error',\r\n      });\r\n      const { getByTestId } = renderWithTheme(<UserSessionDetailScreenWeb />);\r\n      expect(getByTestId('user-session-detail-error')).toBeTruthy();\r\n    });\r\n  });\r\n\r\n  describe('offline', () => {\r\n    it('shows offline state (Web)', () => {\r\n      useUserSessionDetailScreen.mockReturnValue({\r\n        ...baseHook,\r\n        isLoading: false,\r\n        hasError: false,\r\n        isOffline: true,\r\n      });\r\n      const { getByTestId } = renderWithTheme(<UserSessionDetailScreenWeb />);\r\n      expect(getByTestId('user-session-detail-offline')).toBeTruthy();\r\n    });\r\n  });\r\n\r\n  describe('session ready', () => {\r\n    it('renders session details (Web)', () => {\r\n      useUserSessionDetailScreen.mockReturnValue({\r\n        ...baseHook,\r\n        session: {\r\n          id: 's1',\r\n          user: { email: 'u@x.com' },\r\n          created_at: '2025-01-01T00:00:00Z',\r\n          expires_at: '2025-02-01T00:00:00Z',\r\n          revoked_at: null,\r\n        },\r\n      });\r\n      const { getByTestId } = renderWithTheme(<UserSessionDetailScreenWeb />);\r\n      expect(getByTestId('user-session-detail-title')).toBeTruthy();\r\n      expect(getByTestId('user-session-detail-id')).toBeTruthy();\r\n      expect(getByTestId('user-session-detail-revoke')).toBeTruthy();\r\n    });\r\n  });\r\n\r\n  describe('exports', () => {\r\n    it('exports component and hook from index', () => {\r\n      expect(UserSessionDetailScreenIndex.default).toBeDefined();\r\n      expect(UserSessionDetailScreenIndex.useUserSessionDetailScreen).toBeDefined();\r\n    });\r\n    it('exports STATES', () => {\r\n      expect(STATES).toBeDefined();\r\n      expect(STATES.READY).toBe('ready');\r\n    });\r\n  });\r\n});\r\n"],"mappings":"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","ignoreList":[]}