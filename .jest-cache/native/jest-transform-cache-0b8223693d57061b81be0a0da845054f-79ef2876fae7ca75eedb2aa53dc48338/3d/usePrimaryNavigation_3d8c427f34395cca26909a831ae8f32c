6a4e6bd137e3a7dee9090836b9255cae
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = require("react");
var _useI18n2 = _interopRequireDefault(require("./useI18n"));
var _useAuth2 = _interopRequireDefault(require("./useAuth"));
var normalizeRole = function normalizeRole(role) {
  if (!role) return null;
  return String(role).trim().toLowerCase();
};
var normalizeRoles = function normalizeRoles(roles) {
  if (!roles) return [];
  var list = Array.isArray(roles) ? roles : [roles];
  return list.map(normalizeRole).filter(Boolean);
};
var STAFF_ROLES = ['admin', 'hospital-admin', 'system-admin', 'super-admin', 'doctor', 'specialist', 'nurse', 'clinical-officer', 'intern', 'laboratory-technician', 'radiology-technician', 'pharmacist', 'pharmacy-assistant', 'emergency-officer', 'ambulance-driver', 'finance', 'accounts', 'hr', 'housekeeping', 'facility-manager'];
var usePrimaryNavigation = function usePrimaryNavigation() {
  var _useI18n = (0, _useI18n2.default)(),
    t = _useI18n.t;
  var _useAuth = (0, _useAuth2.default)(),
    isAuthenticated = _useAuth.isAuthenticated,
    roles = _useAuth.roles;
  var mainItems = (0, _react.useMemo)(function () {
    return [{
      id: 'home',
      label: t('navigation.items.main.home'),
      href: '/home',
      icon: 'H',
      roles: STAFF_ROLES
    }, {
      id: 'overview',
      label: t('navigation.items.main.overview'),
      href: '/',
      icon: 'O',
      roles: STAFF_ROLES
    }];
  }, [t]);
  var patientItems = (0, _react.useMemo)(function () {
    return [{
      id: 'home',
      label: t('navigation.items.patient.home'),
      href: '/',
      icon: 'H',
      roles: ['patient']
    }];
  }, [t]);
  var isItemVisible = (0, _react.useCallback)(function (item) {
    if (!item || !item.roles || item.roles.length === 0) {
      return true;
    }
    if (!isAuthenticated) {
      return false;
    }
    var normalizedItemRoles = normalizeRoles(item.roles);
    if (normalizedItemRoles.length === 0) {
      return false;
    }
    return normalizedItemRoles.some(function (role) {
      return roles.includes(role);
    });
  }, [isAuthenticated, roles]);
  return {
    mainItems: mainItems,
    patientItems: patientItems,
    isItemVisible: isItemVisible
  };
};
var _default = exports.default = usePrimaryNavigation;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX3VzZUkxOG4yIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl91c2VBdXRoMiIsIm5vcm1hbGl6ZVJvbGUiLCJyb2xlIiwiU3RyaW5nIiwidHJpbSIsInRvTG93ZXJDYXNlIiwibm9ybWFsaXplUm9sZXMiLCJyb2xlcyIsImxpc3QiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJmaWx0ZXIiLCJCb29sZWFuIiwiU1RBRkZfUk9MRVMiLCJ1c2VQcmltYXJ5TmF2aWdhdGlvbiIsIl91c2VJMThuIiwidXNlSTE4biIsInQiLCJfdXNlQXV0aCIsInVzZUF1dGgiLCJpc0F1dGhlbnRpY2F0ZWQiLCJtYWluSXRlbXMiLCJ1c2VNZW1vIiwiaWQiLCJsYWJlbCIsImhyZWYiLCJpY29uIiwicGF0aWVudEl0ZW1zIiwiaXNJdGVtVmlzaWJsZSIsInVzZUNhbGxiYWNrIiwiaXRlbSIsImxlbmd0aCIsIm5vcm1hbGl6ZWRJdGVtUm9sZXMiLCJzb21lIiwiaW5jbHVkZXMiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJkZWZhdWx0Il0sInNvdXJjZXMiOlsidXNlUHJpbWFyeU5hdmlnYXRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIHVzZVByaW1hcnlOYXZpZ2F0aW9uIEhvb2tcclxuICogQnVpbGRzIHByaW1hcnkgbmF2aWdhdGlvbiBpdGVtcyBmb3IgbWFpbiBhbmQgcGF0aWVudCBzaGVsbHMuXHJcbiAqIEZpbGU6IHVzZVByaW1hcnlOYXZpZ2F0aW9uLmpzXHJcbiAqL1xyXG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHVzZUkxOG4gZnJvbSAnQGhvb2tzL3VzZUkxOG4nO1xyXG5pbXBvcnQgdXNlQXV0aCBmcm9tICdAaG9va3MvdXNlQXV0aCc7XHJcblxyXG5jb25zdCBub3JtYWxpemVSb2xlID0gKHJvbGUpID0+IHtcclxuICBpZiAoIXJvbGUpIHJldHVybiBudWxsO1xyXG4gIHJldHVybiBTdHJpbmcocm9sZSkudHJpbSgpLnRvTG93ZXJDYXNlKCk7XHJcbn07XHJcblxyXG5jb25zdCBub3JtYWxpemVSb2xlcyA9IChyb2xlcykgPT4ge1xyXG4gIGlmICghcm9sZXMpIHJldHVybiBbXTtcclxuICBjb25zdCBsaXN0ID0gQXJyYXkuaXNBcnJheShyb2xlcykgPyByb2xlcyA6IFtyb2xlc107XHJcbiAgcmV0dXJuIGxpc3QubWFwKG5vcm1hbGl6ZVJvbGUpLmZpbHRlcihCb29sZWFuKTtcclxufTtcclxuXHJcbmNvbnN0IFNUQUZGX1JPTEVTID0gW1xyXG4gICdhZG1pbicsXHJcbiAgJ2hvc3BpdGFsLWFkbWluJyxcclxuICAnc3lzdGVtLWFkbWluJyxcclxuICAnc3VwZXItYWRtaW4nLFxyXG4gICdkb2N0b3InLFxyXG4gICdzcGVjaWFsaXN0JyxcclxuICAnbnVyc2UnLFxyXG4gICdjbGluaWNhbC1vZmZpY2VyJyxcclxuICAnaW50ZXJuJyxcclxuICAnbGFib3JhdG9yeS10ZWNobmljaWFuJyxcclxuICAncmFkaW9sb2d5LXRlY2huaWNpYW4nLFxyXG4gICdwaGFybWFjaXN0JyxcclxuICAncGhhcm1hY3ktYXNzaXN0YW50JyxcclxuICAnZW1lcmdlbmN5LW9mZmljZXInLFxyXG4gICdhbWJ1bGFuY2UtZHJpdmVyJyxcclxuICAnZmluYW5jZScsXHJcbiAgJ2FjY291bnRzJyxcclxuICAnaHInLFxyXG4gICdob3VzZWtlZXBpbmcnLFxyXG4gICdmYWNpbGl0eS1tYW5hZ2VyJyxcclxuXTtcclxuXHJcbi8qKlxyXG4gKiBQcmltYXJ5IG5hdmlnYXRpb24gaG9va1xyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBuYXZpZ2F0aW9uIGl0ZW1zIGFuZCB2aXNpYmlsaXR5IGhlbHBlcnNcclxuICovXHJcbmNvbnN0IHVzZVByaW1hcnlOYXZpZ2F0aW9uID0gKCkgPT4ge1xyXG4gIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xyXG4gIGNvbnN0IHsgaXNBdXRoZW50aWNhdGVkLCByb2xlcyB9ID0gdXNlQXV0aCgpO1xyXG5cclxuICBjb25zdCBtYWluSXRlbXMgPSB1c2VNZW1vKFxyXG4gICAgKCkgPT4gW1xyXG4gICAgICB7XHJcbiAgICAgICAgaWQ6ICdob21lJyxcclxuICAgICAgICBsYWJlbDogdCgnbmF2aWdhdGlvbi5pdGVtcy5tYWluLmhvbWUnKSxcclxuICAgICAgICBocmVmOiAnL2hvbWUnLFxyXG4gICAgICAgIGljb246ICdIJyxcclxuICAgICAgICByb2xlczogU1RBRkZfUk9MRVMsXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpZDogJ292ZXJ2aWV3JyxcclxuICAgICAgICBsYWJlbDogdCgnbmF2aWdhdGlvbi5pdGVtcy5tYWluLm92ZXJ2aWV3JyksXHJcbiAgICAgICAgaHJlZjogJy8nLFxyXG4gICAgICAgIGljb246ICdPJyxcclxuICAgICAgICByb2xlczogU1RBRkZfUk9MRVMsXHJcbiAgICAgIH0sXHJcbiAgICBdLFxyXG4gICAgW3RdXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgcGF0aWVudEl0ZW1zID0gdXNlTWVtbyhcclxuICAgICgpID0+IFtcclxuICAgICAge1xyXG4gICAgICAgIGlkOiAnaG9tZScsXHJcbiAgICAgICAgbGFiZWw6IHQoJ25hdmlnYXRpb24uaXRlbXMucGF0aWVudC5ob21lJyksXHJcbiAgICAgICAgaHJlZjogJy8nLFxyXG4gICAgICAgIGljb246ICdIJyxcclxuICAgICAgICByb2xlczogWydwYXRpZW50J10sXHJcbiAgICAgIH0sXHJcbiAgICBdLFxyXG4gICAgW3RdXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgaXNJdGVtVmlzaWJsZSA9IHVzZUNhbGxiYWNrKFxyXG4gICAgKGl0ZW0pID0+IHtcclxuICAgICAgaWYgKCFpdGVtIHx8ICFpdGVtLnJvbGVzIHx8IGl0ZW0ucm9sZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFpc0F1dGhlbnRpY2F0ZWQpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3Qgbm9ybWFsaXplZEl0ZW1Sb2xlcyA9IG5vcm1hbGl6ZVJvbGVzKGl0ZW0ucm9sZXMpO1xyXG4gICAgICBpZiAobm9ybWFsaXplZEl0ZW1Sb2xlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRJdGVtUm9sZXMuc29tZSgocm9sZSkgPT4gcm9sZXMuaW5jbHVkZXMocm9sZSkpO1xyXG4gICAgfSxcclxuICAgIFtpc0F1dGhlbnRpY2F0ZWQsIHJvbGVzXVxyXG4gICk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBtYWluSXRlbXMsXHJcbiAgICBwYXRpZW50SXRlbXMsXHJcbiAgICBpc0l0ZW1WaXNpYmxlLFxyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB1c2VQcmltYXJ5TmF2aWdhdGlvbjtcclxuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUtBLElBQUFBLE1BQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFHLFNBQUEsR0FBQUQsc0JBQUEsQ0FBQUYsT0FBQTtBQUVBLElBQU1JLGFBQWEsR0FBRyxTQUFoQkEsYUFBYUEsQ0FBSUMsSUFBSSxFQUFLO0VBQzlCLElBQUksQ0FBQ0EsSUFBSSxFQUFFLE9BQU8sSUFBSTtFQUN0QixPQUFPQyxNQUFNLENBQUNELElBQUksQ0FBQyxDQUFDRSxJQUFJLENBQUMsQ0FBQyxDQUFDQyxXQUFXLENBQUMsQ0FBQztBQUMxQyxDQUFDO0FBRUQsSUFBTUMsY0FBYyxHQUFHLFNBQWpCQSxjQUFjQSxDQUFJQyxLQUFLLEVBQUs7RUFDaEMsSUFBSSxDQUFDQSxLQUFLLEVBQUUsT0FBTyxFQUFFO0VBQ3JCLElBQU1DLElBQUksR0FBR0MsS0FBSyxDQUFDQyxPQUFPLENBQUNILEtBQUss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