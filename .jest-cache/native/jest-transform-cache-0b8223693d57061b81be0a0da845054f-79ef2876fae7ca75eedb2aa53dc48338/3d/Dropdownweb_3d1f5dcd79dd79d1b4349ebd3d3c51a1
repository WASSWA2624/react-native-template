5d96502bdb5e829dbb50b0f6c1ddf3ef
import _objectWithoutProperties from "@babel/runtime/helpers/objectWithoutProperties";
var _excluded = ["trigger", "items", "open", "onOpenChange", "accessibilityLabel", "testID", "className", "style"];
function cov_8bnf6i69y() {
  var path = "D:\\coding\\apps\\hms\\hms-frontend\\src\\platform\\components\\forms\\Dropdown\\Dropdown.web.jsx";
  var hash = "24bc7d7ff51817f5f50429e7b3bb93431ad46332";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "D:\\coding\\apps\\hms\\hms-frontend\\src\\platform\\components\\forms\\Dropdown\\Dropdown.web.jsx",
    statementMap: {
      "0": {
        start: {
          line: 43,
          column: 20
        },
        end: {
          line: 112,
          column: 1
        }
      },
      "1": {
        start: {
          line: 54,
          column: 16
        },
        end: {
          line: 54,
          column: 25
        }
      },
      "2": {
        start: {
          line: 55,
          column: 48
        },
        end: {
          line: 58,
          column: 4
        }
      },
      "3": {
        start: {
          line: 59,
          column: 22
        },
        end: {
          line: 59,
          column: 34
        }
      },
      "4": {
        start: {
          line: 60,
          column: 15
        },
        end: {
          line: 60,
          column: 75
        }
      },
      "5": {
        start: {
          line: 63,
          column: 2
        },
        end: {
          line: 76,
          column: 20
        }
      },
      "6": {
        start: {
          line: 64,
          column: 4
        },
        end: {
          line: 64,
          column: 22
        }
      },
      "7": {
        start: {
          line: 64,
          column: 15
        },
        end: {
          line: 64,
          column: 22
        }
      },
      "8": {
        start: {
          line: 66,
          column: 31
        },
        end: {
          line: 70,
          column: 5
        }
      },
      "9": {
        start: {
          line: 67,
          column: 6
        },
        end: {
          line: 69,
          column: 7
        }
      },
      "10": {
        start: {
          line: 68,
          column: 8
        },
        end: {
          line: 68,
          column: 16
        }
      },
      "11": {
        start: {
          line: 72,
          column: 4
        },
        end: {
          line: 72,
          column: 63
        }
      },
      "12": {
        start: {
          line: 73,
          column: 4
        },
        end: {
          line: 75,
          column: 6
        }
      },
      "13": {
        start: {
          line: 74,
          column: 6
        },
        end: {
          line: 74,
          column: 68
        }
      },
      "14": {
        start: {
          line: 78,
          column: 2
        },
        end: {
          line: 111,
          column: 4
        }
      },
      "15": {
        start: {
          line: 92,
          column: 12
        },
        end: {
          line: 106,
          column: 33
        }
      },
      "16": {
        start: {
          line: 95,
          column: 16
        },
        end: {
          line: 98,
          column: 17
        }
      },
      "17": {
        start: {
          line: 96,
          column: 18
        },
        end: {
          line: 96,
          column: 43
        }
      },
      "18": {
        start: {
          line: 97,
          column: 18
        },
        end: {
          line: 97,
          column: 26
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 43,
            column: 20
          },
          end: {
            line: 43,
            column: 21
          }
        },
        loc: {
          start: {
            line: 53,
            column: 6
          },
          end: {
            line: 112,
            column: 1
          }
        },
        line: 53
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 63,
            column: 12
          },
          end: {
            line: 63,
            column: 13
          }
        },
        loc: {
          start: {
            line: 63,
            column: 18
          },
          end: {
            line: 76,
            column: 3
          }
        },
        line: 63
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 66,
            column: 31
          },
          end: {
            line: 66,
            column: 32
          }
        },
        loc: {
          start: {
            line: 66,
            column: 42
          },
          end: {
            line: 70,
            column: 5
          }
        },
        line: 66
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 73,
            column: 11
          },
          end: {
            line: 73,
            column: 12
          }
        },
        loc: {
          start: {
            line: 73,
            column: 17
          },
          end: {
            line: 75,
            column: 5
          }
        },
        line: 73
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 91,
            column: 21
          },
          end: {
            line: 91,
            column: 22
          }
        },
        loc: {
          start: {
            line: 92,
            column: 12
          },
          end: {
            line: 106,
            column: 33
          }
        },
        line: 92
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 94,
            column: 23
          },
          end: {
            line: 94,
            column: 24
          }
        },
        loc: {
          start: {
            line: 94,
            column: 29
          },
          end: {
            line: 99,
            column: 15
          }
        },
        line: 94
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 45,
            column: 2
          },
          end: {
            line: 45,
            column: 12
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 45,
            column: 10
          },
          end: {
            line: 45,
            column: 12
          }
        }],
        line: 45
      },
      "1": {
        loc: {
          start: {
            line: 60,
            column: 15
          },
          end: {
            line: 60,
            column: 75
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 60,
            column: 46
          },
          end: {
            line: 60,
            column: 60
          }
        }, {
          start: {
            line: 60,
            column: 63
          },
          end: {
            line: 60,
            column: 75
          }
        }],
        line: 60
      },
      "2": {
        loc: {
          start: {
            line: 64,
            column: 4
          },
          end: {
            line: 64,
            column: 22
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 64,
            column: 4
          },
          end: {
            line: 64,
            column: 22
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 64
      },
      "3": {
        loc: {
          start: {
            line: 67,
            column: 6
          },
          end: {
            line: 69,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 67,
            column: 6
          },
          end: {
            line: 69,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 67
      },
      "4": {
        loc: {
          start: {
            line: 67,
            column: 10
          },
          end: {
            line: 67,
            column: 76
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 67,
            column: 10
          },
          end: {
            line: 67,
            column: 29
          }
        }, {
          start: {
            line: 67,
            column: 33
          },
          end: {
            line: 67,
            column: 76
          }
        }],
        line: 67
      },
      "5": {
        loc: {
          start: {
            line: 84,
            column: 28
          },
          end: {
            line: 84,
            column: 74
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 84,
            column: 28
          },
          end: {
            line: 84,
            column: 46
          }
        }, {
          start: {
            line: 84,
            column: 50
          },
          end: {
            line: 84,
            column: 74
          }
        }],
        line: 84
      },
      "6": {
        loc: {
          start: {
            line: 85,
            column: 16
          },
          end: {
            line: 85,
            column: 56
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 85,
            column: 25
          },
          end: {
            line: 85,
            column: 44
          }
        }, {
          start: {
            line: 85,
            column: 47
          },
          end: {
            line: 85,
            column: 56
          }
        }],
        line: 85
      },
      "7": {
        loc: {
          start: {
            line: 89,
            column: 7
          },
          end: {
            line: 109,
            column: 7
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 89,
            column: 7
          },
          end: {
            line: 89,
            column: 11
          }
        }, {
          start: {
            line: 90,
            column: 8
          },
          end: {
            line: 108,
            column: 29
          }
        }],
        line: 89
      },
      "8": {
        loc: {
          start: {
            line: 90,
            column: 36
          },
          end: {
            line: 90,
            column: 73
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 90,
            column: 45
          },
          end: {
            line: 90,
            column: 61
          }
        }, {
          start: {
            line: 90,
            column: 64
          },
          end: {
            line: 90,
            column: 73
          }
        }],
        line: 90
      },
      "9": {
        loc: {
          start: {
            line: 93,
            column: 19
          },
          end: {
            line: 93,
            column: 38
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 93,
            column: 19
          },
          end: {
            line: 93,
            column: 29
          }
        }, {
          start: {
            line: 93,
            column: 33
          },
          end: {
            line: 93,
            column: 38
          }
        }],
        line: 93
      },
      "10": {
        loc: {
          start: {
            line: 95,
            column: 16
          },
          end: {
            line: 98,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 95,
            column: 16
          },
          end: {
            line: 98,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 95
      },
      "11": {
        loc: {
          start: {
            line: 95,
            column: 20
          },
          end: {
            line: 95,
            column: 50
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 95,
            column: 20
          },
          end: {
            line: 95,
            column: 34
          }
        }, {
          start: {
            line: 95,
            column: 38
          },
          end: {
            line: 95,
            column: 50
          }
        }],
        line: 95
      },
      "12": {
        loc: {
          start: {
            line: 103,
            column: 22
          },
          end: {
            line: 103,
            column: 68
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 103,
            column: 31
          },
          end: {
            line: 103,
            column: 56
          }
        }, {
          start: {
            line: 103,
            column: 59
          },
          end: {
            line: 103,
            column: 68
          }
        }],
        line: 103
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0
    },
    b: {
      "0": [0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "24bc7d7ff51817f5f50429e7b3bb93431ad46332"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    cov_8bnf6i69y = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_8bnf6i69y();
import React, { useEffect, useRef } from 'react';
import { useI18n } from "../../../../hooks";
import { StyledDropdown, StyledDropdownTrigger, StyledDropdownMenu, StyledDropdownItem } from "./Dropdown.web.styles";
import useDropdown from "./useDropdown";
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
cov_8bnf6i69y().s[0]++;
var DropdownWeb = function DropdownWeb(_ref) {
  var trigger = _ref.trigger,
    _ref$items = _ref.items,
    items = _ref$items === void 0 ? (cov_8bnf6i69y().b[0][0]++, []) : _ref$items,
    controlledOpen = _ref.open,
    onOpenChange = _ref.onOpenChange,
    accessibilityLabel = _ref.accessibilityLabel,
    testID = _ref.testID,
    className = _ref.className,
    style = _ref.style,
    rest = _objectWithoutProperties(_ref, _excluded);
  cov_8bnf6i69y().f[0]++;
  var _ref2 = (cov_8bnf6i69y().s[1]++, useI18n()),
    t = _ref2.t;
  var _ref3 = (cov_8bnf6i69y().s[2]++, useDropdown({
      defaultOpen: false,
      onOpenChange: onOpenChange
    })),
    internalOpen = _ref3.open,
    toggle = _ref3.toggle,
    close = _ref3.close;
  var dropdownRef = (cov_8bnf6i69y().s[3]++, useRef(null));
  var open = (cov_8bnf6i69y().s[4]++, controlledOpen !== undefined ? (cov_8bnf6i69y().b[1][0]++, controlledOpen) : (cov_8bnf6i69y().b[1][1]++, internalOpen));
  cov_8bnf6i69y().s[5]++;
  useEffect(function () {
    cov_8bnf6i69y().f[1]++;
    cov_8bnf6i69y().s[6]++;
    if (!open) {
      cov_8bnf6i69y().b[2][0]++;
      cov_8bnf6i69y().s[7]++;
      return;
    } else {
      cov_8bnf6i69y().b[2][1]++;
    }
    cov_8bnf6i69y().s[8]++;
    var handleClickOutside = function handleClickOutside(event) {
      cov_8bnf6i69y().f[2]++;
      cov_8bnf6i69y().s[9]++;
      if ((cov_8bnf6i69y().b[4][0]++, dropdownRef.current) && (cov_8bnf6i69y().b[4][1]++, !dropdownRef.current.contains(event.target))) {
        cov_8bnf6i69y().b[3][0]++;
        cov_8bnf6i69y().s[10]++;
        close();
      } else {
        cov_8bnf6i69y().b[3][1]++;
      }
    };
    cov_8bnf6i69y().s[11]++;
    document.addEventListener('mousedown', handleClickOutside);
    cov_8bnf6i69y().s[12]++;
    return function () {
      cov_8bnf6i69y().f[3]++;
      cov_8bnf6i69y().s[13]++;
      document.removeEventListener('mousedown', handleClickOutside);
    };
  }, [open, close]);
  cov_8bnf6i69y().s[14]++;
  return _jsxs(StyledDropdown, Object.assign({
    ref: dropdownRef,
    testID: testID,
    className: className,
    style: style
  }, rest, {
    children: [_jsx(StyledDropdownTrigger, {
      onPress: toggle,
      accessibilityRole: "button",
      accessibilityExpanded: open,
      accessibilityLabel: (cov_8bnf6i69y().b[5][0]++, accessibilityLabel) || (cov_8bnf6i69y().b[5][1]++, t('common.dropdownMenu')),
      testID: testID ? (cov_8bnf6i69y().b[6][0]++, `${testID}-trigger`) : (cov_8bnf6i69y().b[6][1]++, undefined),
      children: trigger
    }), (cov_8bnf6i69y().b[7][0]++, open) && (cov_8bnf6i69y().b[7][1]++, _jsx(StyledDropdownMenu, {
      testID: testID ? (cov_8bnf6i69y().b[8][0]++, `${testID}-menu`) : (cov_8bnf6i69y().b[8][1]++, undefined),
      children: items.map(function (item, index) {
        cov_8bnf6i69y().f[4]++;
        cov_8bnf6i69y().s[15]++;
        return _jsx(StyledDropdownItem, {
          onPress: function onPress() {
            cov_8bnf6i69y().f[5]++;
            cov_8bnf6i69y().s[16]++;
            if ((cov_8bnf6i69y().b[11][0]++, !item.disabled) && (cov_8bnf6i69y().b[11][1]++, item.onPress)) {
              cov_8bnf6i69y().b[10][0]++;
              cov_8bnf6i69y().s[17]++;
              item.onPress(item.value);
              cov_8bnf6i69y().s[18]++;
              close();
            } else {
              cov_8bnf6i69y().b[10][1]++;
            }
          },
          disabled: item.disabled,
          accessibilityRole: "menuitem",
          accessibilityLabel: item.label,
          testID: testID ? (cov_8bnf6i69y().b[12][0]++, `${testID}-item-${index}`) : (cov_8bnf6i69y().b[12][1]++, undefined),
          children: item.label
        }, (cov_8bnf6i69y().b[9][0]++, item.value) || (cov_8bnf6i69y().b[9][1]++, index));
      })
    }))]
  }));
};
export default DropdownWeb;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWFjdCIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZUkxOG4iLCJTdHlsZWREcm9wZG93biIsIlN0eWxlZERyb3Bkb3duVHJpZ2dlciIsIlN0eWxlZERyb3Bkb3duTWVudSIsIlN0eWxlZERyb3Bkb3duSXRlbSIsInVzZURyb3Bkb3duIiwianN4IiwiX2pzeCIsImpzeHMiLCJfanN4cyIsImNvdl84Ym5mNmk2OXkiLCJzIiwiRHJvcGRvd25XZWIiLCJfcmVmIiwidHJpZ2dlciIsIl9yZWYkaXRlbXMiLCJpdGVtcyIsImIiLCJjb250cm9sbGVkT3BlbiIsIm9wZW4iLCJvbk9wZW5DaGFuZ2UiLCJhY2Nlc3NpYmlsaXR5TGFiZWwiLCJ0ZXN0SUQiLCJjbGFzc05hbWUiLCJzdHlsZSIsInJlc3QiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJfZXhjbHVkZWQiLCJmIiwiX3JlZjIiLCJ0IiwiX3JlZjMiLCJkZWZhdWx0T3BlbiIsImludGVybmFsT3BlbiIsInRvZ2dsZSIsImNsb3NlIiwiZHJvcGRvd25SZWYiLCJ1bmRlZmluZWQiLCJoYW5kbGVDbGlja091dHNpZGUiLCJldmVudCIsImN1cnJlbnQiLCJjb250YWlucyIsInRhcmdldCIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJPYmplY3QiLCJhc3NpZ24iLCJyZWYiLCJjaGlsZHJlbiIsIm9uUHJlc3MiLCJhY2Nlc3NpYmlsaXR5Um9sZSIsImFjY2Vzc2liaWxpdHlFeHBhbmRlZCIsIm1hcCIsIml0ZW0iLCJpbmRleCIsImRpc2FibGVkIiwidmFsdWUiLCJsYWJlbCJdLCJzb3VyY2VzIjpbIkRyb3Bkb3duLndlYi5qc3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIERyb3Bkb3duIENvbXBvbmVudCAtIFdlYlxyXG4gKiBTZWxlY3QgbWVudSwgYWN0aW9uIG1lbnVcclxuICogRmlsZTogRHJvcGRvd24ud2ViLmpzeFxyXG4gKi9cclxuLy8gMS4gRXh0ZXJuYWwgZGVwZW5kZW5jaWVzXHJcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcclxuXHJcbi8vIDIuIFBsYXRmb3JtIGNvbXBvbmVudHMgKGZyb20gYmFycmVsIGZpbGUpIC0gTi9BIGZvciBEcm9wZG93blxyXG5cclxuLy8gMy4gSG9va3MgYW5kIHV0aWxpdGllcyAoYWJzb2x1dGUgaW1wb3J0cyB2aWEgYWxpYXNlcylcclxuaW1wb3J0IHsgdXNlSTE4biB9IGZyb20gJ0Bob29rcyc7XHJcblxyXG4vLyA0LiBTdHlsZXMgKHJlbGF0aXZlIGltcG9ydCAtIHBsYXRmb3JtLXNwZWNpZmljKVxyXG5pbXBvcnQgeyBTdHlsZWREcm9wZG93biwgU3R5bGVkRHJvcGRvd25UcmlnZ2VyLCBTdHlsZWREcm9wZG93bk1lbnUsIFN0eWxlZERyb3Bkb3duSXRlbSB9IGZyb20gJy4vRHJvcGRvd24ud2ViLnN0eWxlcyc7XHJcblxyXG4vLyA1LiBDb21wb25lbnQtc3BlY2lmaWMgaG9vayAocmVsYXRpdmUgaW1wb3J0KVxyXG5pbXBvcnQgdXNlRHJvcGRvd24gZnJvbSAnLi91c2VEcm9wZG93bic7XHJcblxyXG4vLyA2LiBUeXBlcyBhbmQgY29uc3RhbnRzIChyZWxhdGl2ZSBpbXBvcnQpIC0gTi9BIGZvciBEcm9wZG93blxyXG5cclxuLyoqXHJcbiAqIERyb3Bkb3duIGl0ZW0gc3RydWN0dXJlXHJcbiAqIEB0eXBlZGVmIHtPYmplY3R9IERyb3Bkb3duSXRlbVxyXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbGFiZWwgLSBJdGVtIGxhYmVsXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB2YWx1ZSAtIEl0ZW0gdmFsdWVcclxuICogQHByb3BlcnR5IHtGdW5jdGlvbn0gb25QcmVzcyAtIFByZXNzIGhhbmRsZXJcclxuICogQHByb3BlcnR5IHtib29sZWFufSBkaXNhYmxlZCAtIERpc2FibGVkIHN0YXRlXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIERyb3Bkb3duIGNvbXBvbmVudCBmb3IgV2ViXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyAtIERyb3Bkb3duIHByb3BzXHJcbiAqIEBwYXJhbSB7c3RyaW5nfFJlYWN0LlJlYWN0Tm9kZX0gcHJvcHMudHJpZ2dlciAtIFRyaWdnZXIgZWxlbWVudC9jb250ZW50XHJcbiAqIEBwYXJhbSB7QXJyYXk8RHJvcGRvd25JdGVtPn0gcHJvcHMuaXRlbXMgLSBEcm9wZG93biBpdGVtc1xyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHByb3BzLm9wZW4gLSBDb250cm9sbGVkIG9wZW4gc3RhdGVcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMub25PcGVuQ2hhbmdlIC0gT3BlbiBzdGF0ZSBjaGFuZ2UgaGFuZGxlclxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcHMuYWNjZXNzaWJpbGl0eUxhYmVsIC0gQWNjZXNzaWJpbGl0eSBsYWJlbFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcHMudGVzdElEIC0gVGVzdCBpZGVudGlmaWVyXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wcy5jbGFzc05hbWUgLSBBZGRpdGlvbmFsIENTUyBjbGFzc1xyXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMuc3R5bGUgLSBBZGRpdGlvbmFsIHN0eWxlc1xyXG4gKi9cclxuY29uc3QgRHJvcGRvd25XZWIgPSAoe1xyXG4gIHRyaWdnZXIsXHJcbiAgaXRlbXMgPSBbXSxcclxuICBvcGVuOiBjb250cm9sbGVkT3BlbixcclxuICBvbk9wZW5DaGFuZ2UsXHJcbiAgYWNjZXNzaWJpbGl0eUxhYmVsLFxyXG4gIHRlc3RJRCxcclxuICBjbGFzc05hbWUsXHJcbiAgc3R5bGUsXHJcbiAgLi4ucmVzdFxyXG59KSA9PiB7XHJcbiAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XHJcbiAgY29uc3QgeyBvcGVuOiBpbnRlcm5hbE9wZW4sIHRvZ2dsZSwgY2xvc2UgfSA9IHVzZURyb3Bkb3duKHtcclxuICAgIGRlZmF1bHRPcGVuOiBmYWxzZSxcclxuICAgIG9uT3BlbkNoYW5nZSxcclxuICB9KTtcclxuICBjb25zdCBkcm9wZG93blJlZiA9IHVzZVJlZihudWxsKTtcclxuICBjb25zdCBvcGVuID0gY29udHJvbGxlZE9wZW4gIT09IHVuZGVmaW5lZCA/IGNvbnRyb2xsZWRPcGVuIDogaW50ZXJuYWxPcGVuO1xyXG5cclxuICAvLyBDbG9zZSBvbiBvdXRzaWRlIGNsaWNrXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghb3BlbikgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGhhbmRsZUNsaWNrT3V0c2lkZSA9IChldmVudCkgPT4ge1xyXG4gICAgICBpZiAoZHJvcGRvd25SZWYuY3VycmVudCAmJiAhZHJvcGRvd25SZWYuY3VycmVudC5jb250YWlucyhldmVudC50YXJnZXQpKSB7XHJcbiAgICAgICAgY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGlja091dHNpZGUpO1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcclxuICAgIH07XHJcbiAgfSwgW29wZW4sIGNsb3NlXSk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8U3R5bGVkRHJvcGRvd24gcmVmPXtkcm9wZG93blJlZn0gdGVzdElEPXt0ZXN0SUR9IGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBzdHlsZT17c3R5bGV9IHsuLi5yZXN0fT5cclxuICAgICAgPFN0eWxlZERyb3Bkb3duVHJpZ2dlclxyXG4gICAgICAgIG9uUHJlc3M9e3RvZ2dsZX1cclxuICAgICAgICBhY2Nlc3NpYmlsaXR5Um9sZT1cImJ1dHRvblwiXHJcbiAgICAgICAgYWNjZXNzaWJpbGl0eUV4cGFuZGVkPXtvcGVufVxyXG4gICAgICAgIGFjY2Vzc2liaWxpdHlMYWJlbD17YWNjZXNzaWJpbGl0eUxhYmVsIHx8IHQoJ2NvbW1vbi5kcm9wZG93bk1lbnUnKX1cclxuICAgICAgICB0ZXN0SUQ9e3Rlc3RJRCA/IGAke3Rlc3RJRH0tdHJpZ2dlcmAgOiB1bmRlZmluZWR9XHJcbiAgICAgID5cclxuICAgICAgICB7dHJpZ2dlcn1cclxuICAgICAgPC9TdHlsZWREcm9wZG93blRyaWdnZXI+XHJcbiAgICAgIHtvcGVuICYmIChcclxuICAgICAgICA8U3R5bGVkRHJvcGRvd25NZW51IHRlc3RJRD17dGVzdElEID8gYCR7dGVzdElEfS1tZW51YCA6IHVuZGVmaW5lZH0+XHJcbiAgICAgICAgICB7aXRlbXMubWFwKChpdGVtLCBpbmRleCkgPT4gKFxyXG4gICAgICAgICAgICA8U3R5bGVkRHJvcGRvd25JdGVtXHJcbiAgICAgICAgICAgICAga2V5PXtpdGVtLnZhbHVlIHx8IGluZGV4fVxyXG4gICAgICAgICAgICAgIG9uUHJlc3M9eygpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghaXRlbS5kaXNhYmxlZCAmJiBpdGVtLm9uUHJlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgaXRlbS5vblByZXNzKGl0ZW0udmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICBjbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2l0ZW0uZGlzYWJsZWR9XHJcbiAgICAgICAgICAgICAgYWNjZXNzaWJpbGl0eVJvbGU9XCJtZW51aXRlbVwiXHJcbiAgICAgICAgICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsPXtpdGVtLmxhYmVsfVxyXG4gICAgICAgICAgICAgIHRlc3RJRD17dGVzdElEID8gYCR7dGVzdElEfS1pdGVtLSR7aW5kZXh9YCA6IHVuZGVmaW5lZH1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHtpdGVtLmxhYmVsfVxyXG4gICAgICAgICAgICA8L1N0eWxlZERyb3Bkb3duSXRlbT5cclxuICAgICAgICAgICkpfVxyXG4gICAgICAgIDwvU3R5bGVkRHJvcGRvd25NZW51PlxyXG4gICAgICApfVxyXG4gICAgPC9TdHlsZWREcm9wZG93bj5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRHJvcGRvd25XZWI7XHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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QVQsYUFBQSxHQUFBTyxDQUFBLFVBQ0hWLElBQUEsQ0FBQ0osa0JBQWtCO01BQUNtQixNQUFNLEVBQUVBLE1BQU0sSUFBQVosYUFBQSxHQUFBTyxDQUFBLFVBQUcsR0FBR0ssTUFBTSxPQUFPLEtBQUFaLGFBQUEsR0FBQU8sQ0FBQSxVQUFHb0IsU0FBUyxDQUFDO01BQUFZLFFBQUEsRUFDL0RqQyxLQUFLLENBQUNxQyxHQUFHLENBQUMsVUFBQ0MsSUFBSSxFQUFFQyxLQUFLLEVBQ3JCO1FBQUE3QyxhQUFBLEdBQUFrQixDQUFBO1FBQUFsQixhQUFBLEdBQUFDLENBQUE7UUFBQSxPQUFBSixJQUFBLENBQUNILGtCQUFrQjtVQUVqQjhDLE9BQU8sRUFBRSxTQUFUQSxPQUFPQSxDQUFBLEVBQVE7WUFBQXhDLGFBQUEsR0FBQWtCLENBQUE7WUFBQWxCLGFBQUEsR0FBQUMsQ0FBQTtZQUNiLElBQUksQ0FBQUQsYUFBQSxHQUFBTyxDQUFBLFlBQUNxQyxJQUFJLENBQUNFLFFBQVEsTUFBQTlDLGFBQUEsR0FBQU8sQ0FBQSxXQUFJcUMsSUFBSSxDQUFDSixPQUFPLEdBQUU7Y0FBQXhDLGFBQUEsR0FBQU8sQ0FBQTtjQUFBUCxhQUFBLEdBQUFDLENBQUE7Y0FDbEMyQyxJQUFJLENBQUNKLE9BQU8sQ0FBQ0ksSUFBSSxDQUFDRyxLQUFLLENBQUM7Y0FBQy9DLGFBQUEsR0FBQUMsQ0FBQTtjQUN6QndCLEtBQUssQ0FBQyxDQUFDO1lBQ1QsQ0FBQztjQUFBekIsYUFBQSxHQUFBTyxDQUFBO1lBQUE7VUFDSCxDQUFFO1VBQ0Z1QyxRQUFRLEVBQUVGLElBQUksQ0FBQ0UsUUFBUztVQUN4QkwsaUJBQWlCLEVBQUMsVUFBVTtVQUM1QjlCLGtCQUFrQixFQUFFaUMsSUFBSSxDQUFDSSxLQUFNO1VBQy9CcEMsTUFBTSxFQUFFQSxNQUFNLElBQUFaLGFBQUEsR0FBQU8sQ0FBQSxXQUFHLEdBQUdLLE1BQU0sU0FBU2lDLEtBQUssRUFBRSxLQUFBN0MsYUFBQSxHQUFBTyxDQUFBLFdBQUdvQixTQUFTLENBQUM7VUFBQVksUUFBQSxFQUV0REssSUFBSSxDQUFDSTtRQUFLLEdBWk4sQ0FBQWhELGFBQUEsR0FBQU8sQ0FBQSxVQUFBcUMsSUFBSSxDQUFDRyxLQUFLLE1BQUEvQyxhQUFBLEdBQUFPLENBQUEsVUFBSXNDLEtBQUssQ0FhTixDQUFDO01BQUQsQ0FDckI7SUFBQyxDQUNnQixDQUFDLENBQ3RCO0VBQUEsRUFDYSxDQUFDO0FBRXJCLENBQUM7QUFFRCxlQUFlM0MsV0FBVyIsImlnbm9yZUxpc3QiOltdfQ==