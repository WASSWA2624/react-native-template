26c5d9ff7abf3c1c89e67a924cd50e3e
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.sidebarMenu = exports.default = void 0;
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = require("react");
var _expoRouter = require("expo-router");
var _sideMenu = require("../../../../config/sideMenu");
var useSidebar = function useSidebar() {
  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
    _ref$items = _ref.items,
    items = _ref$items === void 0 ? [] : _ref$items,
    pathname = _ref.pathname,
    onItemPress = _ref.onItemPress,
    isItemVisible = _ref.isItemVisible;
  var _useState = (0, _react.useState)({}),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    expandedSections = _useState2[0],
    setExpandedSections = _useState2[1];
  var currentPathname = (0, _expoRouter.usePathname)();
  var activePathname = pathname || currentPathname;
  var isItemActive = function isItemActive(item) {
    if (!item.href) return false;
    return activePathname === item.href || activePathname.startsWith(item.href + '/');
  };
  var defaultIsItemVisible = function defaultIsItemVisible(item) {
    if (isItemVisible) {
      return isItemVisible(item);
    }
    return true;
  };
  var toggleSection = function toggleSection(sectionId) {
    setExpandedSections(function (prev) {
      return Object.assign({}, prev, (0, _defineProperty2.default)({}, sectionId, !prev[sectionId]));
    });
  };
  var handleItemPress = function handleItemPress(item) {
    if (onItemPress) {
      onItemPress(item);
    } else if (item.onPress) {
      item.onPress(item);
    }
  };
  var filteredItems = (0, _react.useMemo)(function () {
    return items.filter(defaultIsItemVisible);
  }, [items, isItemVisible]);
  return {
    pathname: activePathname,
    expandedSections: expandedSections,
    filteredItems: filteredItems,
    isItemActive: isItemActive,
    toggleSection: toggleSection,
    handleItemPress: handleItemPress
  };
};
var _default = exports.default = useSidebar;
var sidebarMenu = exports.sidebarMenu = _sideMenu.SIDE_MENU_ITEMS.map(function (it) {
  return {
    id: it.id,
    icon: it.icon,
    href: it.path || it.href
  };
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX2V4cG9Sb3V0ZXIiLCJfc2lkZU1lbnUiLCJ1c2VTaWRlYmFyIiwiX3JlZiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsIl9yZWYkaXRlbXMiLCJpdGVtcyIsInBhdGhuYW1lIiwib25JdGVtUHJlc3MiLCJpc0l0ZW1WaXNpYmxlIiwiX3VzZVN0YXRlIiwidXNlU3RhdGUiLCJfdXNlU3RhdGUyIiwiX3NsaWNlZFRvQXJyYXkyIiwiZGVmYXVsdCIsImV4cGFuZGVkU2VjdGlvbnMiLCJzZXRFeHBhbmRlZFNlY3Rpb25zIiwiY3VycmVudFBhdGhuYW1lIiwidXNlUGF0aG5hbWUiLCJhY3RpdmVQYXRobmFtZSIsImlzSXRlbUFjdGl2ZSIsIml0ZW0iLCJocmVmIiwic3RhcnRzV2l0aCIsImRlZmF1bHRJc0l0ZW1WaXNpYmxlIiwidG9nZ2xlU2VjdGlvbiIsInNlY3Rpb25JZCIsInByZXYiLCJPYmplY3QiLCJhc3NpZ24iLCJfZGVmaW5lUHJvcGVydHkyIiwiaGFuZGxlSXRlbVByZXNzIiwib25QcmVzcyIsImZpbHRlcmVkSXRlbXMiLCJ1c2VNZW1vIiwiZmlsdGVyIiwiX2RlZmF1bHQiLCJleHBvcnRzIiwic2lkZWJhck1lbnUiLCJTSURFX01FTlVfSVRFTVMiLCJtYXAiLCJpdCIsImlkIiwiaWNvbiIsInBhdGgiXSwic291cmNlcyI6WyJ1c2VTaWRlYmFyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiB1c2VTaWRlYmFyIEhvb2tcclxuICogU2hhcmVkIGxvZ2ljIGZvciBTaWRlYmFyIGNvbXBvbmVudFxyXG4gKiBGaWxlOiB1c2VTaWRlYmFyLmpzXHJcbiAqL1xyXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgdXNlUGF0aG5hbWUgfSBmcm9tICdleHBvLXJvdXRlcic7XHJcbmltcG9ydCB7IFNJREVfTUVOVV9JVEVNUyB9IGZyb20gJ0Bjb25maWcvc2lkZU1lbnUnO1xyXG5cclxuLyoqXHJcbiAqIFNpZGViYXIgaG9va1xyXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIEhvb2sgb3B0aW9uc1xyXG4gKiBAcGFyYW0ge0FycmF5fSBvcHRpb25zLml0ZW1zIC0gTmF2aWdhdGlvbiBpdGVtc1xyXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5wYXRobmFtZSAtIEN1cnJlbnQgcGF0aG5hbWVcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gb3B0aW9ucy5vbkl0ZW1QcmVzcyAtIEl0ZW0gcHJlc3MgaGFuZGxlclxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLmlzSXRlbVZpc2libGUgLSBGdW5jdGlvbiB0byBjaGVjayBpdGVtIHZpc2liaWxpdHkgKG9wdGlvbmFsKVxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBTaWRlYmFyIHN0YXRlIGFuZCBoYW5kbGVyc1xyXG4gKi9cclxuY29uc3QgdXNlU2lkZWJhciA9ICh7XHJcbiAgaXRlbXMgPSBbXSxcclxuICBwYXRobmFtZSxcclxuICBvbkl0ZW1QcmVzcyxcclxuICBpc0l0ZW1WaXNpYmxlLFxyXG59ID0ge30pID0+IHtcclxuICBjb25zdCBbZXhwYW5kZWRTZWN0aW9ucywgc2V0RXhwYW5kZWRTZWN0aW9uc10gPSB1c2VTdGF0ZSh7fSk7XHJcbiAgY29uc3QgY3VycmVudFBhdGhuYW1lID0gdXNlUGF0aG5hbWUoKTtcclxuICBjb25zdCBhY3RpdmVQYXRobmFtZSA9IHBhdGhuYW1lIHx8IGN1cnJlbnRQYXRobmFtZTtcclxuXHJcbiAgY29uc3QgaXNJdGVtQWN0aXZlID0gKGl0ZW0pID0+IHtcclxuICAgIGlmICghaXRlbS5ocmVmKSByZXR1cm4gZmFsc2U7XHJcbiAgICByZXR1cm4gYWN0aXZlUGF0aG5hbWUgPT09IGl0ZW0uaHJlZiB8fCBhY3RpdmVQYXRobmFtZS5zdGFydHNXaXRoKGl0ZW0uaHJlZiArICcvJyk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZGVmYXVsdElzSXRlbVZpc2libGUgPSAoaXRlbSkgPT4ge1xyXG4gICAgLy8gSWYgY3VzdG9tIHZpc2liaWxpdHkgZnVuY3Rpb24gcHJvdmlkZWQsIHVzZSBpdFxyXG4gICAgaWYgKGlzSXRlbVZpc2libGUpIHtcclxuICAgICAgcmV0dXJuIGlzSXRlbVZpc2libGUoaXRlbSk7XHJcbiAgICB9XHJcbiAgICAvLyBEZWZhdWx0OiBhbGwgaXRlbXMgdmlzaWJsZVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgdG9nZ2xlU2VjdGlvbiA9IChzZWN0aW9uSWQpID0+IHtcclxuICAgIHNldEV4cGFuZGVkU2VjdGlvbnMoKHByZXYpID0+ICh7XHJcbiAgICAgIC4uLnByZXYsXHJcbiAgICAgIFtzZWN0aW9uSWRdOiAhcHJldltzZWN0aW9uSWRdLFxyXG4gICAgfSkpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUl0ZW1QcmVzcyA9IChpdGVtKSA9PiB7XHJcbiAgICBpZiAob25JdGVtUHJlc3MpIHtcclxuICAgICAgb25JdGVtUHJlc3MoaXRlbSk7XHJcbiAgICB9IGVsc2UgaWYgKGl0ZW0ub25QcmVzcykge1xyXG4gICAgICBpdGVtLm9uUHJlc3MoaXRlbSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZmlsdGVyZWRJdGVtcyA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgcmV0dXJuIGl0ZW1zLmZpbHRlcihkZWZhdWx0SXNJdGVtVmlzaWJsZSk7XHJcbiAgfSwgW2l0ZW1zLCBpc0l0ZW1WaXNpYmxlXSk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBwYXRobmFtZTogYWN0aXZlUGF0aG5hbWUsXHJcbiAgICBleHBhbmRlZFNlY3Rpb25zLFxyXG4gICAgZmlsdGVyZWRJdGVtcyxcclxuICAgIGlzSXRlbUFjdGl2ZSxcclxuICAgIHRvZ2dsZVNlY3Rpb24sXHJcbiAgICBoYW5kbGVJdGVtUHJlc3MsXHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHVzZVNpZGViYXI7XHJcblxyXG4vKiogU2lkZWJhciBpdGVtcyBmb3IgbmF0aXZlIChsYWJlbHMgcmVzb2x2ZWQgdmlhIHQoJ25hdmlnYXRpb24uaXRlbXMubWFpbi48aWQ+JykgaW4gY29tcG9uZW50KS4gKi9cclxuZXhwb3J0IGNvbnN0IHNpZGViYXJNZW51ID0gU0lERV9NRU5VX0lURU1TLm1hcCgoaXQpID0+ICh7XHJcbiAgaWQ6IGl0LmlkLFxyXG4gIGljb246IGl0Lmljb24sXHJcbiAgaHJlZjogaXQucGF0aCB8fCBpdC5ocmVmLFxyXG59KSk7XHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFLQSxJQUFBQSxNQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxXQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxTQUFBLEdBQUFGLE9BQUE7QUFXQSxJQUFNRyxVQUFVLEdBQUcsU0FBYkEsVUFBVUEsQ0FBQSxFQUtMO0VBQUEsSUFBQUMsSUFBQSxHQUFBQyxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBUCxDQUFDLENBQUM7SUFBQUcsVUFBQSxHQUFBSixJQUFBLENBSkpLLEtBQUs7SUFBTEEsS0FBSyxHQUFBRCxVQUFBLGNBQUcsRUFBRSxHQUFBQSxVQUFBO0lBQ1ZFLFFBQVEsR0FBQU4sSUFBQSxDQUFSTSxRQUFRO0lBQ1JDLFdBQVcsR0FBQVAsSUFBQSxDQUFYTyxXQUFXO0lBQ1hDLGFBQWEsR0FBQVIsSUFBQSxDQUFiUSxhQUFhO0VBRWIsSUFBQUMsU0FBQSxHQUFnRCxJQUFBQyxlQUFRLEVBQUMsQ0FBQyxDQUFDLENBQUM7SUFBQUMsVUFBQSxPQUFBQyxlQUFBLENBQUFDLE9BQUEsRUFBQUosU0FBQTtJQUFyREssZ0JBQWdCLEdBQUFILFVBQUE7SUFBRUksbUJBQW1CLEdBQUFKLFVBQUE7RUFDNUMsSUFBTUssZUFBZSxHQUFHLElBQUFDLHVCQUFXLEVBQUMsQ0FBQztFQUNyQyxJQUFNQyxjQUFjLEdBQUdaLFFBQVEsSUFBSVUsZUFBZTtFQUVsRCxJQUFNRyxZQUFZLEdBQUcsU0FBZkEsWUFBWUEsQ0FBSUMsSUFBSSxFQUFLO0lBQzdCLElBQUksQ0FBQ0EsSUFBSSxDQUFDQyxJQUFJLEVBQUUsT0FBTyxLQUFLO0lBQzVCLE9BQU9ILGNBQWMsS0FBS0UsSUFBSSxDQUFDQyxJQUFJLElBQUlILGNBQWMsQ0FBQ0ksVUFBVSxDQUFDRixJQUFJLENBQUNDLElBQUksR0FBRyxHQUFHLENBQUM7RUFDbkYsQ0FBQztFQUVELElBQU1FLG9CQUFvQixHQUFHLFNBQXZCQSxvQkFBb0JBLENBQUlILElBQUksRUFBSztJQUVyQyxJQUFJWixhQUFhLEVBQUU7TUFDakIsT0FBT0EsYUFBYSxDQUFDWSxJQUFJLENBQUM7SUFDNUI7SUFFQSxPQUFPLElBQUk7RUFDYixDQUFDO0VBRUQsSUFBTUksYUFBYSxHQUFHLFNBQWhCQSxhQUFhQSxDQUFJQyxTQUFTLEVBQUs7SUFDbkNWLG1CQUFtQixDQUFDLFVBQUNXLElBQUk7TUFBQSxPQUFBQyxNQUFBLENBQUFDLE1BQUEsS0FDcEJGLElBQUksTUFBQUcsZ0JBQUEsQ0FBQWhCLE9BQUEsTUFDTlksU0FBUyxFQUFHLENBQUNDLElBQUksQ0FBQ0QsU0FBUyxDQUFDO0lBQUEsQ0FDN0IsQ0FBQztFQUNMLENBQUM7RUFFRCxJQUFNSyxlQUFlLEdBQUcsU0FBbEJBLGVBQWVBLENBQUlWLElBQUksRUFBSztJQUNoQyxJQUFJYixXQUFXLEVBQUU7TUFDZkEsV0FBVyxDQUFDYSxJQUFJLENBQUM7SUFDbkIsQ0FBQyxNQUFNLElBQUlBLElBQUksQ0FBQ1csT0FBTyxFQUFFO01BQ3ZCWCxJQUFJLENBQUNXLE9BQU8sQ0FBQ1gsSUFBSSxDQUFDO0lBQ3BCO0VBQ0YsQ0FBQztFQUVELElBQU1ZLGFBQWEsR0FBRyxJQUFBQyxjQUFPLEVBQUMsWUFBTTtJQUNsQyxPQUFPNUIsS0FBSyxDQUFDNkIsTUFBTSxDQUFDWCxvQkFBb0IsQ0FBQztFQUMzQyxDQUFDLEVBQUUsQ0FBQ2xCLEtBQUssRUFBRUcsYUFBYSxDQUFDLENBQUM7RUFFMUIsT0FBTztJQUNMRixRQUFRLEVBQUVZLGNBQWM7SUFDeEJKLGdCQUFnQixFQUFoQkEsZ0JBQWdCO0lBQ2hCa0IsYUFBYSxFQUFiQSxhQUFhO0lBQ2JiLFlBQVksRUFBWkEsWUFBWTtJQUNaSyxhQUFhLEVBQWJBLGFBQWE7SUFDYk0sZUFBZSxFQUFmQTtFQUNGLENBQUM7QUFDSCxDQUFDO0FBQUMsSUFBQUssUUFBQSxHQUFBQyxPQUFBLENBQUF2QixPQUFBLEdBRWFkLFVBQVU7QUFHbEIsSUFBTXNDLFdBQVcsR0FBQUQsT0FBQSxDQUFBQyxXQUFBLEdBQUdDLHlCQUFlLENBQUNDLEdBQUcsQ0FBQyxVQUFDQyxFQUFFO0VBQUEsT0FBTTtJQUN0REMsRUFBRSxFQUFFRCxFQUFFLENBQUNDLEVBQUU7SUFDVEMsSUFBSSxFQUFFRixFQUFFLENBQUNFLElBQUk7SUFDYnJCLElBQUksRUFBRW1CLEVBQUUsQ0FBQ0csSUFBSSxJQUFJSCxFQUFFLENBQUNuQjtFQUN0QixDQUFDO0FBQUEsQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119