0ea3e033816d92643bd6c0a996b89d62
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard").default;
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports._LogBoxNotificationContainer = _LogBoxNotificationContainer;
exports.default = void 0;
var _SafeAreaView_INTERNAL_DO_NOT_USE = _interopRequireDefault(require("../../src/private/components/safeareaview/SafeAreaView_INTERNAL_DO_NOT_USE"));
var _View = _interopRequireDefault(require("../Components/View/View"));
var _StyleSheet = _interopRequireDefault(require("../StyleSheet/StyleSheet"));
var LogBoxData = _interopRequireWildcard(require("./Data/LogBoxData"));
var _LogBoxLog = _interopRequireDefault(require("./Data/LogBoxLog"));
var _LogBoxNotification = _interopRequireDefault(require("./UI/LogBoxNotification"));
var React = _interopRequireWildcard(require("react"));
var _jsxRuntime = require("react/jsx-runtime");
function _LogBoxNotificationContainer(props) {
  var logs = props.logs;
  var onDismissWarns = function onDismissWarns() {
    LogBoxData.clearWarnings();
  };
  var onDismissErrors = function onDismissErrors() {
    LogBoxData.clearErrors();
  };
  var setSelectedLog = function setSelectedLog(index) {
    LogBoxData.setSelectedLog(index);
  };
  function openLog(log) {
    if (log.onNotificationPress) {
      log.onNotificationPress();
      return;
    }
    var index = logs.length - 1;
    while (index > 0 && logs[index] !== log) {
      index -= 1;
    }
    setSelectedLog(index);
  }
  if (logs.length === 0 || props.isDisabled === true) {
    return null;
  }
  var warnings = logs.filter(function (log) {
    return log.level === 'warn';
  });
  var errors = logs.filter(function (log) {
    return log.level === 'error' || log.level === 'fatal';
  });
  return (0, _jsxRuntime.jsxs)(_SafeAreaView_INTERNAL_DO_NOT_USE.default, {
    style: styles.list,
    children: [warnings.length > 0 && (0, _jsxRuntime.jsx)(_View.default, {
      style: styles.toast,
      children: (0, _jsxRuntime.jsx)(_LogBoxNotification.default, {
        log: warnings[warnings.length - 1],
        level: "warn",
        totalLogCount: warnings.length,
        onPressOpen: function onPressOpen() {
          return openLog(warnings[warnings.length - 1]);
        },
        onPressDismiss: onDismissWarns
      })
    }), errors.length > 0 && (0, _jsxRuntime.jsx)(_View.default, {
      style: styles.toast,
      children: (0, _jsxRuntime.jsx)(_LogBoxNotification.default, {
        log: errors[errors.length - 1],
        level: "error",
        totalLogCount: errors.length,
        onPressOpen: function onPressOpen() {
          return openLog(errors[errors.length - 1]);
        },
        onPressDismiss: onDismissErrors
      })
    })]
  });
}
var styles = _StyleSheet.default.create({
  list: {
    bottom: 20,
    left: 10,
    right: 10,
    position: 'absolute'
  },
  toast: {
    borderRadius: 8,
    marginBottom: 5,
    overflow: 'hidden'
  }
});
var _default = exports.default = LogBoxData.withSubscription(_LogBoxNotificationContainer);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfU2FmZUFyZWFWaWV3X0lOVEVSTkFMX0RPX05PVF9VU0UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9WaWV3IiwiX1N0eWxlU2hlZXQiLCJMb2dCb3hEYXRhIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfTG9nQm94TG9nIiwiX0xvZ0JveE5vdGlmaWNhdGlvbiIsIlJlYWN0IiwiX2pzeFJ1bnRpbWUiLCJfTG9nQm94Tm90aWZpY2F0aW9uQ29udGFpbmVyIiwicHJvcHMiLCJsb2dzIiwib25EaXNtaXNzV2FybnMiLCJjbGVhcldhcm5pbmdzIiwib25EaXNtaXNzRXJyb3JzIiwiY2xlYXJFcnJvcnMiLCJzZXRTZWxlY3RlZExvZyIsImluZGV4Iiwib3BlbkxvZyIsImxvZyIsIm9uTm90aWZpY2F0aW9uUHJlc3MiLCJsZW5ndGgiLCJpc0Rpc2FibGVkIiwid2FybmluZ3MiLCJmaWx0ZXIiLCJsZXZlbCIsImVycm9ycyIsImpzeHMiLCJkZWZhdWx0Iiwic3R5bGUiLCJzdHlsZXMiLCJsaXN0IiwiY2hpbGRyZW4iLCJqc3giLCJ0b2FzdCIsInRvdGFsTG9nQ291bnQiLCJvblByZXNzT3BlbiIsIm9uUHJlc3NEaXNtaXNzIiwiU3R5bGVTaGVldCIsImNyZWF0ZSIsImJvdHRvbSIsImxlZnQiLCJyaWdodCIsInBvc2l0aW9uIiwiYm9yZGVyUmFkaXVzIiwibWFyZ2luQm90dG9tIiwib3ZlcmZsb3ciLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJ3aXRoU3Vic2NyaXB0aW9uIl0sInNvdXJjZXMiOlsiTG9nQm94Tm90aWZpY2F0aW9uQ29udGFpbmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvdyBzdHJpY3QtbG9jYWxcbiAqIEBmb3JtYXRcbiAqL1xuXG5pbXBvcnQgU2FmZUFyZWFWaWV3IGZyb20gJy4uLy4uL3NyYy9wcml2YXRlL2NvbXBvbmVudHMvc2FmZWFyZWF2aWV3L1NhZmVBcmVhVmlld19JTlRFUk5BTF9ET19OT1RfVVNFJztcbmltcG9ydCBWaWV3IGZyb20gJy4uL0NvbXBvbmVudHMvVmlldy9WaWV3JztcbmltcG9ydCBTdHlsZVNoZWV0IGZyb20gJy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCc7XG5pbXBvcnQgKiBhcyBMb2dCb3hEYXRhIGZyb20gJy4vRGF0YS9Mb2dCb3hEYXRhJztcbmltcG9ydCBMb2dCb3hMb2cgZnJvbSAnLi9EYXRhL0xvZ0JveExvZyc7XG5pbXBvcnQgTG9nQm94TG9nTm90aWZpY2F0aW9uIGZyb20gJy4vVUkvTG9nQm94Tm90aWZpY2F0aW9uJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxudHlwZSBQcm9wcyA9ICRSZWFkT25seTx7XG4gIGxvZ3M6ICRSZWFkT25seUFycmF5PExvZ0JveExvZz4sXG4gIHNlbGVjdGVkTG9nSW5kZXg6IG51bWJlcixcbiAgaXNEaXNhYmxlZD86ID9ib29sZWFuLFxufT47XG5cbmV4cG9ydCBmdW5jdGlvbiBfTG9nQm94Tm90aWZpY2F0aW9uQ29udGFpbmVyKHByb3BzOiBQcm9wcyk6IFJlYWN0Lk5vZGUge1xuICBjb25zdCB7bG9nc30gPSBwcm9wcztcblxuICBjb25zdCBvbkRpc21pc3NXYXJucyA9ICgpID0+IHtcbiAgICBMb2dCb3hEYXRhLmNsZWFyV2FybmluZ3MoKTtcbiAgfTtcbiAgY29uc3Qgb25EaXNtaXNzRXJyb3JzID0gKCkgPT4ge1xuICAgIExvZ0JveERhdGEuY2xlYXJFcnJvcnMoKTtcbiAgfTtcblxuICBjb25zdCBzZXRTZWxlY3RlZExvZyA9IChpbmRleDogbnVtYmVyKTogdm9pZCA9PiB7XG4gICAgTG9nQm94RGF0YS5zZXRTZWxlY3RlZExvZyhpbmRleCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gb3BlbkxvZyhsb2c6IExvZ0JveExvZykge1xuICAgIGlmIChsb2cub25Ob3RpZmljYXRpb25QcmVzcykge1xuICAgICAgbG9nLm9uTm90aWZpY2F0aW9uUHJlc3MoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGluZGV4ID0gbG9ncy5sZW5ndGggLSAxO1xuXG4gICAgLy8gU3RvcCBhdCB6ZXJvIGJlY2F1c2UgaWYgd2UgZG9uJ3QgZmluZCBhbnkgbG9nLCB3ZSdsbCBvcGVuIHRoZSBmaXJzdCBsb2cuXG4gICAgd2hpbGUgKGluZGV4ID4gMCAmJiBsb2dzW2luZGV4XSAhPT0gbG9nKSB7XG4gICAgICBpbmRleCAtPSAxO1xuICAgIH1cbiAgICBzZXRTZWxlY3RlZExvZyhpbmRleCk7XG4gIH1cblxuICBpZiAobG9ncy5sZW5ndGggPT09IDAgfHwgcHJvcHMuaXNEaXNhYmxlZCA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3Qgd2FybmluZ3MgPSBsb2dzLmZpbHRlcihsb2cgPT4gbG9nLmxldmVsID09PSAnd2FybicpO1xuICBjb25zdCBlcnJvcnMgPSBsb2dzLmZpbHRlcihcbiAgICBsb2cgPT4gbG9nLmxldmVsID09PSAnZXJyb3InIHx8IGxvZy5sZXZlbCA9PT0gJ2ZhdGFsJyxcbiAgKTtcbiAgcmV0dXJuIChcbiAgICA8U2FmZUFyZWFWaWV3IHN0eWxlPXtzdHlsZXMubGlzdH0+XG4gICAgICB7d2FybmluZ3MubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgIDxWaWV3IHN0eWxlPXtzdHlsZXMudG9hc3R9PlxuICAgICAgICAgIDxMb2dCb3hMb2dOb3RpZmljYXRpb25cbiAgICAgICAgICAgIGxvZz17d2FybmluZ3Nbd2FybmluZ3MubGVuZ3RoIC0gMV19XG4gICAgICAgICAgICBsZXZlbD1cIndhcm5cIlxuICAgICAgICAgICAgdG90YWxMb2dDb3VudD17d2FybmluZ3MubGVuZ3RofVxuICAgICAgICAgICAgb25QcmVzc09wZW49eygpID0+IG9wZW5Mb2cod2FybmluZ3Nbd2FybmluZ3MubGVuZ3RoIC0gMV0pfVxuICAgICAgICAgICAgb25QcmVzc0Rpc21pc3M9e29uRGlzbWlzc1dhcm5zfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvVmlldz5cbiAgICAgICl9XG4gICAgICB7ZXJyb3JzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICA8VmlldyBzdHlsZT17c3R5bGVzLnRvYXN0fT5cbiAgICAgICAgICA8TG9nQm94TG9nTm90aWZpY2F0aW9uXG4gICAgICAgICAgICBsb2c9e2Vycm9yc1tlcnJvcnMubGVuZ3RoIC0gMV19XG4gICAgICAgICAgICBsZXZlbD1cImVycm9yXCJcbiAgICAgICAgICAgIHRvdGFsTG9nQ291bnQ9e2Vycm9ycy5sZW5ndGh9XG4gICAgICAgICAgICBvblByZXNzT3Blbj17KCkgPT4gb3BlbkxvZyhlcnJvcnNbZXJyb3JzLmxlbmd0aCAtIDFdKX1cbiAgICAgICAgICAgIG9uUHJlc3NEaXNtaXNzPXtvbkRpc21pc3NFcnJvcnN9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9WaWV3PlxuICAgICAgKX1cbiAgICA8L1NhZmVBcmVhVmlldz5cbiAgKTtcbn1cblxuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICBsaXN0OiB7XG4gICAgYm90dG9tOiAyMCxcbiAgICBsZWZ0OiAxMCxcbiAgICByaWdodDogMTAsXG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gIH0sXG4gIHRvYXN0OiB7XG4gICAgYm9yZGVyUmFkaXVzOiA4LFxuICAgIG1hcmdpbkJvdHRvbTogNSxcbiAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gIH0sXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgKExvZ0JveERhdGEud2l0aFN1YnNjcmlwdGlvbihcbiAgX0xvZ0JveE5vdGlmaWNhdGlvbkNvbnRhaW5lcixc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