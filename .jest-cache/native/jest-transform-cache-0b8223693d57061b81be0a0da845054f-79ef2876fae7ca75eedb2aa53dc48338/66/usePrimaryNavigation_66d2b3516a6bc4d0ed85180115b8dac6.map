{"version":3,"names":["useCallback","useMemo","useI18n","useAuth","cov_1k4km0sv9h","s","normalizeRole","role","f","b","String","trim","toLowerCase","normalizeRoles","roles","list","Array","isArray","map","filter","Boolean","STAFF_ROLES","usePrimaryNavigation","_ref","t","_ref2","isAuthenticated","mainItems","id","label","href","icon","patientItems","isItemVisible","item","length","normalizedItemRoles","some","includes"],"sources":["usePrimaryNavigation.js"],"sourcesContent":["/**\r\n * usePrimaryNavigation Hook\r\n * Builds primary navigation items for main and patient shells.\r\n * File: usePrimaryNavigation.js\r\n */\r\nimport { useCallback, useMemo } from 'react';\r\nimport useI18n from '@hooks/useI18n';\r\nimport useAuth from '@hooks/useAuth';\r\n\r\nconst normalizeRole = (role) => {\r\n  if (!role) return null;\r\n  return String(role).trim().toLowerCase();\r\n};\r\n\r\nconst normalizeRoles = (roles) => {\r\n  if (!roles) return [];\r\n  const list = Array.isArray(roles) ? roles : [roles];\r\n  return list.map(normalizeRole).filter(Boolean);\r\n};\r\n\r\nconst STAFF_ROLES = [\r\n  'admin',\r\n  'hospital-admin',\r\n  'system-admin',\r\n  'super-admin',\r\n  'doctor',\r\n  'specialist',\r\n  'nurse',\r\n  'clinical-officer',\r\n  'intern',\r\n  'laboratory-technician',\r\n  'radiology-technician',\r\n  'pharmacist',\r\n  'pharmacy-assistant',\r\n  'emergency-officer',\r\n  'ambulance-driver',\r\n  'finance',\r\n  'accounts',\r\n  'hr',\r\n  'housekeeping',\r\n  'facility-manager',\r\n];\r\n\r\n/**\r\n * Primary navigation hook\r\n * @returns {Object} navigation items and visibility helpers\r\n */\r\nconst usePrimaryNavigation = () => {\r\n  const { t } = useI18n();\r\n  const { isAuthenticated, roles } = useAuth();\r\n\r\n  const mainItems = useMemo(\r\n    () => [\r\n      {\r\n        id: 'home',\r\n        label: t('navigation.items.main.home'),\r\n        href: '/home',\r\n        icon: 'H',\r\n        roles: STAFF_ROLES,\r\n      },\r\n      {\r\n        id: 'overview',\r\n        label: t('navigation.items.main.overview'),\r\n        href: '/',\r\n        icon: 'O',\r\n        roles: STAFF_ROLES,\r\n      },\r\n    ],\r\n    [t]\r\n  );\r\n\r\n  const patientItems = useMemo(\r\n    () => [\r\n      {\r\n        id: 'home',\r\n        label: t('navigation.items.patient.home'),\r\n        href: '/',\r\n        icon: 'H',\r\n        roles: ['patient'],\r\n      },\r\n    ],\r\n    [t]\r\n  );\r\n\r\n  const isItemVisible = useCallback(\r\n    (item) => {\r\n      if (!item || !item.roles || item.roles.length === 0) {\r\n        return true;\r\n      }\r\n      if (!isAuthenticated) {\r\n        return false;\r\n      }\r\n      const normalizedItemRoles = normalizeRoles(item.roles);\r\n      if (normalizedItemRoles.length === 0) {\r\n        return false;\r\n      }\r\n      return normalizedItemRoles.some((role) => roles.includes(role));\r\n    },\r\n    [isAuthenticated, roles]\r\n  );\r\n\r\n  return {\r\n    mainItems,\r\n    patientItems,\r\n    isItemVisible,\r\n  };\r\n};\r\n\r\nexport default usePrimaryNavigation;\r\n"],"mappings":"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","ignoreList":[]}