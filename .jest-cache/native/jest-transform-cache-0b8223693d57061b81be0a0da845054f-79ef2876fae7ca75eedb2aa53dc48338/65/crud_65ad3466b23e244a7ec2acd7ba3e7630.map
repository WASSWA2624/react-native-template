{"version":3,"names":["apiClient","cov_2a6fz65nib","s","buildQueryString","params","arguments","length","undefined","b","f","entries","Object","filter","_ref","_ref2","_slicedToArray","value","searchParams","URLSearchParams","forEach","_ref3","_ref4","key","Array","isArray","item","append","String","query","toString","ensureEndpoint","name","Error","createCrudApi","endpoints","listUrl","LIST","CREATE","createUrl","getUrl","GET","updateUrl","UPDATE","deleteUrl","DELETE","list","url","method","get","id","create","payload","body","update","remove"],"sources":["crud.js"],"sourcesContent":["/**\r\n * CRUD API Factory\r\n * Reusable API helpers for CRUD endpoints\r\n * File: crud.js\r\n */\r\nimport { apiClient } from './client';\r\n\r\nconst buildQueryString = (params = {}) => {\r\n  if (!params || typeof params !== 'object') return '';\r\n  const entries = Object.entries(params).filter(([, value]) => value !== undefined && value !== null);\r\n  if (!entries.length) return '';\r\n  const searchParams = new URLSearchParams();\r\n  entries.forEach(([key, value]) => {\r\n    if (Array.isArray(value)) {\r\n      value.forEach((item) => searchParams.append(key, String(item)));\r\n    } else {\r\n      searchParams.append(key, String(value));\r\n    }\r\n  });\r\n  const query = searchParams.toString();\r\n  return query ? `?${query}` : '';\r\n};\r\n\r\nconst ensureEndpoint = (value, name) => {\r\n  if (!value) {\r\n    throw new Error(`Missing endpoint: ${name}`);\r\n  }\r\n  return value;\r\n};\r\n\r\nconst createCrudApi = (endpoints) => {\r\n  const listUrl = ensureEndpoint(endpoints?.LIST || endpoints?.CREATE, 'LIST');\r\n  const createUrl = ensureEndpoint(endpoints?.CREATE || endpoints?.LIST, 'CREATE');\r\n  const getUrl = ensureEndpoint(endpoints?.GET, 'GET');\r\n  const updateUrl = ensureEndpoint(endpoints?.UPDATE, 'UPDATE');\r\n  const deleteUrl = ensureEndpoint(endpoints?.DELETE, 'DELETE');\r\n\r\n  return {\r\n    list: (params = {}) =>\r\n      apiClient({\r\n        url: `${listUrl}${buildQueryString(params)}`,\r\n        method: 'GET',\r\n      }),\r\n    get: (id) =>\r\n      apiClient({\r\n        url: getUrl(id),\r\n        method: 'GET',\r\n      }),\r\n    create: (payload) =>\r\n      apiClient({\r\n        url: createUrl,\r\n        method: 'POST',\r\n        body: payload,\r\n      }),\r\n    update: (id, payload) =>\r\n      apiClient({\r\n        url: updateUrl(id),\r\n        method: 'PUT',\r\n        body: payload,\r\n      }),\r\n    remove: (id) =>\r\n      apiClient({\r\n        url: deleteUrl(id),\r\n        method: 'DELETE',\r\n      }),\r\n  };\r\n};\r\n\r\nexport { buildQueryString, createCrudApi };\r\n"],"mappings":"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","ignoreList":[]}