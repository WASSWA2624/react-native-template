{"version":3,"names":["_getJestObj","mock","useI18n","t","key","locale","useRouter","push","jest","fn","useSafeAreaInsets","top","bottom","left","right","_interopRequireWildcard","require","default","_interopRequireDefault","_react","_reactNative","_testUtils","_GlobalHeader","_jsxRuntime","_require","GlobalHeader","GlobalHeaderModule","describe","actions","label","onPress","roles","variant","ACTION_VARIANTS","PRIMARY","placement","ACTION_PLACEMENTS","SECONDARY","icon","jsx","Text","children","it","_renderWithProviders","renderWithProviders","title","subtitle","testID","getByText","expect","toBeTruthy","_renderWithProviders2","_renderWithProviders3","currentRole","getByTestId","queryByTestId","toBeNull","labelLessActions","_renderWithProviders4","_renderWithProviders5","utilitySlot","_renderWithProviders6","breadcrumbs","href","GlobalHeaderAndroid","_renderWithProviders7","GlobalHeaderIOS","_renderWithProviders8","GlobalHeaderWeb","_renderWithProviders9"],"sources":["GlobalHeader.test.js"],"sourcesContent":["/**\r\n * GlobalHeader Component Tests\r\n * Tests for GlobalHeader component across all platforms\r\n * File: GlobalHeader.test.js\r\n */\r\nimport React from 'react';\r\nimport { Text } from 'react-native';\r\nimport { renderWithProviders } from '../../../helpers/test-utils';\r\nimport GlobalHeaderModule, {\r\n  ACTION_PLACEMENTS,\r\n  ACTION_VARIANTS,\r\n} from '@platform/components/navigation/GlobalHeader';\r\n\r\nconst GlobalHeader = GlobalHeaderModule.default || GlobalHeaderModule;\r\n\r\njest.mock('@hooks', () => ({\r\n  useI18n: () => ({\r\n    t: (key) => key,\r\n    locale: 'en',\r\n  }),\r\n}));\r\n\r\njest.mock('expo-router', () => ({\r\n  useRouter: () => ({\r\n    push: jest.fn(),\r\n  }),\r\n}));\r\n\r\njest.mock('react-native-safe-area-context', () => ({\r\n  useSafeAreaInsets: () => ({\r\n    top: 12,\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  }),\r\n}));\r\n\r\ndescribe('GlobalHeader Component', () => {\r\n  const actions = [\r\n    {\r\n      key: 'export',\r\n      label: 'Export',\r\n      onPress: jest.fn(),\r\n      roles: ['admin'],\r\n      variant: ACTION_VARIANTS.PRIMARY,\r\n    },\r\n    {\r\n      key: 'refresh',\r\n      label: 'Refresh',\r\n      onPress: jest.fn(),\r\n      roles: ['user'],\r\n    },\r\n    {\r\n      key: 'filter',\r\n      label: 'Filter',\r\n      onPress: jest.fn(),\r\n      placement: ACTION_PLACEMENTS.SECONDARY,\r\n      icon: <Text>+</Text>,\r\n    },\r\n  ];\r\n\r\n  it('should render title and subtitle', () => {\r\n    const { getByText } = renderWithProviders(\r\n      <GlobalHeader title=\"Dashboard\" subtitle=\"Today\" testID=\"global-header\" />\r\n    );\r\n    expect(getByText('Dashboard')).toBeTruthy();\r\n    expect(getByText('Today')).toBeTruthy();\r\n  });\r\n\r\n  it('should render custom title node', () => {\r\n    const { getByText } = renderWithProviders(\r\n      <GlobalHeader title={<Text>Custom Title</Text>} testID=\"global-header\" />\r\n    );\r\n    expect(getByText('Custom Title')).toBeTruthy();\r\n  });\r\n\r\n  it('should filter actions by current role', () => {\r\n    const { getByTestId, queryByTestId } = renderWithProviders(\r\n      <GlobalHeader actions={actions} currentRole=\"admin\" testID=\"global-header\" />\r\n    );\r\n    expect(getByTestId('global-header-action-export')).toBeTruthy();\r\n    expect(getByTestId('global-header-action-filter')).toBeTruthy();\r\n    expect(queryByTestId('global-header-action-refresh')).toBeNull();\r\n  });\r\n\r\n  it('should render action without label safely', () => {\r\n    const labelLessActions = [\r\n      { key: 'icon-only', onPress: jest.fn(), icon: <Text>*</Text> },\r\n    ];\r\n    const { getByTestId } = renderWithProviders(\r\n      <GlobalHeader actions={labelLessActions} testID=\"global-header\" />\r\n    );\r\n    expect(getByTestId('global-header-action-icon-only')).toBeTruthy();\r\n  });\r\n\r\n  it('should render utility slot content', () => {\r\n    const { getByText } = renderWithProviders(\r\n      <GlobalHeader\r\n        title=\"Dashboard\"\r\n        utilitySlot={<Text>Theme Controls</Text>}\r\n        testID=\"global-header\"\r\n      />\r\n    );\r\n    expect(getByText('Theme Controls')).toBeTruthy();\r\n  });\r\n\r\n  it('should render breadcrumbs when provided', () => {\r\n    const { getByTestId } = renderWithProviders(\r\n      <GlobalHeader\r\n        title=\"Dashboard\"\r\n        breadcrumbs={[{ label: 'Home', href: '/' }, { label: 'Dashboard' }]}\r\n        testID=\"global-header\"\r\n      />\r\n    );\r\n    expect(getByTestId('global-header-breadcrumbs')).toBeTruthy();\r\n  });\r\n\r\n  describe('Platform-specific rendering', () => {\r\n    it('should render Android variant', () => {\r\n      // eslint-disable-next-line import/no-unresolved\r\n      const GlobalHeaderAndroid = require('@platform/components/navigation/GlobalHeader/GlobalHeader.android').default;\r\n      const { getByTestId } = renderWithProviders(\r\n        <GlobalHeaderAndroid title=\"Android\" testID=\"global-header-android\" />\r\n      );\r\n      expect(getByTestId('global-header-android')).toBeTruthy();\r\n    });\r\n\r\n    it('should render iOS variant', () => {\r\n      // eslint-disable-next-line import/no-unresolved\r\n      const GlobalHeaderIOS = require('@platform/components/navigation/GlobalHeader/GlobalHeader.ios').default;\r\n      const { getByTestId } = renderWithProviders(\r\n        <GlobalHeaderIOS title=\"iOS\" testID=\"global-header-ios\" />\r\n      );\r\n      expect(getByTestId('global-header-ios')).toBeTruthy();\r\n    });\r\n\r\n    it('should render Web variant', () => {\r\n      // eslint-disable-next-line import/no-unresolved\r\n      const GlobalHeaderWeb = require('@platform/components/navigation/GlobalHeader/GlobalHeader.web').default;\r\n      const { getByTestId } = renderWithProviders(\r\n        <GlobalHeaderWeb title=\"Web\" testID=\"global-header-web\" />\r\n      );\r\n      expect(getByTestId('global-header-web')).toBeTruthy();\r\n    });\r\n  });\r\n});\r\n"],"mappings":"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","ignoreList":[]}