b567e714dcd99a08d1a41dc586c7ef91
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _callSuper2 = _interopRequireDefault(require("@babel/runtime/helpers/callSuper"));
var _superPropGet2 = _interopRequireDefault(require("@babel/runtime/helpers/superPropGet"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _AnimatedInterpolation = _interopRequireDefault(require("./AnimatedInterpolation"));
var _AnimatedWithChildren2 = _interopRequireDefault(require("./AnimatedWithChildren"));
var AnimatedDiffClamp = exports.default = function (_AnimatedWithChildren) {
  function AnimatedDiffClamp(a, min, max, config) {
    var _this;
    (0, _classCallCheck2.default)(this, AnimatedDiffClamp);
    _this = (0, _callSuper2.default)(this, AnimatedDiffClamp, [config]);
    _this._a = a;
    _this._min = min;
    _this._max = max;
    _this._value = _this._lastValue = _this._a.__getValue();
    return _this;
  }
  (0, _inherits2.default)(AnimatedDiffClamp, _AnimatedWithChildren);
  return (0, _createClass2.default)(AnimatedDiffClamp, [{
    key: "__makeNative",
    value: function __makeNative(platformConfig) {
      this._a.__makeNative(platformConfig);
      (0, _superPropGet2.default)(AnimatedDiffClamp, "__makeNative", this, 3)([platformConfig]);
    }
  }, {
    key: "interpolate",
    value: function interpolate(config) {
      return new _AnimatedInterpolation.default(this, config);
    }
  }, {
    key: "__getValue",
    value: function __getValue() {
      var value = this._a.__getValue();
      var diff = value - this._lastValue;
      this._lastValue = value;
      this._value = Math.min(Math.max(this._value + diff, this._min), this._max);
      return this._value;
    }
  }, {
    key: "__attach",
    value: function __attach() {
      this._a.__addChild(this);
      (0, _superPropGet2.default)(AnimatedDiffClamp, "__attach", this, 3)([]);
    }
  }, {
    key: "__detach",
    value: function __detach() {
      this._a.__removeChild(this);
      (0, _superPropGet2.default)(AnimatedDiffClamp, "__detach", this, 3)([]);
    }
  }, {
    key: "__getNativeConfig",
    value: function __getNativeConfig() {
      return {
        type: 'diffclamp',
        input: this._a.__getNativeTag(),
        min: this._min,
        max: this._max,
        debugID: this.__getDebugID()
      };
    }
  }]);
}(_AnimatedWithChildren2.default);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsImRlZmF1bHQiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIl9jbGFzc0NhbGxDaGVjazIiLCJfY3JlYXRlQ2xhc3MyIiwiX2NhbGxTdXBlcjIiLCJfc3VwZXJQcm9wR2V0MiIsIl9pbmhlcml0czIiLCJfQW5pbWF0ZWRJbnRlcnBvbGF0aW9uIiwiX0FuaW1hdGVkV2l0aENoaWxkcmVuMiIsIkFuaW1hdGVkRGlmZkNsYW1wIiwiX0FuaW1hdGVkV2l0aENoaWxkcmVuIiwiYSIsIm1pbiIsIm1heCIsImNvbmZpZyIsIl90aGlzIiwiX2EiLCJfbWluIiwiX21heCIsIl92YWx1ZSIsIl9sYXN0VmFsdWUiLCJfX2dldFZhbHVlIiwia2V5IiwiX19tYWtlTmF0aXZlIiwicGxhdGZvcm1Db25maWciLCJpbnRlcnBvbGF0ZSIsIkFuaW1hdGVkSW50ZXJwb2xhdGlvbiIsImRpZmYiLCJNYXRoIiwiX19hdHRhY2giLCJfX2FkZENoaWxkIiwiX19kZXRhY2giLCJfX3JlbW92ZUNoaWxkIiwiX19nZXROYXRpdmVDb25maWciLCJ0eXBlIiwiaW5wdXQiLCJfX2dldE5hdGl2ZVRhZyIsImRlYnVnSUQiLCJfX2dldERlYnVnSUQiLCJBbmltYXRlZFdpdGhDaGlsZHJlbiJdLCJzb3VyY2VzIjpbIkFuaW1hdGVkRGlmZkNsYW1wLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvd1xuICogQGZvcm1hdFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHR5cGUge1BsYXRmb3JtQ29uZmlnfSBmcm9tICcuLi9BbmltYXRlZFBsYXRmb3JtQ29uZmlnJztcbmltcG9ydCB0eXBlIHtJbnRlcnBvbGF0aW9uQ29uZmlnVHlwZX0gZnJvbSAnLi9BbmltYXRlZEludGVycG9sYXRpb24nO1xuaW1wb3J0IHR5cGUgQW5pbWF0ZWROb2RlIGZyb20gJy4vQW5pbWF0ZWROb2RlJztcbmltcG9ydCB0eXBlIHtBbmltYXRlZE5vZGVDb25maWd9IGZyb20gJy4vQW5pbWF0ZWROb2RlJztcblxuaW1wb3J0IEFuaW1hdGVkSW50ZXJwb2xhdGlvbiBmcm9tICcuL0FuaW1hdGVkSW50ZXJwb2xhdGlvbic7XG5pbXBvcnQgQW5pbWF0ZWRXaXRoQ2hpbGRyZW4gZnJvbSAnLi9BbmltYXRlZFdpdGhDaGlsZHJlbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFuaW1hdGVkRGlmZkNsYW1wIGV4dGVuZHMgQW5pbWF0ZWRXaXRoQ2hpbGRyZW4ge1xuICBfYTogQW5pbWF0ZWROb2RlO1xuICBfbWluOiBudW1iZXI7XG4gIF9tYXg6IG51bWJlcjtcbiAgX3ZhbHVlOiBudW1iZXI7XG4gIF9sYXN0VmFsdWU6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBhOiBBbmltYXRlZE5vZGUsXG4gICAgbWluOiBudW1iZXIsXG4gICAgbWF4OiBudW1iZXIsXG4gICAgY29uZmlnPzogP0FuaW1hdGVkTm9kZUNvbmZpZyxcbiAgKSB7XG4gICAgc3VwZXIoY29uZmlnKTtcblxuICAgIHRoaXMuX2EgPSBhO1xuICAgIHRoaXMuX21pbiA9IG1pbjtcbiAgICB0aGlzLl9tYXggPSBtYXg7XG4gICAgdGhpcy5fdmFsdWUgPSB0aGlzLl9sYXN0VmFsdWUgPSB0aGlzLl9hLl9fZ2V0VmFsdWUoKTtcbiAgfVxuXG4gIF9fbWFrZU5hdGl2ZShwbGF0Zm9ybUNvbmZpZzogP1BsYXRmb3JtQ29uZmlnKSB7XG4gICAgdGhpcy5fYS5fX21ha2VOYXRpdmUocGxhdGZvcm1Db25maWcpO1xuICAgIHN1cGVyLl9fbWFrZU5hdGl2ZShwbGF0Zm9ybUNvbmZpZyk7XG4gIH1cblxuICBpbnRlcnBvbGF0ZTxPdXRwdXRUOiBudW1iZXIgfCBzdHJpbmc+KFxuICAgIGNvbmZpZzogSW50ZXJwb2xhdGlvbkNvbmZpZ1R5cGU8T3V0cHV0VD4sXG4gICk6IEFuaW1hdGVkSW50ZXJwb2xhdGlvbjxPdXRwdXRUPiB7XG4gICAgcmV0dXJuIG5ldyBBbmltYXRlZEludGVycG9sYXRpb24odGhpcywgY29uZmlnKTtcbiAgfVxuXG4gIF9fZ2V0VmFsdWUoKTogbnVtYmVyIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMuX2EuX19nZXRWYWx1ZSgpO1xuICAgIGNvbnN0IGRpZmYgPSB2YWx1ZSAtIHRoaXMuX2xhc3RWYWx1ZTtcbiAgICB0aGlzLl9sYXN0VmFsdWUgPSB2YWx1ZTtcbiAgICB0aGlzLl92YWx1ZSA9IE1hdGgubWluKE1hdGgubWF4KHRoaXMuX3ZhbHVlICsgZGlmZiwgdGhpcy5fbWluKSwgdGhpcy5fbWF4KTtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cblxuICBfX2F0dGFjaCgpOiB2b2lkIHtcbiAgICB0aGlzLl9hLl9fYWRkQ2hpbGQodGhpcyk7XG4gICAgc3VwZXIuX19hdHRhY2goKTtcbiAgfVxuXG4gIF9fZGV0YWNoKCk6IHZvaWQge1xuICAgIHRoaXMuX2EuX19yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICBzdXBlci5fX2RldGFjaCgpO1xuICB9XG5cbiAgX19nZXROYXRpdmVDb25maWcoKTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ2RpZmZjbGFtcCcsXG4gICAgICBpbnB1dDogdGhpcy5fYS5fX2dldE5hdGl2ZVRhZygpLFxuICAgICAgbWluOiB0aGlzLl9taW4sXG4gICAgICBtYXg6IHRoaXMuX21heCxcbiAgICAgIGRlYnVnSUQ6IHRoaXMuX19nZXREZWJ1Z0lEKCksXG4gICAgfTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFVQSxZQUFZOztB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