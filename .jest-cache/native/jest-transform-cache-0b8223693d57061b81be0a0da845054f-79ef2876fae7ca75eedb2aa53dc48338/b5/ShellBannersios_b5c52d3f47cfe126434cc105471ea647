b2515f8d39f568be597b4cb802513165
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _react = _interopRequireWildcard(require("react"));
var _hooks = require("../../../../hooks");
var _Modal = _interopRequireDefault(require("../Modal"));
var _SystemBanner = _interopRequireDefault(require("../SystemBanner"));
var _ShellBannersIos = require("./ShellBanners.ios.styles");
var _types = require("./types");
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["banners", "accessibilityLabel", "testID"];
var ShellBannersIOS = function ShellBannersIOS(_ref) {
  var _ref$banners = _ref.banners,
    banners = _ref$banners === void 0 ? [] : _ref$banners,
    accessibilityLabel = _ref.accessibilityLabel,
    testID = _ref.testID,
    rest = (0, _objectWithoutProperties2.default)(_ref, _excluded);
  var _useI18n = (0, _hooks.useI18n)(),
    t = _useI18n.t;
  var _useState = (0, _react.useState)(false),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    dismissed = _useState2[0],
    setDismissed = _useState2[1];
  var bannerKey = banners.map(function (b) {
    return b.id;
  }).join(',');
  (0, _react.useEffect)(function () {
    setDismissed(false);
  }, [bannerKey]);
  var visible = banners.length > 0 && !dismissed;
  var label = accessibilityLabel || t('shell.banners.surfaceLabel');
  if (!visible) return null;
  return (0, _jsxRuntime.jsx)(_Modal.default, Object.assign({
    visible: true,
    onDismiss: function onDismiss() {
      return setDismissed(true);
    },
    size: "small",
    showCloseButton: true,
    dismissOnBackdrop: true,
    accessibilityLabel: label,
    testID: testID
  }, rest, {
    children: (0, _jsxRuntime.jsx)(_ShellBannersIos.StyledStack, {
      accessibilityLabel: label,
      children: banners.map(function (banner, index) {
        return (0, _jsxRuntime.jsx)(_ShellBannersIos.StyledStackItem, {
          spacing: _types.STACK_SPACING,
          isLast: index === banners.length - 1,
          children: (0, _jsxRuntime.jsx)(_SystemBanner.default, Object.assign({}, banner))
        }, banner.id);
      })
    })
  }));
};
var _default = exports.default = ShellBannersIOS;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfaG9va3MiLCJfTW9kYWwiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX1N5c3RlbUJhbm5lciIsIl9TaGVsbEJhbm5lcnNJb3MiLCJfdHlwZXMiLCJfanN4UnVudGltZSIsIl9leGNsdWRlZCIsIlNoZWxsQmFubmVyc0lPUyIsIl9yZWYiLCJfcmVmJGJhbm5lcnMiLCJiYW5uZXJzIiwiYWNjZXNzaWJpbGl0eUxhYmVsIiwidGVzdElEIiwicmVzdCIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllczIiLCJkZWZhdWx0IiwiX3VzZUkxOG4iLCJ1c2VJMThuIiwidCIsIl91c2VTdGF0ZSIsInVzZVN0YXRlIiwiX3VzZVN0YXRlMiIsIl9zbGljZWRUb0FycmF5MiIsImRpc21pc3NlZCIsInNldERpc21pc3NlZCIsImJhbm5lcktleSIsIm1hcCIsImIiLCJpZCIsImpvaW4iLCJ1c2VFZmZlY3QiLCJ2aXNpYmxlIiwibGVuZ3RoIiwibGFiZWwiLCJqc3giLCJPYmplY3QiLCJhc3NpZ24iLCJvbkRpc21pc3MiLCJzaXplIiwic2hvd0Nsb3NlQnV0dG9uIiwiZGlzbWlzc09uQmFja2Ryb3AiLCJjaGlsZHJlbiIsIlN0eWxlZFN0YWNrIiwiYmFubmVyIiwiaW5kZXgiLCJTdHlsZWRTdGFja0l0ZW0iLCJzcGFjaW5nIiwiU1RBQ0tfU1BBQ0lORyIsImlzTGFzdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIlNoZWxsQmFubmVycy5pb3MuanN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBTaGVsbEJhbm5lcnMgQ29tcG9uZW50IC0gaU9TXHJcbiAqIERpc21pc3NpYmxlIG1vZGFsIGZvciBzeXN0ZW0gYmFubmVycyAob2ZmbGluZSwgbWFpbnRlbmFuY2UsIGV0Yy4pXHJcbiAqIEZpbGU6IFNoZWxsQmFubmVycy5pb3MuanN4XHJcbiAqL1xyXG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgdXNlSTE4biB9IGZyb20gJ0Bob29rcyc7XHJcbmltcG9ydCBNb2RhbCBmcm9tICdAcGxhdGZvcm0vY29tcG9uZW50cy9mZWVkYmFjay9Nb2RhbCc7XHJcbmltcG9ydCBTeXN0ZW1CYW5uZXIgZnJvbSAnQHBsYXRmb3JtL2NvbXBvbmVudHMvZmVlZGJhY2svU3lzdGVtQmFubmVyJztcclxuaW1wb3J0IHsgU3R5bGVkU3RhY2ssIFN0eWxlZFN0YWNrSXRlbSB9IGZyb20gJy4vU2hlbGxCYW5uZXJzLmlvcy5zdHlsZXMnO1xyXG5pbXBvcnQgeyBTVEFDS19TUEFDSU5HIH0gZnJvbSAnLi90eXBlcyc7XHJcblxyXG4vKipcclxuICogU2hlbGxCYW5uZXJzIGNvbXBvbmVudCBmb3IgaU9TIOKAkyBkaXNwbGF5cyBhcyBhIGRpc21pc3NpYmxlIG1vZGFsXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyAtIFNoZWxsQmFubmVycyBwcm9wc1xyXG4gKi9cclxuY29uc3QgU2hlbGxCYW5uZXJzSU9TID0gKHtcclxuICBiYW5uZXJzID0gW10sXHJcbiAgYWNjZXNzaWJpbGl0eUxhYmVsLFxyXG4gIHRlc3RJRCxcclxuICAuLi5yZXN0XHJcbn0pID0+IHtcclxuICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcclxuICBjb25zdCBbZGlzbWlzc2VkLCBzZXREaXNtaXNzZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IGJhbm5lcktleSA9IGJhbm5lcnMubWFwKChiKSA9PiBiLmlkKS5qb2luKCcsJyk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBzZXREaXNtaXNzZWQoZmFsc2UpO1xyXG4gIH0sIFtiYW5uZXJLZXldKTtcclxuXHJcbiAgY29uc3QgdmlzaWJsZSA9IGJhbm5lcnMubGVuZ3RoID4gMCAmJiAhZGlzbWlzc2VkO1xyXG4gIGNvbnN0IGxhYmVsID0gYWNjZXNzaWJpbGl0eUxhYmVsIHx8IHQoJ3NoZWxsLmJhbm5lcnMuc3VyZmFjZUxhYmVsJyk7XHJcblxyXG4gIGlmICghdmlzaWJsZSkgcmV0dXJuIG51bGw7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8TW9kYWxcclxuICAgICAgdmlzaWJsZVxyXG4gICAgICBvbkRpc21pc3M9eygpID0+IHNldERpc21pc3NlZCh0cnVlKX1cclxuICAgICAgc2l6ZT1cInNtYWxsXCJcclxuICAgICAgc2hvd0Nsb3NlQnV0dG9uXHJcbiAgICAgIGRpc21pc3NPbkJhY2tkcm9wXHJcbiAgICAgIGFjY2Vzc2liaWxpdHlMYWJlbD17bGFiZWx9XHJcbiAgICAgIHRlc3RJRD17dGVzdElEfVxyXG4gICAgICB7Li4ucmVzdH1cclxuICAgID5cclxuICAgICAgPFN0eWxlZFN0YWNrIGFjY2Vzc2liaWxpdHlMYWJlbD17bGFiZWx9PlxyXG4gICAgICAgIHtiYW5uZXJzLm1hcCgoYmFubmVyLCBpbmRleCkgPT4gKFxyXG4gICAgICAgICAgPFN0eWxlZFN0YWNrSXRlbVxyXG4gICAgICAgICAgICBrZXk9e2Jhbm5lci5pZH1cclxuICAgICAgICAgICAgc3BhY2luZz17U1RBQ0tfU1BBQ0lOR31cclxuICAgICAgICAgICAgaXNMYXN0PXtpbmRleCA9PT0gYmFubmVycy5sZW5ndGggLSAxfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8U3lzdGVtQmFubmVyIHsuLi5iYW5uZXJ9IC8+XHJcbiAgICAgICAgICA8L1N0eWxlZFN0YWNrSXRlbT5cclxuICAgICAgICApKX1cclxuICAgICAgPC9TdHlsZWRTdGFjaz5cclxuICAgIDwvTW9kYWw+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNoZWxsQmFubmVyc0lPUztcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUtBLElBQUFBLE1BQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE1BQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUMsc0JB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