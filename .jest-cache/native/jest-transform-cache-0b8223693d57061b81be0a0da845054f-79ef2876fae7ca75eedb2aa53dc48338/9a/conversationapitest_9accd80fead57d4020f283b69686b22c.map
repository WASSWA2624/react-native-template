{"version":3,"names":["_getJestObj","mock","apiClient","jest","fn","createCrudApi","list","get","create","update","remove","_interopRequireDefault","require","default","_asyncToGenerator2","_endpoints","_api","_conversation","_require","describe","it","expect","toHaveBeenCalledWith","endpoints","CONVERSATIONS","conversationApi","toBeDefined","mockResolvedValue","data","getConversationParticipantsApi","url","GET_PARTICIPANTS","method","payload","userId","addConversationParticipantApi","ADD_PARTICIPANT","body","removeConversationParticipantApi","REMOVE_PARTICIPANT","getConversationMessagesApi","GET_MESSAGES","text","addConversationMessageApi","ADD_MESSAGE"],"sources":["conversation.api.test.js"],"sourcesContent":["/**\r\n * Conversation API Tests\r\n * File: conversation.api.test.js\r\n */\r\nimport { endpoints } from '@config/endpoints';\r\nimport { apiClient, createCrudApi } from '@services/api';\r\nimport {\r\n  addConversationMessageApi,\r\n  addConversationParticipantApi,\r\n  conversationApi,\r\n  getConversationMessagesApi,\r\n  getConversationParticipantsApi,\r\n  removeConversationParticipantApi,\r\n} from '@features/conversation/conversation.api';\r\n\r\njest.mock('@services/api', () => ({\r\n  apiClient: jest.fn(),\r\n  createCrudApi: jest.fn(() => ({\r\n    list: jest.fn(),\r\n    get: jest.fn(),\r\n    create: jest.fn(),\r\n    update: jest.fn(),\r\n    remove: jest.fn(),\r\n  })),\r\n}));\r\n\r\ndescribe('conversation.api', () => {\r\n  it('creates crud api with conversation endpoints', () => {\r\n    expect(createCrudApi).toHaveBeenCalledWith(endpoints.CONVERSATIONS);\r\n    expect(conversationApi).toBeDefined();\r\n  });\r\n\r\n  it('fetches conversation participants', async () => {\r\n    apiClient.mockResolvedValue({ data: [] });\r\n    await getConversationParticipantsApi('1');\r\n    expect(apiClient).toHaveBeenCalledWith({\r\n      url: endpoints.CONVERSATIONS.GET_PARTICIPANTS('1'),\r\n      method: 'GET',\r\n    });\r\n  });\r\n\r\n  it('adds a conversation participant', async () => {\r\n    const payload = { userId: 'u1' };\r\n    apiClient.mockResolvedValue({ data: payload });\r\n    await addConversationParticipantApi('1', payload);\r\n    expect(apiClient).toHaveBeenCalledWith({\r\n      url: endpoints.CONVERSATIONS.ADD_PARTICIPANT('1'),\r\n      method: 'POST',\r\n      body: payload,\r\n    });\r\n  });\r\n\r\n  it('removes a conversation participant', async () => {\r\n    apiClient.mockResolvedValue({ data: {} });\r\n    await removeConversationParticipantApi('1', 'u1');\r\n    expect(apiClient).toHaveBeenCalledWith({\r\n      url: endpoints.CONVERSATIONS.REMOVE_PARTICIPANT('1', 'u1'),\r\n      method: 'DELETE',\r\n    });\r\n  });\r\n\r\n  it('fetches conversation messages', async () => {\r\n    apiClient.mockResolvedValue({ data: [] });\r\n    await getConversationMessagesApi('1');\r\n    expect(apiClient).toHaveBeenCalledWith({\r\n      url: endpoints.CONVERSATIONS.GET_MESSAGES('1'),\r\n      method: 'GET',\r\n    });\r\n  });\r\n\r\n  it('adds a conversation message', async () => {\r\n    const payload = { text: 'hello' };\r\n    apiClient.mockResolvedValue({ data: payload });\r\n    await addConversationMessageApi('1', payload);\r\n    expect(apiClient).toHaveBeenCalledWith({\r\n      url: endpoints.CONVERSATIONS.ADD_MESSAGE('1'),\r\n      method: 'POST',\r\n      body: payload,\r\n    });\r\n  });\r\n});\r\n"],"mappings":"AAeAA,WAAA,GAAKC,IAAI,0BAAkB;EAAA,OAAO;IAChCC,SAAS,EAAEC,IAAI,CAACC,EAAE,CAAC,CAAC;IACpBC,aAAa,EAAEF,IAAI,CAACC,EAAE,CAAC;MAAA,OAAO;QAC5BE,IAAI,EAAEH,IAAI,CAACC,EAAE,CAAC,CAAC;QACfG,GAAG,EAAEJ,IAAI,CAACC,EAAE,CAAC,CAAC;QACdI,MAAM,EAAEL,IAAI,CAACC,EAAE,CAAC,CAAC;QACjBK,MAAM,EAAEN,IAAI,CAACC,EAAE,CAAC,CAAC;QACjBM,MAAM,EAAEP,IAAI,CAACC,EAAE,CAAC;MAClB,CAAC;IAAA,CAAC;EACJ,CAAC;AAAA,CAAC,CAAC;AAAC,IAAAO,sBAAA,GAAAC,OAAA,iDAAAC,OAAA;AAAA,IAAAC,kBAAA,GAAAH,sBAAA,CAAAC,OAAA;AApBJ,IAAAG,UAAA,GAAAH,OAAA;AACA,IAAAI,IAAA,GAAAJ,OAAA;AACA,IAAAK,aAAA,GAAAL,OAAA;AAOiD,SAAAZ,YAAA;EAAA,IAAAkB,QAAA,GAAAN,OAAA;IAAAT,IAAA,GAAAe,QAAA,CAAAf,IAAA;EAAAH,WAAA,YAAAA,YAAA;IAAA,OAAAG,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAajDgB,QAAQ,CAAC,kBAAkB,EAAE,YAAM;EACjCC,EAAE,CAAC,8CAA8C,EAAE,YAAM;IACvDC,MAAM,CAAChB,kBAAa,CAAC,CAACiB,oBAAoB,CAACC,oBAAS,CAACC,aAAa,CAAC;IACnEH,MAAM,CAACI,6BAAe,CAAC,CAACC,WAAW,CAAC,CAAC;EACvC,CAAC,CAAC;EAEFN,EAAE,CAAC,mCAAmC,MAAAN,kBAAA,CAAAD,OAAA,EAAE,aAAY;IAClDX,cAAS,CAACyB,iBAAiB,CAAC;MAAEC,IAAI,EAAE;IAAG,CAAC,CAAC;IACzC,MAAM,IAAAC,4CAA8B,EAAC,GAAG,CAAC;IACzCR,MAAM,CAACnB,cAAS,CAAC,CAACoB,oBAAoB,CAAC;MACrCQ,GAAG,EAAEP,oBAAS,CAACC,aAAa,CAACO,gBAAgB,CAAC,GAAG,CAAC;MAClDC,MAAM,EAAE;IACV,CAAC,CAAC;EACJ,CAAC,EAAC;EAEFZ,EAAE,CAAC,iCAAiC,MAAAN,kBAAA,CAAAD,OAAA,EAAE,aAAY;IAChD,IAAMoB,OAAO,GAAG;MAAEC,MAAM,EAAE;IAAK,CAAC;IAChChC,cAAS,CAACyB,iBAAiB,CAAC;MAAEC,IAAI,EAAEK;IAAQ,CAAC,CAAC;IAC9C,MAAM,IAAAE,2CAA6B,EAAC,GAAG,EAAEF,OAAO,CAAC;IACjDZ,MAAM,CAACnB,cAAS,CAAC,CAACoB,oBAAoB,CAAC;MACrCQ,GAAG,EAAEP,oBAAS,CAACC,aAAa,CAACY,eAAe,CAAC,GAAG,CAAC;MACjDJ,MAAM,EAAE,MAAM;MACdK,IAAI,EAAEJ;IACR,CAAC,CAAC;EACJ,CAAC,EAAC;EAEFb,EAAE,CAAC,oCAAoC,MAAAN,kBAAA,CAAAD,OAAA,EAAE,aAAY;IACnDX,cAAS,CAACyB,iBAAiB,CAAC;MAAEC,IAAI,EAAE,CAAC;IAAE,CAAC,CAAC;IACzC,MAAM,IAAAU,8CAAgC,EAAC,GAAG,EAAE,IAAI,CAAC;IACjDjB,MAAM,CAACnB,cAAS,CAAC,CAACoB,oBAAoB,CAAC;MACrCQ,GAAG,EAAEP,oBAAS,CAACC,aAAa,CAACe,kBAAkB,CAAC,GAAG,EAAE,IAAI,CAAC;MAC1DP,MAAM,EAAE;IACV,CAAC,CAAC;EACJ,CAAC,EAAC;EAEFZ,EAAE,CAAC,+BAA+B,MAAAN,kBAAA,CAAAD,OAAA,EAAE,aAAY;IAC9CX,cAAS,CAACyB,iBAAiB,CAAC;MAAEC,IAAI,EAAE;IAAG,CAAC,CAAC;IACzC,MAAM,IAAAY,wCAA0B,EAAC,GAAG,CAAC;IACrCnB,MAAM,CAACnB,cAAS,CAAC,CAACoB,oBAAoB,CAAC;MACrCQ,GAAG,EAAEP,oBAAS,CAACC,aAAa,CAACiB,YAAY,CAAC,GAAG,CAAC;MAC9CT,MAAM,EAAE;IACV,CAAC,CAAC;EACJ,CAAC,EAAC;EAEFZ,EAAE,CAAC,6BAA6B,MAAAN,kBAAA,CAAAD,OAAA,EAAE,aAAY;IAC5C,IAAMoB,OAAO,GAAG;MAAES,IAAI,EAAE;IAAQ,CAAC;IACjCxC,cAAS,CAACyB,iBAAiB,CAAC;MAAEC,IAAI,EAAEK;IAAQ,CAAC,CAAC;IAC9C,MAAM,IAAAU,uCAAyB,EAAC,GAAG,EAAEV,OAAO,CAAC;IAC7CZ,MAAM,CAACnB,cAAS,CAAC,CAACoB,oBAAoB,CAAC;MACrCQ,GAAG,EAAEP,oBAAS,CAACC,aAAa,CAACoB,WAAW,CAAC,GAAG,CAAC;MAC7CZ,MAAM,EAAE,MAAM;MACdK,IAAI,EAAEJ;IACR,CAAC,CAAC;EACJ,CAAC,EAAC;AACJ,CAAC,CAAC","ignoreList":[]}