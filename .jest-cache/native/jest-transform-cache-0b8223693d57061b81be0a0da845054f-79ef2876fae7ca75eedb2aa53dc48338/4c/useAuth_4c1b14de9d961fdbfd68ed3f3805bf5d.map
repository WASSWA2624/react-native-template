{"version":3,"names":["useMemo","useSelector","selectIsAuthenticated","selectUser","cov_1zcoum6aca","s","normalizeRole","role","f","b","String","trim","toLowerCase","normalizeRoles","roles","list","Array","isArray","map","filter","Boolean","useAuth","isAuthenticated","user","userRoles"],"sources":["useAuth.js"],"sourcesContent":["/**\r\n * useAuth Hook\r\n * Provides minimal auth state from Redux for UI guards/navigation.\r\n * File: useAuth.js\r\n */\r\nimport { useMemo } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { selectIsAuthenticated, selectUser } from '@store/selectors';\r\n\r\nconst normalizeRole = (role) => {\r\n  if (!role) return null;\r\n  return String(role).trim().toLowerCase();\r\n};\r\n\r\nconst normalizeRoles = (roles) => {\r\n  if (!roles) return [];\r\n  const list = Array.isArray(roles) ? roles : [roles];\r\n  return list.map(normalizeRole).filter(Boolean);\r\n};\r\n\r\n/**\r\n * useAuth hook\r\n * @returns {Object} auth state and normalized roles\r\n */\r\nconst useAuth = () => {\r\n  const isAuthenticated = useSelector(selectIsAuthenticated);\r\n  const user = useSelector(selectUser);\r\n\r\n  const roles = useMemo(() => {\r\n    const userRoles = user?.roles || user?.role || [];\r\n    return normalizeRoles(userRoles);\r\n  }, [user]);\r\n\r\n  return {\r\n    isAuthenticated: Boolean(isAuthenticated),\r\n    user: user || null,\r\n    roles,\r\n    role: roles[0] || null,\r\n  };\r\n};\r\n\r\nexport default useAuth;\r\n"],"mappings":"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","ignoreList":[]}