71c257719d1b584d92009b6ebdf6bb9d
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = require("react");
var _useI18n2 = _interopRequireDefault(require("./useI18n"));
var _useNetworkBanner2 = _interopRequireDefault(require("./useNetworkBanner"));
var _feature = require("../config/feature.flags");
var _shellBanners = require("../utils/shellBanners");
var useShellBanners = function useShellBanners() {
  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
    maintenanceMode = _ref.maintenanceMode,
    maintenanceMessage = _ref.maintenanceMessage;
  var _useI18n = (0, _useI18n2.default)(),
    t = _useI18n.t;
  var _useNetworkBanner = (0, _useNetworkBanner2.default)(),
    isOffline = _useNetworkBanner.isOffline,
    showOnlineBanner = _useNetworkBanner.showOnlineBanner;
  var isMaintenanceMode = maintenanceMode != null ? maintenanceMode : _feature.MAINTENANCE_MODE;
  var maintenanceText = maintenanceMessage != null ? maintenanceMessage : _feature.MAINTENANCE_MESSAGE;
  return (0, _react.useMemo)(function () {
    var banners = [];
    if (isMaintenanceMode) {
      banners.push({
        id: 'maintenance',
        variant: _shellBanners.BANNER_VARIANTS.MAINTENANCE,
        title: t('shell.banners.maintenance.title'),
        message: maintenanceText || t('shell.banners.maintenance.message'),
        accessibilityLabel: t('shell.banners.maintenance.accessibilityLabel')
      });
    }
    if (isOffline) {
      banners.push({
        id: 'offline',
        variant: _shellBanners.BANNER_VARIANTS.OFFLINE,
        title: t('shell.banners.offline.title'),
        message: t('shell.banners.offline.message'),
        accessibilityLabel: t('shell.banners.offline.accessibilityLabel')
      });
    }
    if (showOnlineBanner) {
      banners.push({
        id: 'online',
        variant: _shellBanners.BANNER_VARIANTS.ONLINE,
        title: t('shell.banners.online.title'),
        message: t('shell.banners.online.message'),
        accessibilityLabel: t('shell.banners.online.accessibilityLabel')
      });
    }
    return banners;
  }, [isMaintenanceMode, isOffline, maintenanceText, showOnlineBanner, t]);
};
var _default = exports.default = useShellBanners;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX3VzZUkxOG4yIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl91c2VOZXR3b3JrQmFubmVyMiIsIl9mZWF0dXJlIiwiX3NoZWxsQmFubmVycyIsInVzZVNoZWxsQmFubmVycyIsIl9yZWYiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJtYWludGVuYW5jZU1vZGUiLCJtYWludGVuYW5jZU1lc3NhZ2UiLCJfdXNlSTE4biIsInVzZUkxOG4iLCJ0IiwiX3VzZU5ldHdvcmtCYW5uZXIiLCJ1c2VOZXR3b3JrQmFubmVyIiwiaXNPZmZsaW5lIiwic2hvd09ubGluZUJhbm5lciIsImlzTWFpbnRlbmFuY2VNb2RlIiwiTUFJTlRFTkFOQ0VfTU9ERSIsIm1haW50ZW5hbmNlVGV4dCIsIk1BSU5URU5BTkNFX01FU1NBR0UiLCJ1c2VNZW1vIiwiYmFubmVycyIsInB1c2giLCJpZCIsInZhcmlhbnQiLCJCQU5ORVJfVkFSSUFOVFMiLCJNQUlOVEVOQU5DRSIsInRpdGxlIiwibWVzc2FnZSIsImFjY2Vzc2liaWxpdHlMYWJlbCIsIk9GRkxJTkUiLCJPTkxJTkUiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJkZWZhdWx0Il0sInNvdXJjZXMiOlsidXNlU2hlbGxCYW5uZXJzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiB1c2VTaGVsbEJhbm5lcnMgSG9va1xyXG4gKiBQcm9kdWNlcyBiYW5uZXIgZGF0YSBmb3IgZ2xvYmFsIHNoZWxsIHN0YXR1cyBtZXNzYWdpbmcuXHJcbiAqIEZpbGU6IHVzZVNoZWxsQmFubmVycy5qc1xyXG4gKi9cclxuaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHVzZUkxOG4gZnJvbSAnQGhvb2tzL3VzZUkxOG4nO1xyXG5pbXBvcnQgdXNlTmV0d29ya0Jhbm5lciBmcm9tICdAaG9va3MvdXNlTmV0d29ya0Jhbm5lcic7XHJcbmltcG9ydCB7IE1BSU5URU5BTkNFX01FU1NBR0UsIE1BSU5URU5BTkNFX01PREUgfSBmcm9tICdAY29uZmlnL2ZlYXR1cmUuZmxhZ3MnO1xyXG5pbXBvcnQgeyBCQU5ORVJfVkFSSUFOVFMgfSBmcm9tICdAdXRpbHMvc2hlbGxCYW5uZXJzJztcclxuXHJcbmNvbnN0IHVzZVNoZWxsQmFubmVycyA9ICh7IG1haW50ZW5hbmNlTW9kZSwgbWFpbnRlbmFuY2VNZXNzYWdlIH0gPSB7fSkgPT4ge1xyXG4gIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xyXG4gIGNvbnN0IHsgaXNPZmZsaW5lLCBzaG93T25saW5lQmFubmVyIH0gPSB1c2VOZXR3b3JrQmFubmVyKCk7XHJcbiAgY29uc3QgaXNNYWludGVuYW5jZU1vZGUgPSBtYWludGVuYW5jZU1vZGUgPz8gTUFJTlRFTkFOQ0VfTU9ERTtcclxuICBjb25zdCBtYWludGVuYW5jZVRleHQgPSBtYWludGVuYW5jZU1lc3NhZ2UgPz8gTUFJTlRFTkFOQ0VfTUVTU0FHRTtcclxuXHJcbiAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgY29uc3QgYmFubmVycyA9IFtdO1xyXG5cclxuICAgIGlmIChpc01haW50ZW5hbmNlTW9kZSkge1xyXG4gICAgICBiYW5uZXJzLnB1c2goe1xyXG4gICAgICAgIGlkOiAnbWFpbnRlbmFuY2UnLFxyXG4gICAgICAgIHZhcmlhbnQ6IEJBTk5FUl9WQVJJQU5UUy5NQUlOVEVOQU5DRSxcclxuICAgICAgICB0aXRsZTogdCgnc2hlbGwuYmFubmVycy5tYWludGVuYW5jZS50aXRsZScpLFxyXG4gICAgICAgIG1lc3NhZ2U6IG1haW50ZW5hbmNlVGV4dCB8fCB0KCdzaGVsbC5iYW5uZXJzLm1haW50ZW5hbmNlLm1lc3NhZ2UnKSxcclxuICAgICAgICBhY2Nlc3NpYmlsaXR5TGFiZWw6IHQoJ3NoZWxsLmJhbm5lcnMubWFpbnRlbmFuY2UuYWNjZXNzaWJpbGl0eUxhYmVsJyksXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc09mZmxpbmUpIHtcclxuICAgICAgYmFubmVycy5wdXNoKHtcclxuICAgICAgICBpZDogJ29mZmxpbmUnLFxyXG4gICAgICAgIHZhcmlhbnQ6IEJBTk5FUl9WQVJJQU5UUy5PRkZMSU5FLFxyXG4gICAgICAgIHRpdGxlOiB0KCdzaGVsbC5iYW5uZXJzLm9mZmxpbmUudGl0bGUnKSxcclxuICAgICAgICBtZXNzYWdlOiB0KCdzaGVsbC5iYW5uZXJzLm9mZmxpbmUubWVzc2FnZScpLFxyXG4gICAgICAgIGFjY2Vzc2liaWxpdHlMYWJlbDogdCgnc2hlbGwuYmFubmVycy5vZmZsaW5lLmFjY2Vzc2liaWxpdHlMYWJlbCcpLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc2hvd09ubGluZUJhbm5lcikge1xyXG4gICAgICBiYW5uZXJzLnB1c2goe1xyXG4gICAgICAgIGlkOiAnb25saW5lJyxcclxuICAgICAgICB2YXJpYW50OiBCQU5ORVJfVkFSSUFOVFMuT05MSU5FLFxyXG4gICAgICAgIHRpdGxlOiB0KCdzaGVsbC5iYW5uZXJzLm9ubGluZS50aXRsZScpLFxyXG4gICAgICAgIG1lc3NhZ2U6IHQoJ3NoZWxsLmJhbm5lcnMub25saW5lLm1lc3NhZ2UnKSxcclxuICAgICAgICBhY2Nlc3NpYmlsaXR5TGFiZWw6IHQoJ3NoZWxsLmJhbm5lcnMub25saW5lLmFjY2Vzc2liaWxpdHlMYWJlbCcpLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYmFubmVycztcclxuICB9LCBbaXNNYWludGVuYW5jZU1vZGUsIGlzT2ZmbGluZSwgbWFpbnRlbmFuY2VUZXh0LCBzaG93T25saW5lQmFubmVyLCB0XSk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB1c2VTaGVsbEJhbm5lcnM7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFLQSxJQUFBQSxNQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxTQUFBLEdBQUFDLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBRyxrQkFBQSxHQUFB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