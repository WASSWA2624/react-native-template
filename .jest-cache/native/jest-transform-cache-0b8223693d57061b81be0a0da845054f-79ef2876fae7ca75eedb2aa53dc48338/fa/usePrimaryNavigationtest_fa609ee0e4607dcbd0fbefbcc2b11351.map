{"version":3,"names":["_react","_interopRequireDefault","require","_reactRedux","_toolkit","_reactNative","_rootReducer","_usePrimaryNavigation","_jsxRuntime","TestComponent","_ref","onResult","result","usePrimaryNavigation","React","useEffect","createStore","preloadedState","arguments","length","undefined","configureStore","reducer","rootReducer","Object","assign","ui","theme","locale","isLoading","isAuthenticated","user","network","isOnline","describe","it","store","role","render","jsx","Provider","children","value","expect","mainItems","toBeGreaterThan","patientItems","label","toBeDefined","patientItem","roles","staffItem","isItemVisible","toBe"],"sources":["usePrimaryNavigation.test.js"],"sourcesContent":["/**\r\n * usePrimaryNavigation Hook Tests\r\n * File: usePrimaryNavigation.test.js\r\n */\r\nimport React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { configureStore } from '@reduxjs/toolkit';\r\nimport { render } from '@testing-library/react-native';\r\nimport rootReducer from '@store/rootReducer';\r\nimport usePrimaryNavigation from '@hooks/usePrimaryNavigation';\r\n\r\nconst TestComponent = ({ onResult }) => {\r\n  const result = usePrimaryNavigation();\r\n  React.useEffect(() => {\r\n    onResult(result);\r\n  }, [onResult, result]);\r\n  return null;\r\n};\r\n\r\nconst createStore = (preloadedState = {}) =>\r\n  configureStore({\r\n    reducer: rootReducer,\r\n    preloadedState: {\r\n      ui: {\r\n        theme: 'light',\r\n        locale: 'en',\r\n        isLoading: false,\r\n        isAuthenticated: false,\r\n        user: null,\r\n      },\r\n      network: {\r\n        isOnline: true,\r\n      },\r\n      ...preloadedState,\r\n    },\r\n  });\r\n\r\ndescribe('usePrimaryNavigation', () => {\r\n  it('builds main and patient items with labels', () => {\r\n    const store = createStore({\r\n      ui: {\r\n        theme: 'light',\r\n        locale: 'en',\r\n        isLoading: false,\r\n        isAuthenticated: true,\r\n        user: { role: 'patient' },\r\n      },\r\n    });\r\n    let result;\r\n    render(\r\n      <Provider store={store}>\r\n        <TestComponent onResult={(value) => (result = value)} />\r\n      </Provider>\r\n    );\r\n    expect(result.mainItems.length).toBeGreaterThan(0);\r\n    expect(result.patientItems.length).toBeGreaterThan(0);\r\n    expect(result.mainItems[0].label).toBeDefined();\r\n    expect(result.patientItems[0].label).toBeDefined();\r\n  });\r\n\r\n  it('filters items by role using isItemVisible', () => {\r\n    const store = createStore({\r\n      ui: {\r\n        theme: 'light',\r\n        locale: 'en',\r\n        isLoading: false,\r\n        isAuthenticated: true,\r\n        user: { role: 'patient' },\r\n      },\r\n    });\r\n    let result;\r\n    render(\r\n      <Provider store={store}>\r\n        <TestComponent onResult={(value) => (result = value)} />\r\n      </Provider>\r\n    );\r\n    const patientItem = { roles: ['patient'] };\r\n    const staffItem = { roles: ['admin'] };\r\n    expect(result.isItemVisible(patientItem)).toBe(true);\r\n    expect(result.isItemVisible(staffItem)).toBe(false);\r\n  });\r\n\r\n  it('hides role-scoped items when unauthenticated', () => {\r\n    const store = createStore();\r\n    let result;\r\n    render(\r\n      <Provider store={store}>\r\n        <TestComponent onResult={(value) => (result = value)} />\r\n      </Provider>\r\n    );\r\n    expect(result.isItemVisible({ roles: ['patient'] })).toBe(false);\r\n  });\r\n});\r\n"],"mappings":"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","ignoreList":[]}