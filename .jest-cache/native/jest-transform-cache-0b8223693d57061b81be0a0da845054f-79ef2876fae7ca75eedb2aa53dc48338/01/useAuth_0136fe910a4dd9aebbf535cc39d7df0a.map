{"version":3,"names":["_react","require","_reactRedux","_selectors","normalizeRole","role","String","trim","toLowerCase","normalizeRoles","roles","list","Array","isArray","map","filter","Boolean","useAuth","isAuthenticated","useSelector","selectIsAuthenticated","user","selectUser","useMemo","userRoles","_default","exports","default"],"sources":["useAuth.js"],"sourcesContent":["/**\r\n * useAuth Hook\r\n * Provides minimal auth state from Redux for UI guards/navigation.\r\n * File: useAuth.js\r\n */\r\nimport { useMemo } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { selectIsAuthenticated, selectUser } from '@store/selectors';\r\n\r\nconst normalizeRole = (role) => {\r\n  if (!role) return null;\r\n  return String(role).trim().toLowerCase();\r\n};\r\n\r\nconst normalizeRoles = (roles) => {\r\n  if (!roles) return [];\r\n  const list = Array.isArray(roles) ? roles : [roles];\r\n  return list.map(normalizeRole).filter(Boolean);\r\n};\r\n\r\n/**\r\n * useAuth hook\r\n * @returns {Object} auth state and normalized roles\r\n */\r\nconst useAuth = () => {\r\n  const isAuthenticated = useSelector(selectIsAuthenticated);\r\n  const user = useSelector(selectUser);\r\n\r\n  const roles = useMemo(() => {\r\n    const userRoles = user?.roles || user?.role || [];\r\n    return normalizeRoles(userRoles);\r\n  }, [user]);\r\n\r\n  return {\r\n    isAuthenticated: Boolean(isAuthenticated),\r\n    user: user || null,\r\n    roles,\r\n    role: roles[0] || null,\r\n  };\r\n};\r\n\r\nexport default useAuth;\r\n"],"mappings":";;;;AAKA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,WAAA,GAAAD,OAAA;AACA,IAAAE,UAAA,GAAAF,OAAA;AAEA,IAAMG,aAAa,GAAG,SAAhBA,aAAaA,CAAIC,IAAI,EAAK;EAC9B,IAAI,CAACA,IAAI,EAAE,OAAO,IAAI;EACtB,OAAOC,MAAM,CAACD,IAAI,CAAC,CAACE,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;AAC1C,CAAC;AAED,IAAMC,cAAc,GAAG,SAAjBA,cAAcA,CAAIC,KAAK,EAAK;EAChC,IAAI,CAACA,KAAK,EAAE,OAAO,EAAE;EACrB,IAAMC,IAAI,GAAGC,KAAK,CAACC,OAAO,CAACH,KAAK,CAAC,GAAGA,KAAK,GAAG,CAACA,KAAK,CAAC;EACnD,OAAOC,IAAI,CAACG,GAAG,CAACV,aAAa,CAAC,CAACW,MAAM,CAACC,OAAO,CAAC;AAChD,CAAC;AAMD,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAA,EAAS;EACpB,IAAMC,eAAe,GAAG,IAAAC,uBAAW,EAACC,gCAAqB,CAAC;EAC1D,IAAMC,IAAI,GAAG,IAAAF,uBAAW,EAACG,qBAAU,CAAC;EAEpC,IAAMZ,KAAK,GAAG,IAAAa,cAAO,EAAC,YAAM;IAC1B,IAAMC,SAAS,GAAG,CAAAH,IAAI,oBAAJA,IAAI,CAAEX,KAAK,MAAIW,IAAI,oBAAJA,IAAI,CAAEhB,IAAI,KAAI,EAAE;IACjD,OAAOI,cAAc,CAACe,SAAS,CAAC;EAClC,CAAC,EAAE,CAACH,IAAI,CAAC,CAAC;EAEV,OAAO;IACLH,eAAe,EAAEF,OAAO,CAACE,eAAe,CAAC;IACzCG,IAAI,EAAEA,IAAI,IAAI,IAAI;IAClBX,KAAK,EAALA,KAAK;IACLL,IAAI,EAAEK,KAAK,CAAC,CAAC,CAAC,IAAI;EACpB,CAAC;AACH,CAAC;AAAC,IAAAe,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEaV,OAAO","ignoreList":[]}