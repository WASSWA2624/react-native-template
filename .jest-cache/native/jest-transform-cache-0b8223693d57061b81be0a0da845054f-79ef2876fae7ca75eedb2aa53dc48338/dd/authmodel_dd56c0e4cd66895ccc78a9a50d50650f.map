{"version":3,"names":["normalizeAuthUser","value","cov_4que6izy7","f","s","b","_ref","_ref$id","id","rest","_objectWithoutProperties","_excluded","Object","assign","normalizeAuthTokens","accessToken","access_token","refreshToken","refresh_token","normalizeAuthResponse","console","log","JSON","stringify","user","tokens","userSource","profile","tokensSource","hasAccessToken","Boolean","hasRefreshToken","result","hasUser","hasTokens"],"sources":["auth.model.js"],"sourcesContent":["/**\r\n * Auth Model\r\n * Normalizes auth responses\r\n * File: auth.model.js\r\n */\r\n\r\nconst normalizeAuthUser = (value) => {\r\n  if (!value || typeof value !== 'object') return null;\r\n  const { id = null, ...rest } = value;\r\n  return { id, ...rest };\r\n};\r\n\r\nconst normalizeAuthTokens = (value) => {\r\n  if (!value || typeof value !== 'object') return null;\r\n  const accessToken = value.accessToken || value.access_token || null;\r\n  const refreshToken = value.refreshToken || value.refresh_token || null;\r\n  if (!accessToken && !refreshToken) return null;\r\n  return { accessToken, refreshToken };\r\n};\r\n\r\nconst normalizeAuthResponse = (value) => {\r\n  console.log('[NORMALIZE_AUTH] Input value:', JSON.stringify(value, null, 2));\r\n  if (!value || typeof value !== 'object') {\r\n    console.log('[NORMALIZE_AUTH] Invalid input, returning null');\r\n    return { user: null, tokens: null };\r\n  }\r\n  const userSource = value.user || value.profile || value;\r\n  console.log('[NORMALIZE_AUTH] User source:', JSON.stringify(userSource, null, 2));\r\n  const user = normalizeAuthUser(userSource);\r\n  console.log('[NORMALIZE_AUTH] Normalized user:', JSON.stringify(user, null, 2));\r\n  \r\n  const tokensSource = value.tokens || value;\r\n  console.log('[NORMALIZE_AUTH] Tokens source:', tokensSource ? { hasAccessToken: Boolean(tokensSource.accessToken || tokensSource.access_token), hasRefreshToken: Boolean(tokensSource.refreshToken || tokensSource.refresh_token) } : null);\r\n  const tokens = normalizeAuthTokens(tokensSource);\r\n  console.log('[NORMALIZE_AUTH] Normalized tokens:', tokens ? { hasAccessToken: Boolean(tokens.accessToken), hasRefreshToken: Boolean(tokens.refreshToken) } : null);\r\n  \r\n  const result = { user, tokens };\r\n  console.log('[NORMALIZE_AUTH] Final result:', { hasUser: Boolean(user), hasTokens: Boolean(tokens) });\r\n  return result;\r\n};\r\n\r\nexport { normalizeAuthUser, normalizeAuthTokens, normalizeAuthResponse };\r\n"],"mappings":"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","ignoreList":[]}