{"version":3,"names":["useState","useRef","useCallback","useEffect","cov_1mwzafifm6","s","useSnackbar","_ref","arguments","length","undefined","b","_ref$duration","duration","onDismiss","f","_ref2","_ref3","_slicedToArray","visible","setVisible","timeoutRef","hasCalledOnDismissRef","hide","prevVisible","current","clearTimeout","show","setTimeout"],"sources":["useSnackbar.js"],"sourcesContent":["/**\r\n * Snackbar Hook\r\n * Manages snackbar visibility and auto-dismiss\r\n * File: useSnackbar.js\r\n */\r\n\r\nimport { useState, useRef, useCallback, useEffect } from 'react';\r\n\r\n/**\r\n * Hook for managing snackbar state\r\n * @param {number} duration - Auto-dismiss duration in ms (default: 4000)\r\n * @param {Function} onDismiss - Callback when snackbar is dismissed\r\n */\r\nconst useSnackbar = ({ duration = 4000, onDismiss } = {}) => {\r\n  const [visible, setVisible] = useState(false);\r\n  const timeoutRef = useRef(null);\r\n  const hasCalledOnDismissRef = useRef(false);\r\n\r\n  const hide = useCallback(() => {\r\n    setVisible((prevVisible) => {\r\n      // Call onDismiss only when transitioning from visible to hidden, or if it hasn't been called yet\r\n      if (!hasCalledOnDismissRef.current && onDismiss) {\r\n        hasCalledOnDismissRef.current = true;\r\n        onDismiss();\r\n      }\r\n      return false;\r\n    });\r\n    if (timeoutRef.current) {\r\n      clearTimeout(timeoutRef.current);\r\n      timeoutRef.current = null;\r\n    }\r\n  }, [onDismiss]);\r\n\r\n  const show = useCallback(() => {\r\n    setVisible(true);\r\n    // Reset the onDismiss flag when showing\r\n    hasCalledOnDismissRef.current = false;\r\n    if (timeoutRef.current) {\r\n      clearTimeout(timeoutRef.current);\r\n    }\r\n    timeoutRef.current = setTimeout(() => {\r\n      hide();\r\n    }, duration);\r\n  }, [duration, hide]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (timeoutRef.current) {\r\n        clearTimeout(timeoutRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Reset onDismiss flag when onDismiss changes\r\n  useEffect(() => {\r\n    hasCalledOnDismissRef.current = false;\r\n  }, [onDismiss]);\r\n\r\n  return {\r\n    visible,\r\n    show,\r\n    hide,\r\n  };\r\n};\r\n\r\nexport default useSnackbar;\r\n\r\n"],"mappings":"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","ignoreList":[]}