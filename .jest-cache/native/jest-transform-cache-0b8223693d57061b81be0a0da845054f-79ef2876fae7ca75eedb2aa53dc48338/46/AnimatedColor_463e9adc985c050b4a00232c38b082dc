3a8ec8407d10f17f2d5e90c4e00fb2b4
'use strict';

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard").default;
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _callSuper2 = _interopRequireDefault(require("@babel/runtime/helpers/callSuper"));
var _superPropGet2 = _interopRequireDefault(require("@babel/runtime/helpers/superPropGet"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _NativeAnimatedHelper = _interopRequireDefault(require("../../../src/private/animated/NativeAnimatedHelper"));
var _normalizeColor = _interopRequireDefault(require("../../StyleSheet/normalizeColor"));
var _PlatformColorValueTypes = require("../../StyleSheet/PlatformColorValueTypes");
var _AnimatedValue = _interopRequireWildcard(require("./AnimatedValue"));
var _AnimatedWithChildren2 = _interopRequireDefault(require("./AnimatedWithChildren"));
var NativeAnimatedAPI = _NativeAnimatedHelper.default.API;
var defaultColor = {
  r: 0,
  g: 0,
  b: 0,
  a: 1.0
};
function processColor(color) {
  if (color === undefined || color === null) {
    return null;
  }
  if (isRgbaValue(color)) {
    return color;
  }
  var normalizedColor = (0, _normalizeColor.default)(color);
  if (normalizedColor === undefined || normalizedColor === null) {
    return null;
  }
  if (typeof normalizedColor === 'object') {
    var processedColorObj = (0, _PlatformColorValueTypes.processColorObject)(normalizedColor);
    if (processedColorObj != null) {
      return processedColorObj;
    }
  } else if (typeof normalizedColor === 'number') {
    var r = (normalizedColor & 0xff000000) >>> 24;
    var g = (normalizedColor & 0x00ff0000) >>> 16;
    var b = (normalizedColor & 0x0000ff00) >>> 8;
    var a = (normalizedColor & 0x000000ff) / 255;
    return {
      r: r,
      g: g,
      b: b,
      a: a
    };
  }
  return null;
}
function isRgbaValue(value) {
  return value && typeof value.r === 'number' && typeof value.g === 'number' && typeof value.b === 'number' && typeof value.a === 'number';
}
function isRgbaAnimatedValue(value) {
  return value && value.r instanceof _AnimatedValue.default && value.g instanceof _AnimatedValue.default && value.b instanceof _AnimatedValue.default && value.a instanceof _AnimatedValue.default;
}
var AnimatedColor = exports.default = function (_AnimatedWithChildren) {
  function AnimatedColor(valueIn, config) {
    var _this;
    (0, _classCallCheck2.default)(this, AnimatedColor);
    _this = (0, _callSuper2.default)(this, AnimatedColor, [config]);
    _this._suspendCallbacks = 0;
    var value = valueIn != null ? valueIn : defaultColor;
    if (isRgbaAnimatedValue(value)) {
      var rgbaAnimatedValue = value;
      _this.r = rgbaAnimatedValue.r;
      _this.g = rgbaAnimatedValue.g;
      _this.b = rgbaAnimatedValue.b;
      _this.a = rgbaAnimatedValue.a;
    } else {
      var _processColor;
      var processedColor = (_processColor = processColor(value)) != null ? _processColor : defaultColor;
      var initColor = defaultColor;
      if (isRgbaValue(processedColor)) {
        initColor = processedColor;
      } else {
        _this.nativeColor = processedColor;
      }
      _this.r = new _AnimatedValue.default(initColor.r);
      _this.g = new _AnimatedValue.default(initColor.g);
      _this.b = new _AnimatedValue.default(initColor.b);
      _this.a = new _AnimatedValue.default(initColor.a);
    }
    if (config != null && config.useNativeDriver) {
      _this.__makeNative();
    }
    return _this;
  }
  (0, _inherits2.default)(AnimatedColor, _AnimatedWithChildren);
  return (0, _createClass2.default)(AnimatedColor, [{
    key: "setValue",
    value: function setValue(value) {
      var _processColor2,
        _this2 = this;
      var shouldUpdateNodeConfig = false;
      if (this.__isNative) {
        var nativeTag = this.__getNativeTag();
        NativeAnimatedAPI.setWaitingForIdentifier(nativeTag.toString());
      }
      var processedColor = (_processColor2 = processColor(value)) != null ? _processColor2 : defaultColor;
      this._withSuspendedCallbacks(function () {
        if (isRgbaValue(processedColor)) {
          var rgbaValue = processedColor;
          _this2.r.setValue(rgbaValue.r);
          _this2.g.setValue(rgbaValue.g);
          _this2.b.setValue(rgbaValue.b);
          _this2.a.setValue(rgbaValue.a);
          if (_this2.nativeColor != null) {
            _this2.nativeColor = null;
            shouldUpdateNodeConfig = true;
          }
        } else {
          var nativeColor = processedColor;
          if (_this2.nativeColor !== nativeColor) {
            _this2.nativeColor = nativeColor;
            shouldUpdateNodeConfig = true;
          }
        }
      });
      if (this.__isNative) {
        var _nativeTag = this.__getNativeTag();
        if (shouldUpdateNodeConfig) {
          NativeAnimatedAPI.updateAnimatedNodeConfig(_nativeTag, this.__getNativeConfig());
        }
        NativeAnimatedAPI.unsetWaitingForIdentifier(_nativeTag.toString());
      } else {
        (0, _AnimatedValue.flushValue)(this);
      }
      this.__callListeners(this.__getValue());
    }
  }, {
    key: "setOffset",
    value: function setOffset(offset) {
      this.r.setOffset(offset.r);
      this.g.setOffset(offset.g);
      this.b.setOffset(offset.b);
      this.a.setOffset(offset.a);
    }
  }, {
    key: "flattenOffset",
    value: function flattenOffset() {
      this.r.flattenOffset();
      this.g.flattenOffset();
      this.b.flattenOffset();
      this.a.flattenOffset();
    }
  }, {
    key: "extractOffset",
    value: function extractOffset() {
      this.r.extractOffset();
      this.g.extractOffset();
      this.b.extractOffset();
      this.a.extractOffset();
    }
  }, {
    key: "stopAnimation",
    value: function stopAnimation(callback) {
      this.r.stopAnimation();
      this.g.stopAnimation();
      this.b.stopAnimation();
      this.a.stopAnimation();
      callback && callback(this.__getValue());
    }
  }, {
    key: "resetAnimation",
    value: function resetAnimation(callback) {
      this.r.resetAnimation();
      this.g.resetAnimation();
      this.b.resetAnimation();
      this.a.resetAnimation();
      callback && callback(this.__getValue());
    }
  }, {
    key: "__getValue",
    value: function __getValue() {
      if (this.nativeColor != null) {
        return this.nativeColor;
      } else {
        return `rgba(${this.r.__getValue()}, ${this.g.__getValue()}, ${this.b.__getValue()}, ${this.a.__getValue()})`;
      }
    }
  }, {
    key: "__attach",
    value: function __attach() {
      this.r.__addChild(this);
      this.g.__addChild(this);
      this.b.__addChild(this);
      this.a.__addChild(this);
      (0, _superPropGet2.default)(AnimatedColor, "__attach", this, 3)([]);
    }
  }, {
    key: "__detach",
    value: function __detach() {
      this.r.__removeChild(this);
      this.g.__removeChild(this);
      this.b.__removeChild(this);
      this.a.__removeChild(this);
      (0, _superPropGet2.default)(AnimatedColor, "__detach", this, 3)([]);
    }
  }, {
    key: "_withSuspendedCallbacks",
    value: function _withSuspendedCallbacks(callback) {
      this._suspendCallbacks++;
      callback();
      this._suspendCallbacks--;
    }
  }, {
    key: "__callListeners",
    value: function __callListeners(value) {
      if (this._suspendCallbacks === 0) {
        (0, _superPropGet2.default)(AnimatedColor, "__callListeners", this, 3)([value]);
      }
    }
  }, {
    key: "__makeNative",
    value: function __makeNative(platformConfig) {
      this.r.__makeNative(platformConfig);
      this.g.__makeNative(platformConfig);
      this.b.__makeNative(platformConfig);
      this.a.__makeNative(platformConfig);
      (0, _superPropGet2.default)(AnimatedColor, "__makeNative", this, 3)([platformConfig]);
    }
  }, {
    key: "__getNativeConfig",
    value: function __getNativeConfig() {
      return {
        type: 'color',
        r: this.r.__getNativeTag(),
        g: this.g.__getNativeTag(),
        b: this.b.__getNativeTag(),
        a: this.a.__getNativeTag(),
        nativeColor: this.nativeColor,
        debugID: this.__getDebugID()
      };
    }
  }]);
}(_AnimatedWithChildren2.default);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJkZWZhdWx0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiX2NsYXNzQ2FsbENoZWNrMiIsIl9jcmVhdGVDbGFzczIiLCJfY2FsbFN1cGVyMiIsIl9zdXBlclByb3BHZXQyIiwiX2luaGVyaXRzMiIsIl9OYXRpdmVBbmltYXRlZEhlbHBlciIsIl9ub3JtYWxpemVDb2xvciIsIl9QbGF0Zm9ybUNvbG9yVmFsdWVUeXBlcyIsIl9BbmltYXRlZFZhbHVlIiwiX0FuaW1hdGVkV2l0aENoaWxkcmVuMiIsIk5hdGl2ZUFuaW1hdGVkQVBJIiwiTmF0aXZlQW5pbWF0ZWRIZWxwZXIiLCJBUEkiLCJkZWZhdWx0Q29sb3IiLCJyIiwiZyIsImIiLCJhIiwicHJvY2Vzc0NvbG9yIiwiY29sb3IiLCJ1bmRlZmluZWQiLCJpc1JnYmFWYWx1ZSIsIm5vcm1hbGl6ZWRDb2xvciIsIm5vcm1hbGl6ZUNvbG9yIiwicHJvY2Vzc2VkQ29sb3JPYmoiLCJwcm9jZXNzQ29sb3JPYmplY3QiLCJpc1JnYmFBbmltYXRlZFZhbHVlIiwiQW5pbWF0ZWRWYWx1ZSIsIkFuaW1hdGVkQ29sb3IiLCJfQW5pbWF0ZWRXaXRoQ2hpbGRyZW4iLCJ2YWx1ZUluIiwiY29uZmlnIiwiX3RoaXMiLCJfc3VzcGVuZENhbGxiYWNrcyIsInJnYmFBbmltYXRlZFZhbHVlIiwiX3Byb2Nlc3NDb2xvciIsInByb2Nlc3NlZENvbG9yIiwiaW5pdENvbG9yIiwibmF0aXZlQ29sb3IiLCJ1c2VOYXRpdmVEcml2ZXIiLCJfX21ha2VOYXRpdmUiLCJrZXkiLCJzZXRWYWx1ZSIsIl9wcm9jZXNzQ29sb3IyIiwiX3RoaXMyIiwic2hvdWxkVXBkYXRlTm9kZUNvbmZpZyIsIl9faXNOYXRpdmUiLCJuYXRpdmVUYWciLCJfX2dldE5hdGl2ZVRhZyIsInNldFdhaXRpbmdGb3JJZGVudGlmaWVyIiwidG9TdHJpbmciLCJfd2l0aFN1c3BlbmRlZENhbGxiYWNrcyIsInJnYmFWYWx1ZSIsInVwZGF0ZUFuaW1hdGVkTm9kZUNvbmZpZyIsIl9fZ2V0TmF0aXZlQ29uZmlnIiwidW5zZXRXYWl0aW5nRm9ySWRlbnRpZmllciIsImZsdXNoVmFsdWUiLCJfX2NhbGxMaXN0ZW5lcnMiLCJfX2dldFZhbHVlIiwic2V0T2Zmc2V0Iiwib2Zmc2V0IiwiZmxhdHRlbk9mZnNldCIsImV4dHJhY3RPZmZzZXQiLCJzdG9wQW5pbWF0aW9uIiwiY2FsbGJhY2siLCJyZXNldEFuaW1hdGlvbiIsIl9fYXR0YWNoIiwiX19hZGRDaGlsZCIsIl9fZGV0YWNoIiwiX19yZW1vdmVDaGlsZCIsInBsYXRmb3JtQ29uZmlnIiwidHlwZSIsImRlYnVnSUQiLCJfX2dldERlYnVnSUQiLCJBbmltYXRlZFdpdGhDaGlsZHJlbiJdLCJzb3VyY2VzIjpbIkFuaW1hdGVkQ29sb3IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmbG93XG4gKiBAZm9ybWF0XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdHlwZSB7UHJvY2Vzc2VkQ29sb3JWYWx1ZX0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9wcm9jZXNzQ29sb3InO1xuaW1wb3J0IHR5cGUge0NvbG9yVmFsdWV9IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCc7XG5pbXBvcnQgdHlwZSB7TmF0aXZlQ29sb3JWYWx1ZX0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9TdHlsZVNoZWV0VHlwZXMnO1xuaW1wb3J0IHR5cGUge1BsYXRmb3JtQ29uZmlnfSBmcm9tICcuLi9BbmltYXRlZFBsYXRmb3JtQ29uZmlnJztcbmltcG9ydCB0eXBlIHtBbmltYXRlZE5vZGVDb25maWd9IGZyb20gJy4vQW5pbWF0ZWROb2RlJztcblxuaW1wb3J0IE5hdGl2ZUFuaW1hdGVkSGVscGVyIGZyb20gJy4uLy4uLy4uL3NyYy9wcml2YXRlL2FuaW1hdGVkL05hdGl2ZUFuaW1hdGVkSGVscGVyJztcbmltcG9ydCBub3JtYWxpemVDb2xvciBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L25vcm1hbGl6ZUNvbG9yJztcbmltcG9ydCB7cHJvY2Vzc0NvbG9yT2JqZWN0fSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L1BsYXRmb3JtQ29sb3JWYWx1ZVR5cGVzJztcbmltcG9ydCBBbmltYXRlZFZhbHVlLCB7Zmx1c2hWYWx1ZX0gZnJvbSAnLi9BbmltYXRlZFZhbHVlJztcbmltcG9ydCBBbmltYXRlZFdpdGhDaGlsZHJlbiBmcm9tICcuL0FuaW1hdGVkV2l0aENoaWxkcmVuJztcblxuZXhwb3J0IHR5cGUgQW5pbWF0ZWRDb2xvckNvbmZpZyA9ICRSZWFkT25seTx7XG4gIC4uLkFuaW1hdGVkTm9kZUNvbmZpZyxcbiAgdXNlTmF0aXZlRHJpdmVyOiBib29sZWFuLFxufT47XG5cbnR5cGUgQ29sb3JMaXN0ZW5lckNhbGxiYWNrID0gKHZhbHVlOiBDb2xvclZhbHVlKSA9PiBtaXhlZDtcblxuZXhwb3J0IHR5cGUgUmdiYVZhbHVlID0ge1xuICArcjogbnVtYmVyLFxuICArZzogbnVtYmVyLFxuICArYjogbnVtYmVyLFxuICArYTogbnVtYmVyLFxuICAuLi5cbn07XG5cbnR5cGUgUmdiYUFuaW1hdGVkVmFsdWUgPSB7XG4gICtyOiBBbmltYXRlZFZhbHVlLFxuICArZzogQW5pbWF0ZWRWYWx1ZSxcbiAgK2I6IEFuaW1hdGVkVmFsdWUsXG4gICthOiBBbmltYXRlZFZhbHVlLFxuICAuLi5cbn07XG5cbmV4cG9ydCB0eXBlIElucHV0VmFsdWUgPSA/KFJnYmFWYWx1ZSB8IFJnYmFBbmltYXRlZFZhbHVlIHwgQ29sb3JWYWx1ZSk7XG5cbmNvbnN0IE5hdGl2ZUFuaW1hdGVkQVBJID0gTmF0aXZlQW5pbWF0ZWRIZWxwZXIuQVBJO1xuXG5jb25zdCBkZWZhdWx0Q29sb3I6IFJnYmFWYWx1ZSA9IHtyOiAwLCBnOiAwLCBiOiAwLCBhOiAxLjB9O1xuXG4vKiBlc2xpbnQgbm8tYml0d2lzZTogMCAqL1xuZnVuY3Rpb24gcHJvY2Vzc0NvbG9yKFxuICBjb2xvcj86ID8oQ29sb3JWYWx1ZSB8IFJnYmFWYWx1ZSksXG4pOiA/KFJnYmFWYWx1ZSB8IE5hdGl2ZUNvbG9yVmFsdWUpIHtcbiAgaWYgKGNvbG9yID09PSB1bmRlZmluZWQgfHwgY29sb3IgPT09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmIChpc1JnYmFWYWx1ZShjb2xvcikpIHtcbiAgICAvLyAkRmxvd0lnbm9yZVtpbmNvbXBhdGlibGUtY2FzdF0gLSBUeXBlIGlzIHZlcmlmaWVkIGFib3ZlXG4gICAgcmV0dXJuIChjb2xvcjogUmdiYVZhbHVlKTtcbiAgfVxuXG4gIGxldCBub3JtYWxpemVkQ29sb3I6ID9Qcm9jZXNzZWRDb2xvclZhbHVlID0gbm9ybWFsaXplQ29sb3IoXG4gICAgLy8gJEZsb3dJZ25vcmVbaW5jb21wYXRpYmxlLWNhc3RdIC0gVHlwZSBpcyB2ZXJpZmllZCBhYm92ZVxuICAgIChjb2xvcjogQ29sb3JWYWx1ZSksXG4gICk7XG4gIGlmIChub3JtYWxpemVkQ29sb3IgPT09IHVuZGVmaW5lZCB8fCBub3JtYWxpemVkQ29sb3IgPT09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygbm9ybWFsaXplZENvbG9yID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IHByb2Nlc3NlZENvbG9yT2JqOiA/TmF0aXZlQ29sb3JWYWx1ZSA9XG4gICAgICBwcm9jZXNzQ29sb3JPYmplY3Qobm9ybWFsaXplZENvbG9yKTtcbiAgICBpZiAocHJvY2Vzc2VkQ29sb3JPYmogIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHByb2Nlc3NlZENvbG9yT2JqO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2Ygbm9ybWFsaXplZENvbG9yID09PSAnbnVtYmVyJykge1xuICAgIGNvbnN0IHI6IG51bWJlciA9IChub3JtYWxpemVkQ29sb3IgJiAweGZmMDAwMDAwKSA+Pj4gMjQ7XG4gICAgY29uc3QgZzogbnVtYmVyID0gKG5vcm1hbGl6ZWRDb2xvciAmIDB4MDBmZjAwMDApID4+PiAxNjtcbiAgICBjb25zdCBiOiBudW1iZXIgPSAobm9ybWFsaXplZENvbG9yICYgMHgwMDAwZmYwMCkgPj4+IDg7XG4gICAgY29uc3QgYTogbnVtYmVyID0gKG5vcm1hbGl6ZWRDb2xvciAmIDB4MDAwMDAwZmYpIC8gMjU1O1xuXG4gICAgcmV0dXJuIHtyLCBnLCBiLCBhfTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBpc1JnYmFWYWx1ZSh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgdmFsdWUgJiZcbiAgICB0eXBlb2YgdmFsdWUuciA9PT0gJ251bWJlcicgJiZcbiAgICB0eXBlb2YgdmFsdWUuZyA9PT0gJ251bWJlcicgJiZcbiAgICB0eXBlb2YgdmFsdWUuYiA9PT0gJ251bWJlcicgJiZcbiAgICB0eXBlb2YgdmFsdWUuYSA9PT0gJ251bWJlcidcbiAgKTtcbn1cblxuZnVuY3Rpb24gaXNSZ2JhQW5pbWF0ZWRWYWx1ZSh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgdmFsdWUgJiZcbiAgICB2YWx1ZS5yIGluc3RhbmNlb2YgQW5pbWF0ZWRWYWx1ZSAmJlxuICAgIHZhbHVlLmcgaW5zdGFuY2VvZiBBbmltYXRlZFZhbHVlICYmXG4gICAgdmFsdWUuYiBpbnN0YW5jZW9mIEFuaW1hdGVkVmFsdWUgJiZcbiAgICB2YWx1ZS5hIGluc3RhbmNlb2YgQW5pbWF0ZWRWYWx1ZVxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBbmltYXRlZENvbG9yIGV4dGVuZHMgQW5pbWF0ZWRXaXRoQ2hpbGRyZW4ge1xuICByOiBBbmltYXRlZFZhbHVlO1xuICBnOiBBbmltYXRlZFZhbHVlO1xuICBiOiBBbmltYXRlZFZhbHVlO1xuICBhOiBBbmltYXRlZFZhbHVlO1xuICBuYXRpdmVDb2xvcjogP05hdGl2ZUNvbG9yVmFsdWU7XG5cbiAgX3N1c3BlbmRDYWxsYmFja3M6IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IodmFsdWVJbj86IElucHV0VmFsdWUsIGNvbmZpZz86ID9BbmltYXRlZENvbG9yQ29uZmlnKSB7XG4gICAgc3VwZXIoY29uZmlnKTtcblxuICAgIGxldCB2YWx1ZTogUmdiYVZhbHVlIHwgUmdiYUFuaW1hdGVkVmFsdWUgfCBDb2xvclZhbHVlID1cbiAgICAgIHZhbHVlSW4gPz8gZGVmYXVsdENvbG9yO1xuICAgIGlmIChpc1JnYmFBbmltYXRlZFZhbHVlKHZhbHVlKSkge1xuICAgICAgLy8gJEZsb3dJZ25vcmVbaW5jb21wYXRpYmxlLWNhc3RdIC0gVHlwZSBpcyB2ZXJpZmllZCBhYm92ZVxuICAgICAgY29uc3QgcmdiYUFuaW1hdGVkVmFsdWU6IFJnYmFBbmltYXRlZFZhbHVlID0gKHZhbHVlOiBSZ2JhQW5pbWF0ZWRWYWx1ZSk7XG4gICAgICB0aGlzLnIgPSByZ2JhQW5pbWF0ZWRWYWx1ZS5yO1xuICAgICAgdGhpcy5nID0gcmdiYUFuaW1hdGVkVmFsdWUuZztcbiAgICAgIHRoaXMuYiA9IHJnYmFBbmltYXRlZFZhbHVlLmI7XG4gICAgICB0aGlzLmEgPSByZ2JhQW5pbWF0ZWRWYWx1ZS5hO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBwcm9jZXNzZWRDb2xvcjogUmdiYVZhbHVlIHwgTmF0aXZlQ29sb3JWYWx1ZSA9XG4gICAgICAgIC8vICRGbG93SWdub3JlW2luY29tcGF0aWJsZS1jYXN0XSAtIFR5cGUgaXMgdmVyaWZpZWQgYWJvdmVcbiAgICAgICAgcHJvY2Vzc0NvbG9yKCh2YWx1ZTogQ29sb3JWYWx1ZSB8IFJnYmFWYWx1ZSkpID8/IGRlZmF1bHRDb2xvcjtcbiAgICAgIGxldCBpbml0Q29sb3I6IFJnYmFWYWx1ZSA9IGRlZmF1bHRDb2xvcjtcbiAgICAgIGlmIChpc1JnYmFWYWx1ZShwcm9jZXNzZWRDb2xvcikpIHtcbiAgICAgICAgLy8gJEZsb3dJZ25vcmVbaW5jb21wYXRpYmxlLWNhc3RdIC0gVHlwZSBpcyB2ZXJpZmllZCBhYm92ZVxuICAgICAgICBpbml0Q29sb3IgPSAocHJvY2Vzc2VkQ29sb3I6IFJnYmFWYWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyAkRmxvd0lnbm9yZVtpbmNvbXBhdGlibGUtY2FzdF0gLSBUeXBlIGlzIHZlcmlmaWVkIGFib3ZlXG4gICAgICAgIHRoaXMubmF0aXZlQ29sb3IgPSAocHJvY2Vzc2VkQ29sb3I6IE5hdGl2ZUNvbG9yVmFsdWUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnIgPSBuZXcgQW5pbWF0ZWRWYWx1ZShpbml0Q29sb3Iucik7XG4gICAgICB0aGlzLmcgPSBuZXcgQW5pbWF0ZWRWYWx1ZShpbml0Q29sb3IuZyk7XG4gICAgICB0aGlzLmIgPSBuZXcgQW5pbWF0ZWRWYWx1ZShpbml0Q29sb3IuYik7XG4gICAgICB0aGlzLmEgPSBuZXcgQW5pbWF0ZWRWYWx1ZShpbml0Q29sb3IuYSk7XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZz8udXNlTmF0aXZlRHJpdmVyKSB7XG4gICAgICB0aGlzLl9fbWFrZU5hdGl2ZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEaXJlY3RseSBzZXQgdGhlIHZhbHVlLiBUaGlzIHdpbGwgc3RvcCBhbnkgYW5pbWF0aW9ucyBydW5uaW5nIG9uIHRoZSB2YWx1ZVxuICAgKiBhbmQgdXBkYXRlIGFsbCB0aGUgYm91bmQgcHJvcGVydGllcy5cbiAgICovXG4gIHNldFZhbHVlKHZhbHVlOiBSZ2JhVmFsdWUgfCBDb2xvclZhbHVlKTogdm9pZCB7XG4gICAgbGV0IHNob3VsZFVwZGF0ZU5vZGVDb25maWcgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5fX2lzTmF0aXZlKSB7XG4gICAgICBjb25zdCBuYXRpdmVUYWcgPSB0aGlzLl9fZ2V0TmF0aXZlVGFnKCk7XG4gICAgICBOYXRpdmVBbmltYXRlZEFQSS5zZXRXYWl0aW5nRm9ySWRlbnRpZmllcihuYXRpdmVUYWcudG9TdHJpbmcoKSk7XG4gICAgfVxuXG4gICAgY29uc3QgcHJvY2Vzc2VkQ29sb3I6IFJnYmFWYWx1ZSB8IE5hdGl2ZUNvbG9yVmFsdWUgPVxuICAgICAgcHJvY2Vzc0NvbG9yKHZhbHVlKSA/PyBkZWZhdWx0Q29sb3I7XG4gICAgdGhpcy5fd2l0aFN1c3BlbmRlZENhbGxiYWNrcygoKSA9PiB7XG4gICAgICBpZiAoaXNSZ2JhVmFsdWUocHJvY2Vzc2VkQ29sb3IpKSB7XG4gICAgICAgIC8vICRGbG93SWdub3JlW2luY29tcGF0aWJsZS10eXBlXSAtIFR5cGUgaXMgdmVyaWZpZWQgYWJvdmVcbiAgICAgICAgY29uc3QgcmdiYVZhbHVlOiBSZ2JhVmFsdWUgPSBwcm9jZXNzZWRDb2xvcjtcbiAgICAgICAgdGhpcy5yLnNldFZhbHVlKHJnYmFWYWx1ZS5yKTtcbiAgICAgICAgdGhpcy5nLnNldFZhbHVlKHJnYmFWYWx1ZS5nKTtcbiAgICAgICAgdGhpcy5iLnNldFZhbHVlKHJnYmFWYWx1ZS5iKTtcbiAgICAgICAgdGhpcy5hLnNldFZhbHVlKHJnYmFWYWx1ZS5hKTtcbiAgICAgICAgaWYgKHRoaXMubmF0aXZlQ29sb3IgIT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMubmF0aXZlQ29sb3IgPSBudWxsO1xuICAgICAgICAgIHNob3VsZFVwZGF0ZU5vZGVDb25maWcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyAkRmxvd0lnbm9yZVtpbmNvbXBhdGlibGUtdHlwZV0gLSBUeXBlIGlzIHZlcmlmaWVkIGFib3ZlXG4gICAgICAgIGNvbnN0IG5hdGl2ZUNvbG9yOiBOYXRpdmVDb2xvclZhbHVlID0gcHJvY2Vzc2VkQ29sb3I7XG4gICAgICAgIGlmICh0aGlzLm5hdGl2ZUNvbG9yICE9PSBuYXRpdmVDb2xvcikge1xuICAgICAgICAgIHRoaXMubmF0aXZlQ29sb3IgPSBuYXRpdmVDb2xvcjtcbiAgICAgICAgICBzaG91bGRVcGRhdGVOb2RlQ29uZmlnID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMuX19pc05hdGl2ZSkge1xuICAgICAgY29uc3QgbmF0aXZlVGFnID0gdGhpcy5fX2dldE5hdGl2ZVRhZygpO1xuICAgICAgaWYgKHNob3VsZFVwZGF0ZU5vZGVDb25maWcpIHtcbiAgICAgICAgTmF0aXZlQW5pbWF0ZWRBUEkudXBkYXRlQW5pbWF0ZWROb2RlQ29uZmlnKFxuICAgICAgICAgIG5hdGl2ZVRhZyxcbiAgICAgICAgICB0aGlzLl9fZ2V0TmF0aXZlQ29uZmlnKCksXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBOYXRpdmVBbmltYXRlZEFQSS51bnNldFdhaXRpbmdGb3JJZGVudGlmaWVyKG5hdGl2ZVRhZy50b1N0cmluZygpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmx1c2hWYWx1ZSh0aGlzKTtcbiAgICB9XG5cbiAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1jYWxsXVxuICAgIHRoaXMuX19jYWxsTGlzdGVuZXJzKHRoaXMuX19nZXRWYWx1ZSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGFuIG9mZnNldCB0aGF0IGlzIGFwcGxpZWQgb24gdG9wIG9mIHdoYXRldmVyIHZhbHVlIGlzIHNldCwgd2hldGhlclxuICAgKiB2aWEgYHNldFZhbHVlYCwgYW4gYW5pbWF0aW9uLCBvciBgQW5pbWF0ZWQuZXZlbnRgLiBVc2VmdWwgZm9yIGNvbXBlbnNhdGluZ1xuICAgKiB0aGluZ3MgbGlrZSB0aGUgc3RhcnQgb2YgYSBwYW4gZ2VzdHVyZS5cbiAgICovXG4gIHNldE9mZnNldChvZmZzZXQ6IFJnYmFWYWx1ZSk6IHZvaWQge1xuICAgIHRoaXMuci5zZXRPZmZzZXQob2Zmc2V0LnIpO1xuICAgIHRoaXMuZy5zZXRPZmZzZXQob2Zmc2V0LmcpO1xuICAgIHRoaXMuYi5zZXRPZmZzZXQob2Zmc2V0LmIpO1xuICAgIHRoaXMuYS5zZXRPZmZzZXQob2Zmc2V0LmEpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1lcmdlcyB0aGUgb2Zmc2V0IHZhbHVlIGludG8gdGhlIGJhc2UgdmFsdWUgYW5kIHJlc2V0cyB0aGUgb2Zmc2V0IHRvIHplcm8uXG4gICAqIFRoZSBmaW5hbCBvdXRwdXQgb2YgdGhlIHZhbHVlIGlzIHVuY2hhbmdlZC5cbiAgICovXG4gIGZsYXR0ZW5PZmZzZXQoKTogdm9pZCB7XG4gICAgdGhpcy5yLmZsYXR0ZW5PZmZzZXQoKTtcbiAgICB0aGlzLmcuZmxhdHRlbk9mZnNldCgpO1xuICAgIHRoaXMuYi5mbGF0dGVuT2Zmc2V0KCk7XG4gICAgdGhpcy5hLmZsYXR0ZW5PZmZzZXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBvZmZzZXQgdmFsdWUgdG8gdGhlIGJhc2UgdmFsdWUsIGFuZCByZXNldHMgdGhlIGJhc2UgdmFsdWUgdG9cbiAgICogemVyby4gVGhlIGZpbmFsIG91dHB1dCBvZiB0aGUgdmFsdWUgaXMgdW5jaGFuZ2VkLlxuICAgKi9cbiAgZXh0cmFjdE9mZnNldCgpOiB2b2lkIHtcbiAgICB0aGlzLnIuZXh0cmFjdE9mZnNldCgpO1xuICAgIHRoaXMuZy5leHRyYWN0T2Zmc2V0KCk7XG4gICAgdGhpcy5iLmV4dHJhY3RPZmZzZXQoKTtcbiAgICB0aGlzLmEuZXh0cmFjdE9mZnNldCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3BzIGFueSBydW5uaW5nIGFuaW1hdGlvbiBvciB0cmFja2luZy4gYGNhbGxiYWNrYCBpcyBpbnZva2VkIHdpdGggdGhlXG4gICAqIGZpbmFsIHZhbHVlIGFmdGVyIHN0b3BwaW5nIHRoZSBhbmltYXRpb24sIHdoaWNoIGlzIHVzZWZ1bCBmb3IgdXBkYXRpbmdcbiAgICogc3RhdGUgdG8gbWF0Y2ggdGhlIGFuaW1hdGlvbiBwb3NpdGlvbiB3aXRoIGxheW91dC5cbiAgICovXG4gIHN0b3BBbmltYXRpb24oY2FsbGJhY2s/OiBDb2xvckxpc3RlbmVyQ2FsbGJhY2spOiB2b2lkIHtcbiAgICB0aGlzLnIuc3RvcEFuaW1hdGlvbigpO1xuICAgIHRoaXMuZy5zdG9wQW5pbWF0aW9uKCk7XG4gICAgdGhpcy5iLnN0b3BBbmltYXRpb24oKTtcbiAgICB0aGlzLmEuc3RvcEFuaW1hdGlvbigpO1xuICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHRoaXMuX19nZXRWYWx1ZSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wcyBhbnkgYW5pbWF0aW9uIGFuZCByZXNldHMgdGhlIHZhbHVlIHRvIGl0cyBvcmlnaW5hbC5cbiAgICovXG4gIHJlc2V0QW5pbWF0aW9uKGNhbGxiYWNrPzogQ29sb3JMaXN0ZW5lckNhbGxiYWNrKTogdm9pZCB7XG4gICAgdGhpcy5yLnJlc2V0QW5pbWF0aW9uKCk7XG4gICAgdGhpcy5nLnJlc2V0QW5pbWF0aW9uKCk7XG4gICAgdGhpcy5iLnJlc2V0QW5pbWF0aW9uKCk7XG4gICAgdGhpcy5hLnJlc2V0QW5pbWF0aW9uKCk7XG4gICAgY2FsbGJhY2sgJiYgY2FsbGJhY2sodGhpcy5fX2dldFZhbHVlKCkpO1xuICB9XG5cbiAgX19nZXRWYWx1ZSgpOiBDb2xvclZhbHVlIHtcbiAgICBpZiAodGhpcy5uYXRpdmVDb2xvciAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gdGhpcy5uYXRpdmVDb2xvcjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGByZ2JhKCR7dGhpcy5yLl9fZ2V0VmFsdWUoKX0sICR7dGhpcy5nLl9fZ2V0VmFsdWUoKX0sICR7dGhpcy5iLl9fZ2V0VmFsdWUoKX0sICR7dGhpcy5hLl9fZ2V0VmFsdWUoKX0pYDtcbiAgICB9XG4gIH1cblxuICBfX2F0dGFjaCgpOiB2b2lkIHtcbiAgICB0aGlzLnIuX19hZGRDaGlsZCh0aGlzKTtcbiAgICB0aGlzLmcuX19hZGRDaGlsZCh0aGlzKTtcbiAgICB0aGlzLmIuX19hZGRDaGlsZCh0aGlzKTtcbiAgICB0aGlzLmEuX19hZGRDaGlsZCh0aGlzKTtcbiAgICBzdXBlci5fX2F0dGFjaCgpO1xuICB9XG5cbiAgX19kZXRhY2goKTogdm9pZCB7XG4gICAgdGhpcy5yLl9fcmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgdGhpcy5nLl9fcmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgdGhpcy5iLl9fcmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgdGhpcy5hLl9fcmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgc3VwZXIuX19kZXRhY2goKTtcbiAgfVxuXG4gIF93aXRoU3VzcGVuZGVkQ2FsbGJhY2tzKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5fc3VzcGVuZENhbGxiYWNrcysrO1xuICAgIGNhbGxiYWNrKCk7XG4gICAgdGhpcy5fc3VzcGVuZENhbGxiYWNrcy0tO1xuICB9XG5cbiAgX19jYWxsTGlzdGVuZXJzKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fc3VzcGVuZENhbGxiYWNrcyA9PT0gMCkge1xuICAgICAgc3VwZXIuX19jYWxsTGlzdGVuZXJzKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBfX21ha2VOYXRpdmUocGxhdGZvcm1Db25maWc6ID9QbGF0Zm9ybUNvbmZpZykge1xuICAgIHRoaXMuci5fX21ha2VOYXRpdmUocGxhdGZvcm1Db25maWcpO1xuICAgIHRoaXMuZy5fX21ha2VOYXRpdmUocGxhdGZvcm1Db25maWcpO1xuICAgIHRoaXMuYi5fX21ha2VOYXRpdmUocGxhdGZvcm1Db25maWcpO1xuICAgIHRoaXMuYS5fX21ha2VOYXRpdmUocGxhdGZvcm1Db25maWcpO1xuICAgIHN1cGVyLl9fbWFrZU5hdGl2ZShwbGF0Zm9ybUNvbmZpZyk7XG4gIH1cblxuICBfX2dldE5hdGl2ZUNvbmZpZygpOiB7Li4ufSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdjb2xvcicsXG4gICAgICByOiB0aGlzLnIuX19nZXROYXRpdmVUYWcoKSxcbiAgICAgIGc6IHRoaXMuZy5fX2dldE5hdGl2ZVRhZygpLFxuICAgICAgYjogdGhpcy5iLl9fZ2V0TmF0aXZlVGFnKCksXG4gICAgICBhOiB0aGlzLmEuX19nZXROYXRpdmVUYWcoKSxcbiAgICAgIG5hdGl2ZUNvbG9yOiB0aGlzLm5hdGl2ZUNvbG9yLFxuICAgICAgZGVidWdJRDogdGhpcy5fX2dldERlYnVnSUQoKSxcbiAgICB9O1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQVVBLFlBQVk7O0FBQUMsSUFBQUEsdUJBQUEsR0FBQUMsT0FBQSxrREFBQUMsT0FBQTtBQUFBLElBQUFDLHNCQUFBLEdBQUFGLE9BQUEsaURBQUFDLE9BQUE7QUFBQUUsTUFBQSxDQUFBQyxjQUFBLENBQUFDLE9BQUE7RUFBQUMsS0FBQTtBQUFBO0FBQUFELE9BQUEsQ0FBQUosT0FBQTtBQUFBLElBQUFNLGdCQUFBLEdBQUFMLHNCQUFBLENBQUFGLE9BQUE7QUFBQSxJQUFBUSxhQUFBLEdBQUFOLHNCQUFBLENBQUFGLE9BQUE7QUFBQSxJQUFBUyxXQUFBLEdBQUFQLHNCQUFBLENBQUFGLE9BQUE7QUFBQSxJQUFBVSxjQUFBLEdBQUFSLHNCQUFBLENBQUFGLE9BQUE7QUFBQSxJQUFBVyxVQUFBLEdBQUFULHNCQUFBLENBQUFGLE9BQUE7QUFRYixJQUFBWSxxQkFBQSxHQUFBVixzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQWEsZUFBQSxHQUFBWCxzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQWMsd0JBQUEsR0FBQWQsT0FBQTtBQUNBLElBQUFlLGNBQUEsR0FBQWhCLHVCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBZ0Isc0JBQUEsR0FBQWQsc0JBQUEsQ0FBQUYsT0FBQTtBQTJCQSxJQUFNaUIsaUJBQWlCLEdBQUdDLDZCQUFvQixDQUFDQyxHQUFHO0FBRWxELElBQU1DLFlBQXVCLEdBQUc7RUFBQ0MsQ0FBQyxFQUFFLENBQUM7RUFBRUMsQ0FBQyxF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