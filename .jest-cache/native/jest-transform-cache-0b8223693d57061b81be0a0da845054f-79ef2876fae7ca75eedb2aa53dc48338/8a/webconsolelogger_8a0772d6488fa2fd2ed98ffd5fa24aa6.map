{"version":3,"names":["LOG_RECEIVER_URL","process","_process$env","env","EXPO_PUBLIC_DEBUG_LOG_URL","isWebDev","__DEV__","document","formatArgs","args","map","a","Error","message","stack","JSON","stringify","_unused","String","join","send","level","fetch","method","headers","body","keepalive","catch","_","origLog","console","log","origWarn","warn","origError","error","_len","arguments","length","Array","_key","apply","_len2","_key2","_len3","_key3","window","addEventListener","e","_e$error","filename","lineno","_e$reason$message","_e$reason","reason"],"sources":["web-console-logger.js"],"sourcesContent":["/**\n * Development-only: intercept console.log/warn/error on web and send to debug log receiver.\n * Persists to debug/web-debug.log when scripts/debug/web-log-receiver.mjs is running.\n * No-op on native and in production; safe to import from root layout.\n */\nconst LOG_RECEIVER_URL =\n  (typeof process !== 'undefined' && process.env?.EXPO_PUBLIC_DEBUG_LOG_URL) ||\n  'http://127.0.0.1:9966/log';\n\nfunction isWebDev() {\n  return typeof __DEV__ !== 'undefined' && __DEV__ && typeof document !== 'undefined';\n}\n\nfunction formatArgs(args) {\n  return args\n    .map((a) => {\n      if (a instanceof Error) return `${a.message}\\n${a.stack || ''}`;\n      if (typeof a === 'object') try { return JSON.stringify(a); } catch { return String(a); }\n      return String(a);\n    })\n    .join(' ');\n}\n\nfunction send(level, message) {\n  try {\n    fetch(LOG_RECEIVER_URL, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ level, message }),\n      keepalive: true,\n    }).catch(() => {});\n  } catch (_) {}\n}\n\nif (isWebDev()) {\n  const origLog = console.log;\n  const origWarn = console.warn;\n  const origError = console.error;\n\n  console.log = function (...args) {\n    origLog.apply(console, args);\n    send('log', formatArgs(args));\n  };\n  console.warn = function (...args) {\n    origWarn.apply(console, args);\n    send('warn', formatArgs(args));\n  };\n  console.error = function (...args) {\n    origError.apply(console, args);\n    send('error', formatArgs(args));\n  };\n\n  window.addEventListener('error', (e) => {\n    send('error', `Uncaught: ${e.message}\\n${e.filename}:${e.lineno}\\n${e.error?.stack || ''}`);\n  });\n  window.addEventListener('unhandledrejection', (e) => {\n    send('error', `Unhandled rejection: ${e.reason?.message ?? String(e.reason)}`);\n  });\n}\n"],"mappings":"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","ignoreList":[]}