---
alwaysApply: true
---

# Internationalization (i18n) & Localization Standards

## Purpose
Ensure every user-facing string is translatable for a consistent, accessible experience across Android, iOS, and Web, with minimal dependencies.

## Core Rules

1. **No Hardcoded UI Text**
   - All user-visible text must use `t()` or `tSync()` from `useI18n()`.
   - Applies to all UI text: labels, placeholders, button text, error/success messages, tooltips, accessibility text, titles, navigation, forms, state messages, etc.
   - *Exceptions*: Technical data (IDs, keys, API endpoints) and untranslatable brand names.

2. **Translation Key Consistency**
   - Every translation key must exist in every locale file.
   - No key may be missing from any supported language.

3. **Stable, Descriptive Key Naming**
   - Use dot notation reflecting domain/feature structure (e.g., `auth.login`, `errors.networkError`).
   - Group keys by logical area (e.g., `common.*`, `forms.*`, `errors.*`, `navigation.*`).
   - Avoid generic or unstable names (e.g., `text1`, `labelX`).

4. **Automated & Manual Enforcement**
   - No hardcoded strings allowed in UI code (JSX/TSX).
   - All new keys must be present in all locale files before use.
   - All visible error, form, accessibility, and non-dev user logs must be internationalized.
   - **Automation:** Linters/checks flag hardcoded UI strings and missing keys; tests validate key presence.
   - **Review:** Code reviews verify full i18n coverage.

## Source of Truth

All translations must live exclusively in `src/i18n/locales/`. This folder is the single source of user-facing strings.

### Folder Structure

```txt
src/i18n/
  ├── index.js              # i18n bootstrap
  └── locales/
      ├── en.json    # English (default)
      └── <locale>.json
```

### Supported Languages
Supported locales are **project-specific** and must be documented in `dev-plan/`. In code and tests, the effective set of supported locales is defined by the JSON files present in `src/i18n/locales/`.

### Locale File Order (Development vs Finalization)
- **During development**: Only **en.json** is created and updated. All new translation keys are added to `src/i18n/locales/en.json` as features and screens are built. No other locale files are created or updated in this period.
- **Other locales last**: All other locale files (e.g. the remaining 21 languages) are **defined and developed last**, in the Finalization phase. They are **derived from en.json** (same key structure; values translated). Do not create or maintain non-English locale files until en.json is complete and the Finalization phase creates them from en.json.

## Usage

```javascript
// Correct: uses i18n system
import { useI18n } from '@hooks';
const { t } = useI18n();
<Text>{t('common.save')}</Text>

// Incorrect: hardcoded string (not allowed)
<Text>Save</Text>
```

## Implementation Standards

- Use native `Intl` APIs for formatting numbers, dates, and currency.
- Language defaults to device/browser locale but allows persistent user override; always fallback to English if missing.
- Never crash on missing translations; always fallback to `en`. Optionally warn outside production.
- Support RTL (right-to-left) languages for both text and layout direction.
- All error messages delivered to UI must be internationalized.
- Avoid unnecessary external i18n dependencies. Use polyfills for essential missing `Intl` support only.

## Process for Adding New Translations

1. **During development**: Add new translation keys to **en.json only** (`src/i18n/locales/en.json`) before usage in code. Other locale files are added in Finalization and derived from en.json.
2. Reference only via `t()` or `tSync()`, never with string literals.
3. **In Finalization**: Create other locale files from en.json (same keys; translate values). Validate appearance in all supported languages.
4. Update this standard if organizational structure changes.
